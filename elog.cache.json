{
  "docs": [
    {
      "id": "003fd62e-3f11-47f8-8479-9eb728ac6df8",
      "doc_id": "003fd62e-3f11-47f8-8479-9eb728ac6df8",
      "updated": 1695779340000,
      "body_original": "\n# æ¨è\n\n\næˆ‘ç›®å‰å·²ç»ä¸å‚ä¸[yuque-hexo](https://github.com/x-cold/yuque-hexo)åº“ç»´æŠ¤äº†ã€‚æ¨èä½¿ç”¨æˆ‘è‡ªå·±å¼€å‘çš„Elogâ€”â€”å¼€æ”¾å¼è·¨å¹³å°åšå®¢è§£å†³æ–¹æ¡ˆã€‚æ— è®ºæ˜¯ä»å¤´æ­å»ºè‡ªå·±çš„åšå®¢è¿˜æ˜¯å¤‡ä»½çº¿ä¸Šåšå®¢ï¼ŒElogéƒ½æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚è€Œä¸”æ”¯æŒä¸å¼€è¯­é›€ä¼šå‘˜ä¹Ÿèƒ½å¯¼å‡ºmdæ–‡æ¡£ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒNotionã€FlowUså†™ä½œå¹³å°ã€‚\n\n\nGithubåœ°å€ï¼š[https://github.com/LetTTGACO/elog](https://github.com/LetTTGACO/elog)\nElogä½¿ç”¨æ–‡æ¡£ï¼š[https://elog.1874.cool](https://elog.1874.cool/)\n\n\n# å¼•è¨€\n\n\nåœ¨ä½¿ç”¨[yuque-hexo](https://github.com/x-cold/yuque-hexo)åŒæ­¥æ–‡ç« åˆ°åšå®¢åï¼Œç”±äºè¯­é›€çš„å›¾ç‰‡ç”±æœ‰é˜²ç›—é“¾çš„é™åˆ¶ï¼Œä¼šå¯¼è‡´éƒ¨ç½²åï¼Œåšå®¢ç½‘ç«™æ˜¾ç¤ºå›¾ç‰‡å¼‚å¸¸ã€‚ å¤„ç†åŠæ³•æœ‰ä¸¤ç§ï¼š\n\n1. åœ¨è¯­é›€ä¸Šä½¿ç”¨å›¾ç‰‡çš„æ—¶å€™ï¼Œé¿å¼€ç›´æ¥å¤åˆ¶å›¾ç‰‡åˆ°è¯­é›€ã€‚å…ˆå°†å›¾ç‰‡ä¸Šä¼ åˆ°è‡ªå·±çš„å›¾åºŠåï¼Œç›´æ¥ä½¿ç”¨`markdown`çš„å›¾ç‰‡è¯­æ³•ï¼š`![](https://xxxx.com/a.jpg)`æ’å…¥å›¾ç‰‡åˆ°é€‚å½“ä½ç½®ï¼Œä¾‹å¦‚ï¼š\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FioacWCiuPFjNteg-vR3cLc1WLxS.png)\n\n1. ä¸ºäº†ä¸ç ´åè¯­é›€ç¼–è¾‘å™¨çš„ä½“éªŒï¼Œæˆ‘ä¿®æ”¹äº†`yuque-hexo`çš„æºä»£ç ï¼Œå‘å¸ƒäº†`yuqe-hexo-with-cdn`æ’ä»¶ã€‚é€‚é…äº†å°†è¯­é›€ä¸­çš„å›¾ç‰‡ä¸Šä¼ åˆ°è…¾è®¯äº‘ COS å›¾åºŠåï¼Œå°†åŸæœ‰çš„è¯­é›€å›¾ç‰‡é“¾æ¥æ›¿æ¢æ‰ã€‚\n\n# yuqe-hexo-with-cdn æ’ä»¶\n\n\nä½¿ç”¨æ–‡æ¡£è¯´æ˜ï¼š[yuqe-hexo-with-cdn](https://github.com/LetTTGACO/yuque-hexo-with-cdn)\n\n\n> ç›®å‰x-codeå·²ç»å°†æˆ‘çš„æ–¹æ¡ˆåˆå¹¶åˆ°ä¸»åˆ†æ”¯äº†ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨[yuque-hexo](https://github.com/x-cold/yuque-hexo)è¿›è¡Œé…ç½®\n\n\n## æ”¹é€ æ€è·¯\n\n\n### åŸ yuque-hexo ç”Ÿæˆ.md æ–‡ç« ç®€æ˜“æµç¨‹\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fmw6JzWt77eNl8bZEjm9DfXkUzvi.png)\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FvbBK8CcTjuw-otaGM04maJnn5bL.jpeg)\n\n\n### yuqe-hexo-with-cdn æ”¹é€ æ€è·¯\n\n\næ•´ä½“æ€è·¯ä¸»è¦æ˜¯åœ¨ç”Ÿæˆ`yuque.json`ä¹‹å‰è¿›è¡Œè¯­é›€å›¾ç‰‡çš„æ›¿æ¢\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FkKB938kloJ_Q8sFG9mMSGIU1x5s.png)\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FrYOy2OlY8r1quTwMxbUF3ditE-E.jpeg)\n\n\nå…·ä½“å®ç°æµç¨‹\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FucxIXLK1tooOCX012sNpAtppMRc.png)\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fuji-vgBnpY7Yg3Tev-jZ-DbnDDP.jpeg)\n\n\n## å…·ä½“å®ç°\n\n\n```javascript\n// mockæ•°æ®æ ¼å¼ä½œä¸ºå‚è€ƒ\nconst article = {\n  title: 'åšå®¢æ ‡é¢˜',\n  body: 'å›¾ç‰‡1ï¼š![image.png](https://dfas.qqc/test1.png#a=1) å›¾ç‰‡2:![image.png](https://dfas.qqc/test2.png#a=1)'\n}\n\n// è·å–è¯­é›€çš„å›¾ç‰‡é“¾æ¥çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œè¿”å›åŒ¹é…åˆ°çš„å¤šæ¡è®°å½•\nconst imageUrlRegExp = /!\\[(.*?)]\\((.*?)\\)/mg;\n\nasync function img2Cos(article) {\n  // 1. ä»æ–‡ç« ä¸­è·å–è¯­é›€çš„å›¾ç‰‡URLåˆ—è¡¨\n  const matchYuqueImgUrlList = article.body.match(imageUrlRegExp);\n  // matchYuqueImgUrlList: [\"![image.png](https://dfas.qqc/test1.png#a=1)\", \"![image.png](https://dfas.qqc/test2.png#a=1)\"]\n\n  // å¦‚æœæ²¡æœ‰åŒ¹é…åˆ°ï¼Œè¯´æ˜è¯¥æ–‡ç« ä¸å­˜åœ¨å›¾ç‰‡\n  if (!matchYuqueImgUrlList) return article;\n  \n  // å¾ªç¯åˆ—è¡¨è¿›è¡Œå¤„ç†\n  const promiseList = matchYuqueImgUrlList.map(async matchYuqueImgUrl => {\n    \n    // è·å–çœŸæ­£çš„å›¾ç‰‡url\n    const yuqueImgUrl = getImgUrl(matchYuqueImgUrl);\n    // yuqueImgUrl: https://dfas.qqc/test1.png#a=1\n    \n    // 2.å°†å›¾ç‰‡è½¬æˆbufferæ–‡ä»¶\n    const imgBuffer = await img2Buffer(yuqueImgUrl);\n    \n    // å¦‚æœè§£æé”™è¯¯ï¼Œè¯´æ˜å›¾ç‰‡æœ‰é—®é¢˜ï¼Œç›´æ¥è·³è¿‡åç»­æ­¥éª¤\n    if (!imgBuffer) {\n      return {\n        originalUrl: matchYuqueImgUrl,\n        yuqueRealImgUrl: yuqueImgUrl,\n        url: yuqueImgUrl,\n      };\n    }\n    // 3. æ ¹æ®bufferæ–‡ä»¶ç”Ÿæˆå”¯ä¸€çš„hashæ–‡ä»¶å\n    const fileName = await getFileName(imgBuffer, yuqueImgUrl);\n    // fileName: abcdefg-tudnamdana.png\n    \n    try {\n      // 4. æ£€æŸ¥å›¾åºŠä¸­æ˜¯å¦å­˜åœ¨è¯¥æ–‡ä»¶\n      let url = await hasObject(fileName);\n      // å­˜åœ¨ï¼šurl: è…¾è®¯äº‘å›¾åºŠé“¾æ¥\n      // ä¸å­˜åœ¨ url: ''\n      \n      // 5. å¦‚æœå›¾åºŠå·²ç»å­˜åœ¨ï¼Œç›´æ¥æ›¿æ¢\n      // \t\tå¦‚æœå›¾åºŠä¸å­˜åœ¨ï¼Œåˆ™å…ˆä¸Šä¼ åˆ°å›¾åºŠï¼Œå†å°†åŸæœ¬çš„è¯­é›€urlè¿›è¡Œæ›¿æ¢\n      if (!url) {\n        url = await uploadImg(imgBuffer, fileName);\n        // url: è…¾è®¯äº‘å›¾åºŠé“¾æ¥\n      }\n      return {\n        // åŸå§‹çš„è¯­é›€å›¾ç‰‡ï¼šoriginalUrl: ![image.png](https://dfas.qqc/test1.png#a=1)\n        originalUrl: matchYuqueImgUrl,\n        // çœŸæ­£çš„è¯­é›€å›¾ç‰‡ï¼šyuqueRealImgUrl: https://dfas.qqc/test1.png\n        yuqueRealImgUrl: yuqueImgUrl,\n        // å›¾åºŠä¸­çš„å›¾ç‰‡ï¼šurl: è…¾è®¯äº‘å›¾åºŠé“¾æ¥\n        url,\n      };\n    } catch (e) {\n      out.error(`è®¿é—®COSå‡ºé”™ï¼Œè¯·æ£€æŸ¥é…ç½®: ${e}`);\n      process.exit(-1);\n    }\n  })\n  \n  // å¾—åˆ°å›¾ç‰‡å¯¹è±¡æ•°ç»„\n  const urlList = await Promise.all(promiseList);\n  // [\n  //   {\n  //     originalUrl: \"![image.png](https://dfas.qqc/test1.png#a=1)\",\n  //     yuqueRealImgUrl: \"https://dfas.qqc/test1.png\",\n  //     url: \"è…¾è®¯äº‘å›¾åºŠé“¾æ¥1\"\n  //   },\n  //   {\n  //     originalUrl: \"![image.png](https://dfas.qqc/test2.png#a=1)\",\n  //     yuqueRealImgUrl: \"https://dfas.qqc/test2.png\",\n  //     url: \"è…¾è®¯äº‘å›¾åºŠé“¾æ¥2\"\n  //   }\n  // ]\n  \n  // 6. å°†è¯­é›€å›¾ç‰‡é“¾æ¥è¿›è¡Œæ›¿æ¢\n  urlList.forEach(function(url) {\n    if (url) {\n      article.body = article.body.replace(url.originalUrl, `![](${url.url})`);\n      out.info(`replace ${url.yuqueRealImgUrl} to ${url.url}`);\n    }\n  });\n  \n  // 7. è¿”å›æ–°çš„æ–‡ç« å¯¹è±¡\n  return article;\n  // article: {\n  //   title: 'åšå®¢æ ‡é¢˜',\n  //   body: 'å›¾ç‰‡1ï¼š![](è…¾è®¯äº‘å›¾åºŠé“¾æ¥1) å›¾ç‰‡2:![](è…¾è®¯äº‘å›¾åºŠé“¾æ¥2)'\n  // }\n}\n\n\n// å·¥å…·ç±»\n\n// ä»markdownæ ¼å¼çš„urlä¸­è·å–url\nfunction getImgUrl(markdownImgUrl) {\n  const _temp = markdownImgUrl.replace(/\\!\\[(.*?)]\\(/, '');\n  const _temp_index = _temp.indexOf(')');\n  // å¾—åˆ°çœŸæ­£çš„è¯­é›€çš„url\n  return _temp.substring(0, _temp_index)\n    .split('#')[0];\n}\n\n// å°†å›¾ç‰‡è½¬æˆbuffer\n// è¿™é‡Œç”¨åˆ°äº†superagentåº“è¿›è¡Œè½¬æ¢\nasync function img2Buffer(yuqueImgUrl) {\n  return await new Promise(async function(resolve) {\n    try {\n      await superagent\n        .get(yuqueImgUrl)\n        .buffer(true)\n        .parse(res => {\n          const buffer = [];\n          res.on('data', chunk => {\n            buffer.push(chunk);\n          });\n          res.on('end', () => {\n            const data = Buffer.concat(buffer);\n            resolve(data);\n          });\n        });\n    } catch (e) {\n      // éæ³•å›¾ç‰‡è¿”å›null\n      out.warn(`invalid img: ${yuqueImgUrl}`);\n      resolve(null);\n    }\n  });\n}\n\n// æ ¹æ®æ–‡ä»¶å†…å®¹è·å–å”¯ä¸€æ–‡ä»¶åç§°\n// è¿™é‡Œç”¨åˆ°äº†å¼€æºçš„ä¸ƒç‰›äº‘çš„ç®—æ³•ï¼Œè¯¦æƒ…ï¼šhttps://juejin.cn/post/6844903775660933133\nasync function getFileName(imgBuffer, yuqueImgUrl) {\n  return new Promise(resolve => {\n    getEtag(imgBuffer, hash => {\n      const imgName = hash;\n      // è·å–æ–‡ä»¶ååç¼€\n      const imgSuffix = yuqueImgUrl.substring(yuqueImgUrl.lastIndexOf('.'));\n      // æ‹¼æ¥æ–‡ä»¶å\n      const fileName = `${imgName}${imgSuffix}`;\n      // è¿”å›æ–‡ä»¶å\n      resolve(fileName);\n    });\n  });\n}\n\n// æ£€æŸ¥COSæ˜¯å¦å·²ç»å­˜åœ¨å›¾ç‰‡ï¼Œå­˜åœ¨åˆ™è¿”å›url\nasync function hasObject(fileName) {\n  // prefixKey: blog-image\n  \n  if (!bucket.length || !region.length) {\n    out.error('è¯·æ£€æŸ¥COSé…ç½®');\n    process.exit(-1);\n  }\n  return new Promise(resolve => {\n    cos.headObject({\n      Bucket: bucket, // å­˜å‚¨æ¡¶åå­—ï¼ˆå¿…é¡»ï¼‰\n      Region: region, // å­˜å‚¨æ¡¶æ‰€åœ¨åœ°åŸŸï¼Œå¿…é¡»å­—æ®µ\n      Key: `${prefixKey}/${fileName}`, //  æ–‡ä»¶å  å¿…é¡»\n    }, function(err, data) {\n      if (data) {\n        // æ‹¼æ¥è…¾è®¯äº‘å›¾åºŠçš„å›¾ç‰‡URL\n        const url = `https://${bucket}.cos.${region}.myqcloud.com/${prefixKey}/${fileName}`;\n        resolve(url);\n      } else {\n        // ä¸å­˜åœ¨è¿”å›ç©º\n        resolve('');\n      }\n    });\n  });\n}\n\n\n// ä¸Šä¼ å›¾ç‰‡åˆ°COS\nasync function uploadImg(imgBuffer, fileName) {\n  return new Promise((resolve, reject) => {\n    cos.putObject({\n      Bucket: bucket, // å­˜å‚¨æ¡¶åå­—ï¼ˆå¿…é¡»ï¼‰\n      Region: region, // å­˜å‚¨æ¡¶æ‰€åœ¨åœ°åŸŸï¼Œå¿…é¡»å­—æ®µ\n      Key: `${prefixKey}/${fileName}`, //  æ–‡ä»¶å  å¿…é¡»\n      StorageClass: 'STANDARD', // ä¸Šä¼ æ¨¡å¼ï¼ˆæ ‡å‡†æ¨¡å¼ï¼‰\n      Body: imgBuffer, // ä¸Šä¼ æ–‡ä»¶å¯¹è±¡\n    }, function(err, data) {\n      if (data) {\n        // è¿”å›å›¾ç‰‡é“¾æ¥\n        resolve(`https://${data.Location}`);\n      }\n      if (err) {\n        reject(err);\n      }\n    });\n  });\n}\n```\n\n\n# å¸¸è§é—®é¢˜\n\n\n## è¯­é›€çš„æµç¨‹å›¾/æ–‡æœ¬ç»˜å›¾ç­‰ä¸é€‚é…\n\n\nè¯­é›€çš„æµç¨‹å›¾/æ–‡æœ¬ç»˜å›¾ç­‰æ— æ³•ç”Ÿæˆ markdown å±•ç¤ºï¼Œæ‰€ä»¥æˆ‘çš„åšæ³•æ˜¯ï¼Œåœ¨è¯­é›€ç¼–è¾‘å™¨ä¹¦å†™çš„æ—¶å€™ï¼Œå…ˆç¼–å†™æµç¨‹å›¾ï¼Œå†™å¥½äº†å†æˆªå›¾ï¼Œä½œä¸ºå›¾ç‰‡æ”¾åœ¨æµç¨‹å›¾çš„å‰é¢ã€‚è¿™æ ·ç”Ÿæˆçš„ md æ–‡ä»¶å°±åªæœ‰å›¾ç‰‡è¢«è§£æå‡ºæ¥äº†ã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FkL8pPinDyxnak397bwQVlM57eeL.png)\n\n\n## ç‰¹æ®Šæƒ…å†µä¸‹éœ€è¦ä½¿ç”¨ markdown è¯­æ³•çš„å›¾ç‰‡é“¾æ¥ç¤ºä¾‹\n\n\nå› ä¸ºè¯¥æ’ä»¶ä¼šå°†åŒ¹é…åˆ°çš„æ‰€æœ‰ markdown è¯­æ³•çš„å›¾ç‰‡éƒ½ä¸Šä¼ åˆ°å›¾åºŠï¼ˆåŒ…æ‹¬ä»£ç å—ä¸­çš„ç¤ºä¾‹ï¼‰ï¼Œæ‰€ä»¥åœ¨ä¹¦å†™è¯­é›€æ–‡ç« æ—¶ï¼Œéç‰¹æ®Šæƒ…å†µä¸è¦ä½¿ç”¨è¯¥è¯­æ³•ã€‚æˆ–è€…åœ¨ä¹¦å†™çš„æ—¶å€™ï¼Œå°†é“¾æ¥éæ³•åŒ–å³å¯ï¼Œä¾‹å¦‚ï¼š\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FkPytQbCfcYdtboEpkB4tiGh3iDz.png)\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FnGGls9yxHv_YyeqhxKl6Z_BLOI8.png)\n\n\næ’ä»¶åœ¨å¤„ç†çš„è¿‡ç¨‹ä¸­ä¼šæ£€æµ‹å‡ºæ¥éæ³•é“¾æ¥ï¼Œå°±ä¸ä¼šä¸Šä¼ è¯¥å›¾ç‰‡äº†\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FolAZNE4CANdcXxPIH2mjlBbzrjG.png)\n\n\n# å…³äº\n\n\nå¦‚æœä½ ä¸æƒ³ç”¨è…¾è®¯äº‘ COS å›¾åºŠï¼Œä½ ä¹Ÿå¯ä»¥æŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œå°† COS ç›¸å…³çš„é…ç½®è¿›è¡Œæ”¹é€ ï¼Œä¸Šä¼ åˆ°ä½ è‡ªå·±çš„å›¾åºŠï¼\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2022-01-20",
        "type": "Post",
        "slug": "osar7h",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "æœ¬æ–‡ä»‹ç»äº†yuque-hexoæ’ä»¶è¯­é›€å›¾ç‰‡é˜²ç›—é“¾çš„è§£å†³æ–¹æ¡ˆï¼ŒåŒ…æ‹¬å…·ä½“çš„å®ç°æµç¨‹å’Œå¸¸è§é—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚åŒæ—¶ï¼Œæä¾›äº†å¯¹äºå…¶ä»–äº‘æœåŠ¡çš„å®ç°æ€è·¯ã€‚",
        "æ›´æ–°æ—¶é—´": "2023-09-27T01:49:00.000Z",
        "title": "yuque-hexoæ’ä»¶è¯­é›€å›¾ç‰‡é˜²ç›—é“¾çš„è§£å†³æ–¹æ¡ˆ",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Hexo"
        ],
        "status": "Invisible",
        "urlname": "003fd62e-3f11-47f8-8479-9eb728ac6df8",
        "updated": "2023-09-27 01:49:00"
      },
      "body": "",
      "realName": "yuque-hexoæ’ä»¶è¯­é›€å›¾ç‰‡é˜²ç›—é“¾çš„è§£å†³æ–¹æ¡ˆ",
      "relativePath": "/yuque-hexoæ’ä»¶è¯­é›€å›¾ç‰‡é˜²ç›—é“¾çš„è§£å†³æ–¹æ¡ˆ.md",
      "needUpdate": 1
    },
    {
      "id": "dda51961-f514-4a53-8d18-3a0c1ece2132",
      "doc_id": "dda51961-f514-4a53-8d18-3a0c1ece2132",
      "updated": 1695785700000,
      "body_original": "\n> ğŸ’¡ 1. ä»Šæ—¥å­¦ä¹ çš„æ–‡ç« é“¾æ¥å’Œè§†é¢‘é“¾æ¥  \n> 2. è‡ªå·±çœ‹åˆ°é¢˜ç›®çš„ç¬¬ä¸€æƒ³æ³•  \n> 3. çœ‹å®Œä»£ç éšæƒ³å½•ä¹‹åçš„æƒ³æ³•  \n> 4. è‡ªå·±å®ç°è¿‡ç¨‹ä¸­é‡åˆ°å“ªäº›å›°éš¾  \n> 5. ä»Šæ—¥æ”¶è·ï¼Œè®°å½•ä¸€ä¸‹è‡ªå·±çš„å­¦ä¹ æ—¶é•¿\n\n\n# é¢˜ç›®é“¾æ¥\n\n\n## **æ•°ç»„ç†è®ºåŸºç¡€**\n\n\næ–‡ç« é“¾æ¥ï¼š[https://programmercarl.com/%E6%95%B0%E7%BB%84%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80.html](https://programmercarl.com/%E6%95%B0%E7%BB%84%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80.html)\n\n\n**é¢˜ç›®å»ºè®®**ï¼šÂ äº†è§£ä¸€ä¸‹æ•°ç»„åŸºç¡€ï¼Œä»¥åŠæ•°ç»„çš„å†…å­˜ç©ºé—´åœ°å€ï¼Œæ•°ç»„ä¹Ÿæ²¡é‚£ä¹ˆç®€å•ã€‚\n\n\n## **704.Â äºŒåˆ†æŸ¥æ‰¾**\n\n\n**é¢˜ç›®å»ºè®®**ï¼šÂ å¤§å®¶èƒ½æŠŠÂ 704Â æŒæ¡å°±å¯ä»¥ï¼Œ35.æœç´¢æ’å…¥ä½ç½®Â å’ŒÂ 34.Â åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®Â ï¼Œå¦‚æœæœ‰æ—¶é—´å°±å»çœ‹ä¸€ä¸‹ï¼Œæ²¡æ—¶é—´å¯ä»¥å…ˆä¸çœ‹ï¼ŒäºŒåˆ·çš„æ—¶å€™åœ¨çœ‹ã€‚\n\n\nå…ˆæŠŠÂ 704å†™ç†Ÿç»ƒï¼Œè¦**ç†Ÿæ‚‰Â æ ¹æ®Â å·¦é—­å³å¼€ï¼Œå·¦é—­å³é—­Â ä¸¤ç§åŒºé—´è§„åˆ™Â å†™å‡ºæ¥çš„äºŒåˆ†æ³•**ã€‚\n\n\né¢˜ç›®é“¾æ¥ï¼š[https://leetcode.cn/problems/binary-search/](https://leetcode.cn/problems/binary-search/)\n\n\næ–‡ç« è®²è§£ï¼š[https://programmercarl.com/0704.%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE.html](https://programmercarl.com/0704.%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE.html)\n\n\nè§†é¢‘è®²è§£ï¼š[https://www.bilibili.com/video/BV1fA4y1o715](https://www.bilibili.com/video/BV1fA4y1o715)\n\n\n## **27.Â ç§»é™¤å…ƒç´ **\n\n\n**é¢˜ç›®å»ºè®®**ï¼šÂ Â æš´åŠ›çš„è§£æ³•ï¼Œå¯ä»¥é”»ç‚¼ä¸€ä¸‹æˆ‘ä»¬çš„ä»£ç å®ç°èƒ½åŠ›ï¼Œå»ºè®®å…ˆæŠŠæš´åŠ›å†™æ³•å†™ä¸€éã€‚Â **åŒæŒ‡é’ˆæ³•Â æ˜¯æœ¬é¢˜çš„ç²¾é«“ï¼Œä»Šæ—¥éœ€è¦æŒæ¡**ï¼Œè‡³äºæ‹“å±•é¢˜ç›®å¯ä»¥å…ˆä¸çœ‹ã€‚\n\n\né¢˜ç›®é“¾æ¥ï¼š[https://leetcode.cn/problems/remove-element/](https://leetcode.cn/problems/remove-element/)\n\n\næ–‡ç« è®²è§£ï¼š[https://programmercarl.com/0027.%E7%A7%BB%E9%99%A4%E5%85%83%E7%B4%A0.html](https://programmercarl.com/0027.%E7%A7%BB%E9%99%A4%E5%85%83%E7%B4%A0.html)\n\n\nè§†é¢‘è®²è§£ï¼š[https://www.bilibili.com/video/BV12A4y1Z7LP](https://www.bilibili.com/video/BV12A4y1Z7LP)\n\n\n# è§£é¢˜æ€è·¯\n\n\n## 704.äºŒåˆ†æŸ¥æ‰¾\n\n\n### å…³é”®è¯\n\n1. **æœ‰åºæ•°ç»„**\n2. **æ— é‡å¤å…ƒç´ **ï¼Œå› ä¸ºä¸€æ—¦æœ‰äº†é‡å¤å…ƒç´ ï¼ŒäºŒåˆ†æŸ¥æ‰¾æ³•è¿”å›çš„å…ƒç´ ä¸‹æ ‡ä¸ä¸€å®šæ˜¯å”¯ä¸€çš„\n\n### æ€è·¯\n\n- æ‰¾åˆ°æ•°ç»„ä¸­é—´çš„ä¸‹æ ‡\n- å¦‚æœä¸­é—´ä¸‹æ ‡å¯¹åº”çš„å€¼å¤§äºç›®æ ‡å€¼ï¼Œåˆ™è¯´æ˜ç›®æ ‡å€¼åœ¨å·¦åŠè¾¹æ•°ç»„\n- å¦‚æœä¸­é—´ä¸‹æ ‡å¯¹åº”çš„å€¼å°äºç›®æ ‡å€¼ï¼Œåˆ™è¯´æ˜ç›®æ ‡å€¼åœ¨å³åŠè¾¹æ•°ç»„\n- å¾ªç¯å¾€å¤ï¼Œç›´åˆ°ä¸­é—´ä¸‹æ ‡å¯¹åº”çš„å€¼ç­‰äºç›®æ ‡å€¼ï¼Œè¿”å›ä¸‹æ ‡å€¼ï¼Œå¦åˆ™è¿”å›-1\n- å¯ä»¥æ„å»ºä¸¤ä¸ªæŒ‡é’ˆï¼Œé€šè¿‡ç§»åŠ¨æŒ‡é’ˆçš„ä½ç½®æ¥ç¼©å°åŒºé—´èŒƒå›´\n- éœ€è¦æ³¨æ„åŒºé—´çš„è¾¹ç•Œå€¼ï¼Œä¹Ÿå°±æ˜¯å·¦é—­å³é—­ã€å·¦é—­å³å¼€ä¸¤ç§æƒ…å†µçš„å–å€¼å’Œåˆ¤æ–­\n- å·¦é—­å³é—­æµ‹è¯•ç”¨ä¾‹ä¸ºå•ä¸ªå…ƒç´ æ•°ç»„ï¼Œå³å·¦===å³ï¼Œæ‰€ä»¥whileå¾ªç¯éœ€è¦â‰¤\n- å·¦é—­å³å¼€å…¶å®å¯¹whileå¾ªç¯è¾¹ç•Œæ— è¦æ±‚ï¼Œå› ä¸ºå·¦ä¸å¯èƒ½ç­‰äºå³ï¼Œæ˜¯æ— æ•ˆç©ºé—´\n\n## 27.ç§»é™¤å…ƒç´ \n\n\n### å…³é”®è¯\n\n1. åŸåœ°åˆ é™¤/ä¿®æ”¹\n\n### æ€è·¯\n\n- æ²¡æ€è·¯ï¼Œä¸çŸ¥é“ä»€ä¹ˆæ˜¯åŸåœ°ä¿®æ”¹ï¼Œçœ‹äº†è§£ææ‰çŸ¥é“ä»€ä¹ˆæ˜¯åŸåœ°ä¿®æ”¹ï¼Œæš´åŠ›è§£æ³•æ¯”è¾ƒé€šä¿—æ˜“æ‡‚ï¼Œå°±æ˜¯åé¢çš„æ•°ç»„è¦†ç›–å‰é¢çš„æ•°ç»„ã€‚æ¯ä¸€æ¬¡è¦†ç›–åï¼Œæœ€å¤–å±‚çš„ä¸‹æ ‡éœ€è¦å‡1ï¼Œå› ä¸ºè¢«åé¢æ–°çš„æ•°ç»„è¦†ç›–äº†ã€‚æ•°ç»„çš„sizeä¹Ÿéœ€è¦å‡1ï¼Œå› ä¸ºå…ƒç´ è¢«åˆ é™¤äº†\n- åŒæŒ‡é’ˆæ³•ã€‚\n\n\t> åŒæŒ‡é’ˆæ³•ï¼ˆå¿«æ…¢æŒ‡é’ˆæ³•ï¼‰åœ¨æ•°ç»„å’Œé“¾è¡¨çš„æ“ä½œä¸­æ˜¯éå¸¸å¸¸è§çš„ï¼Œå¾ˆå¤šè€ƒå¯Ÿæ•°ç»„ã€é“¾è¡¨ã€å­—ç¬¦ä¸²ç­‰æ“ä½œçš„é¢è¯•é¢˜ï¼Œéƒ½ä½¿ç”¨åŒæŒ‡é’ˆæ³•ã€‚\n\n\t1. å®šä¹‰ä¸€ä¸ªå¿«æŒ‡é’ˆï¼Œç”¨äºå¯»æ‰¾ç›®æ ‡å…ƒç´ \n\t2. å®šä¹‰ä¸€ä¸ªæ…¢æŒ‡é’ˆï¼Œå½“å¯»æ‰¾åˆ°ç›®æ ‡å…ƒç´ æ—¶ï¼Œå°±è·³è¿‡å‰è¿›ã€‚\n\t3. æœ€åè¿”å›æ…¢æŒ‡é’ˆçš„ä¸‹æ ‡\n\n# é¢˜è§£\n\n\n## 704.äºŒåˆ†æŸ¥æ‰¾\n\n\n```javascript\n/**\n * å·¦é—­å³å¼€\n * @param {number[]} nums\n * @param {number} target\n * @return {number}\n */\nvar search = function(nums, target) {\n    // rightæ˜¯æ•°ç»„æœ€åä¸€ä¸ªæ•°çš„ä¸‹æ ‡+1ï¼Œnums[right]ä¸åœ¨æŸ¥æ‰¾èŒƒå›´å†…ï¼Œæ˜¯å·¦é—­å³å¼€åŒºé—´\n    let left = 0, right = nums.length;    \n    // å½“left=rightæ—¶ï¼Œç”±äºnums[right]ä¸åœ¨æŸ¥æ‰¾èŒƒå›´ï¼Œæ‰€ä»¥æ²¡å¿…è¦åŒ…æ‹¬æ­¤æƒ…å†µã€‚\n    // ä½†æ˜¯è¿™ç§æƒ…å†µç¨³å¦¥ï¼Œå¯ä»¥ä¸è€ƒè™‘è¾¹ç•Œ\n    while (left < right) {\n      // ä½è¿ç®— + é˜²æ­¢å¤§æ•°æº¢å‡º\n      const mid = left + ((right - left) >> 1);\n      // const mid = left + ((right - left) / 2);\n      // å¦‚æœä¸­é—´å€¼å¤§äºç›®æ ‡å€¼ï¼Œä¸­é—´å€¼ä¸åº”åœ¨ä¸‹æ¬¡æŸ¥æ‰¾çš„èŒƒå›´å†…ï¼Œä½†ä¸­é—´å€¼çš„å‰ä¸€ä¸ªå€¼åº”åœ¨ï¼›\n      // ç”±äºrightæœ¬æ¥å°±ä¸åœ¨æŸ¥æ‰¾èŒƒå›´å†…ï¼Œæ‰€ä»¥å°†å³è¾¹ç•Œæ›´æ–°ä¸ºä¸­é—´å€¼ï¼Œå¦‚æœæ›´æ–°å³è¾¹ç•Œä¸ºmid-1åˆ™å°†ä¸­é—´å€¼çš„å‰ä¸€ä¸ªå€¼ä¹Ÿè¸¢å‡ºäº†ä¸‹æ¬¡å¯»æ‰¾èŒƒå›´\n      if (nums[mid] > target) {\n        right = mid;  // å»å·¦åŒºé—´å¯»æ‰¾\n      } else if (nums[mid] < target) {\n        left = mid + 1;  // å»å³åŒºé—´å¯»æ‰¾\n      } else {\n        return mid;\n      }\n    }\n    return -1;\n};\n```\n\n\n```javascript\n/**\n * å·¦é—­å³é—­\n * @param {number[]} nums\n * @param {number} target\n * @return {number}\n */\nvar search = function(nums, target) {\n    // rightæ˜¯æ•°ç»„æœ€åä¸€ä¸ªæ•°çš„ä¸‹æ ‡ï¼Œnum[right]åœ¨æŸ¥æ‰¾èŒƒå›´å†…ï¼Œæ˜¯å·¦é—­å³é—­åŒºé—´\n    let left = 0, right = nums.length - 1\n    // å½“left=rightæ—¶ï¼Œç”±äºnums[right]åœ¨æŸ¥æ‰¾èŒƒå›´å†…ï¼Œæ‰€ä»¥è¦åŒ…æ‹¬æ­¤æƒ…å†µ\n    while(left <= right) {\n      // ä½è¿ç®— + é˜²æ­¢å¤§æ•°æº¢å‡º å–ä¸­é—´å€¼\n      const mid = left + ((right - left) >> 1);\n      if(nums[mid] === target) {\n        return mid\n      // å¦‚æœä¸­é—´æ•°å¤§äºç›®æ ‡å€¼ï¼Œè¦æŠŠä¸­é—´æ•°æ’é™¤æŸ¥æ‰¾èŒƒå›´ï¼Œæ‰€ä»¥å³è¾¹ç•Œæ›´æ–°ä¸ºmid-1ï¼›\n      // å¦‚æœå³è¾¹ç•Œæ›´æ–°ä¸ºmidï¼Œé‚£ä¸­é—´æ•°è¿˜åœ¨ä¸‹æ¬¡æŸ¥æ‰¾èŒƒå›´å†…\n      } else if(nums[mid] < target) {\n        // å»å³é¢é—­åŒºé—´å¯»æ‰¾\n        left = mid + 1\n      } else {\n        // å»å·¦é¢é—­åŒºé—´å¯»æ‰¾\n        right = mid - 1\n      }\n    }\n    return -1\n};\n```\n\n\n## 27.ç§»é™¤å…ƒç´ \n\n\n```javascript\n/**\n * æš´åŠ›è§£æ³•\n * @param {number[]} nums\n * @param {number} val\n * @return {number}\n */\nvar removeElement = function(nums, val) {\n  let size = nums.length\n  for (let i = 0; i < size; i++) {\n    if (nums[i] === val) {\n      // å°†åé¢çš„å…ƒç´ æ•´ä½“å‰ç§»\n      for (let j = i; j < size; j++) {\n        // èµ‹å€¼æ“ä½œï¼Œå°†åé¢çš„å…ƒç´ èµ‹ç»™å‰ä¸€ä¸ªå…ƒç´ \n        nums[j] = nums[j + 1]\n      }\n      // æ¯ä¸€æ¬¡æˆåŠŸå‰ç§»ï¼Œéƒ½ä¼šé€ æˆå¤–å±‚ä¸‹æ ‡éœ€è¦å‰ç§»ï¼Œæ‰èƒ½ä¿è¯ä¸‹ä¸€ä¸ªå…ƒç´ èƒ½è¢«æ­£ç¡®æ£€æµ‹\n      i = i - 1\n      // æ¯ä¸€æ¬¡æˆåŠŸå‰ç§»ï¼Œéƒ½ä¼šé€ æˆæ•°ç»„çš„é•¿åº¦å‡1\n      size = size - 1\n    }\n  }\n  return size\n};\n```\n\n\n```javascript\n/**\n * åŒæŒ‡é’ˆæ³•ï¼ˆå¿«æ…¢æŒ‡é’ˆï¼‰\n * @param {number[]} nums\n * @param {number} val\n * @return {number}\n */\nvar removeElement = function(nums, val) {\n  // æ…¢æŒ‡é’ˆ\n  let slowIndex = 0\n  // å¿«æŒ‡é’ˆ\n  for (let falseIndex = 0; falseIndex < nums.length; falseIndex++) {\n    // å¦‚æœæ…¢æŒ‡é’ˆæ‰€å¯¹åº”çš„å€¼ä¸ä¸ºç›®æ ‡å€¼\n    if (nums[slowIndex] !== val) {\n      // å¹¶ä¸”æŠŠå¿«æŒ‡é’ˆçš„å€¼èµ‹å€¼ç»™æ…¢æŒ‡é’ˆ\n      // å¦‚æœç›¸ç­‰è¿‡ï¼Œåˆ™å½“ä¸‹ä¸€æ¬¡ä¸ç›¸ç­‰æ—¶ï¼Œæ…¢æŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ å°±ä¼šè¢«è¦†ç›–ä¸ºä¸ç›¸ç­‰çš„å…ƒç´ ï¼Œ\n      // ä¹Ÿå°±ç›¸å½“äºå’Œç›®æ ‡å€¼ç›¸ç­‰çš„å…ƒç´ è¢«åŸåœ°åˆ é™¤äº†\n      nums[slowIndex] = nums[falseIndex]\n      // æ…¢æŒ‡é’ˆ+1\n      slowIndex = slowIndex + 1\n    }\n  }\n};\n```\n\n\n# æ”¶è·\n\n- ä½è¿ç®—å–ä¸­é—´ä¸‹æ ‡`const mid = left + ((right - left) >> 1)`ï¼Œç›¸å½“äº`Math.floor`èˆæ‰å¤šä½™\n- åŒæŒ‡é’ˆæ³•ï¼ˆå¿«æ…¢æŒ‡é’ˆæ³•ï¼‰åœ¨æ•°ç»„å’Œé“¾è¡¨çš„æ“ä½œä¸­æ˜¯éå¸¸å¸¸è§çš„ï¼Œå¾ˆå¤šè€ƒå¯Ÿæ•°ç»„ã€é“¾è¡¨ã€å­—ç¬¦ä¸²ç­‰æ“ä½œçš„é¢è¯•é¢˜ï¼Œéƒ½ä½¿ç”¨åŒæŒ‡é’ˆæ³•ã€‚\n- å¥½ä¹…æ²¡åˆ·é¢˜ï¼Œå…¨å¿˜å…‰äº†ï¼ŒåŸºæœ¬éƒ½æ˜¯è·Ÿç€é¢˜è§£çš„æ€è·¯åšé¢˜ï¼Œå¸Œæœ›ç¬¬äºŒéçš„æ—¶å€™å¯ä»¥æœ‰ç‚¹è‡ªå·±çš„æ€è·¯\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-07-12T03:20:00.000Z",
        "date": "2023-07-12",
        "type": "Post",
        "slug": "leetcode-day-1",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-09-27T03:35:00.000Z",
        "title": "ã€ä»£ç éšæƒ³å½•ã€‘ç®—æ³•è®­ç»ƒè¥ç¬¬1å¤©",
        "category": "ç®—æ³•åˆ·é¢˜",
        "tags": [
          "ç®—æ³•è®­ç»ƒè¥",
          "æ•°ç»„ä¸“é¢˜"
        ],
        "status": "Invisible",
        "urlname": "dda51961-f514-4a53-8d18-3a0c1ece2132",
        "updated": "2023-09-27 03:35:00"
      },
      "body": "",
      "realName": "ã€ä»£ç éšæƒ³å½•ã€‘ç®—æ³•è®­ç»ƒè¥ç¬¬1å¤©",
      "relativePath": "/ã€ä»£ç éšæƒ³å½•ã€‘ç®—æ³•è®­ç»ƒè¥ç¬¬1å¤©.md"
    },
    {
      "id": "385c919d-f253-4976-9819-824ea05304e4",
      "doc_id": "385c919d-f253-4976-9819-824ea05304e4",
      "updated": 1700647740000,
      "body_original": "\n# é€‚ç”¨åœºæ™¯\n\n\nå½“å¼€å‘ä¸€ä¸ªç»„ä»¶åŒ…æ—¶ï¼Œç”±äºå¹³å°çš„å·®å¼‚ï¼Œæ‰€ä»¥åœ¨æŸäº›å®ç°ä¸Šéœ€è¦å®ç°ä¸¤å¥—ã€‚\n\n\nä¾‹å¦‚ï¼Œ`multi-input`æ˜¯ä¸€ä¸ªå¯ä»¥åŒæ—¶ç”¨äºå¾®ä¿¡å°ç¨‹åºå’Œæµè§ˆå™¨ç¯å¢ƒçš„`npm`åº“ï¼Œå…¶ä¸­çš„`request`è¯·æ±‚åº“åœ¨ä¸åŒå®¢æˆ·ç«¯çš„å®ç°ä¸ä¸€æ ·ã€‚åœ¨å¾®ä¿¡ç¯å¢ƒä¸‹ç”¨çš„æ˜¯`wx.request`ï¼Œåœ¨æµè§ˆå™¨ç¯å¢ƒç”¨çš„æ˜¯`fetch`ã€‚\n\n\nä½†æ˜¯åœ¨å¾®ä¿¡ç¯å¢ƒä½¿ç”¨æ—¶ï¼Œæˆ‘ä¸å¸Œæœ›æˆ‘å¼•å…¥çš„ä»£ç ä¸­åŒ…å«ç”¨ä¸åˆ°çš„é€‚ç”¨äºæµè§ˆå™¨ç¯å¢ƒçš„`fetch`ç­‰ç›¸å…³ä»£ç ã€‚å†åŠ ä¸Šå¾®ä¿¡å°ç¨‹åºå¯¹äºä»£ç ä½“ç§¯çš„ä¸¥æ ¼é™åˆ¶ã€‚æ‰€ä»¥æˆ‘å¸Œæœ›`multi-input`å†å¼•å…¥çš„æ—¶å€™å¯ä»¥æœ‰å¤šä¸ªå…¥å£ï¼Œä¸»é€»è¾‘ä»£ç ç›´æ¥å¼•å…¥`multi-input`ï¼Œ`request`åº“ç›¸å…³é€»è¾‘å•ç‹¬æœ‰ä¸ªå…¥å£ã€‚\n\n\nè§£å†³åŠæ³•æœ‰ä¸¤ç§\n\n1. å°†`request`åº“ç›¸å…³é€»è¾‘æŠ½ç¦»æˆå¦å¤–ä¸€ä¸ª`npm`åŒ…\n2. `rollup`æ‰“åŒ…å¤šå…¥å£æ–‡ä»¶å¹¶é…åˆ`package.json`ä¸­çš„`exports`å­—æ®µå®ç°\n\næœ¬æ–‡ä»‹ç»ç¬¬äºŒç§æ–¹æ³•ï¼Œä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š\n\n\n```javascript\nimport { TestCore } from 'multi-input' // å¼•ç”¨çš„æ˜¯ dist æ–‡ä»¶ä¸­çš„ä»£ç \nimport { WebRequest } from 'multi-input/lib/web-request'// å¼•ç”¨çš„æ˜¯ lib æ–‡ä»¶ä¸­çš„ä»£ç \nimport { WxRequest } from 'multi-input/lib/web-request' // å¼•ç”¨çš„æ˜¯ lib æ–‡ä»¶ä¸­çš„ä»£ç \n```\n\n\nè¿™æ ·åœ¨å¾®ä¿¡å°ç¨‹åºç«¯ä½¿ç”¨å¹¶æ‰“åŒ…æ—¶ï¼Œå°±ä¸ä¼šå°†`WebRequest`ç›¸å…³ä»£ç æ‰“åŒ…åˆ°å¾®ä¿¡å°ç¨‹åºä»£ç ä¸­ï¼Œå®ç°æŒ‰éœ€å¼•å…¥ã€‚\n\n\n# ä»£ç ç»“æ„\n\n\nï½œ ä»£ç æºç ï¼š[multi-input](https://github.com/LetTTGACO/build-project/tree/master/rollup/multi-input)\n\n\n`multi-input`åº“ä»£ç ç»“æ„å¦‚ä¸‹\n\n\n```text\n.\n|-multi-input\n  |-.gitignore\n  |-adapter // è¿™é‡Œé¢å°±æ˜¯ä¸åŒå®¢æˆ·ç«¯çš„requestè¯·æ±‚åº“çš„å®ç°çš„æºä»£ç \n  |  |-web-request.ts\n  |  |-wx-request.ts\n  |-src\n  |  |-core.ts\n  |  |-index.ts\n  |  |-manager\n  |  |  |-message.ts\n  |  |-utils\n  |  |  |-url.ts\n  |-rollup.config.js // rollupæ‰“åŒ…é…ç½®\n  |-tsconfig.json\n  |-package.json\n```\n\n\n# æ³¨æ„äº‹é¡¹\n\n\nè¦æƒ³è¦å¤–éƒ¨ä»¥è¿™æ ·çš„æ–¹å¼å¼•ç”¨ï¼Œæœ‰å‡ ä¸ªå¿…è¦æ¡ä»¶ï¼š\n\n1. ä»£ç éš”ç¦»ï¼š`adapter`ä¸‹çš„æ–‡ä»¶åªèƒ½å¼•ç”¨`adapter`ç›®å½•ä¸­çš„æ–‡ä»¶ï¼Œ`src`ä¸‹ä¸­çš„æ–‡ä»¶åªèƒ½å¼•ç”¨`src`ä¸­çš„æ–‡ä»¶\n2. æ‰“åŒ…äº§ç‰©è·¯å¾„å­˜åœ¨ï¼š`multi-input`æ ¹ç›®å½•ä¸‹å¿…é¡»å­˜åœ¨æ‰“åŒ…åçš„`lib/web-request`æ–‡ä»¶\n3. è·¯å¾„æ˜ å°„ï¼š`package.json`ä¸­çš„`exports`å­—æ®µä¸­éœ€è¦æœ‰`lib/web-request`çš„è·¯å¾„æ˜ å°„\n4. å¤šå…¥å£æ‰“åŒ…ï¼š`rollup`éœ€è¦åˆ†åˆ«æ‰“åŒ…`src`å’Œ`adapter`ä¸‹çš„æ–‡ä»¶\n\n# Rollupé…ç½®\n\n\nåŠŸèƒ½ç‚¹å¦‚ä¸‹\n\n- å°†`multi-input`ä»¥`esm`æ¨¡å¼å¯¼å‡ºåˆ°`dist`ä¸‹\n- `adapter`ä¸‹çš„è¯·æ±‚åº“ä»¥`esm`æ¨¡å¼å¯¼å‡ºåˆ°`lib`ä¸‹\n- æ‰“åŒ…åçš„ç±»å‹å£°æ˜æ–‡ä»¶å’Œ`js`æ–‡ä»¶å’ŒåŸæ–‡ä»¶ç›®å½•ç»“æ„ä¿æŒä¸€è‡´\n\n```typescript\n// rollup.config.js\nimport resolve from \"@rollup/plugin-node-resolve\";\nimport commonjs from \"@rollup/plugin-commonjs\"; // è§£æjs\nimport typescript from \"@rollup/plugin-typescript\"; // è§£æts\n\nconst getBasePlugins = (tsConfig) => {\n  return [\n    resolve(),\n    commonjs(),\n    typescript({\n      ...tsConfig,\n    }),\n  ];\n};\n\nexport default [\n  // ä¸»é€»è¾‘ä»£ç æ‰“åŒ…\n  {\n    input: \"src/index.ts\",\n    output: {\n      dir: \"dist\",\n      format: \"esm\",\n      exports: \"named\",\n      preserveModules: true,\n      preserveModulesRoot: \"src\",\n      sourcemap: true,\n    },\n    plugins: [\n      ...getBasePlugins({\n        outDir: \"dist\",\n        declaration: true,\n        filterRoot: \"src\",\n      }),\n    ],\n  },\n  // adapterå¯¼å‡º\n  {\n    input: {\n      \"web-request\": \"adapter/web-request.ts\",\n      \"wx-request\": \"adapter/wx-request.ts\",\n    },\n    output: [\n      {\n        dir: \"lib\",\n        format: \"esm\",\n        sourcemap: true\n      },\n    ],\n    plugins: [\n      ...getBasePlugins({\n        outDir: \"lib\",\n        declaration: true,\n        filterRoot: \"adapter\",\n      }),\n    ],\n  },\n];\n```\n\n\n# package.jsoné…ç½®\n\n\n```typescript\n{\n  \"name\": \"multi-input\",\n  \"version\": \"1.0.0\",\n  \"description\": \"å¤šå…¥å£æ‰“åŒ…\",\n  \"main\": \"dist/index.js\",\n  \"module\": \"dist/index.js\",\n  \"typings\": \"dist/index.d.ts\",\n  \"scripts\": {\n    \"build\": \"rollup -c rollup.config.js --bundleConfigAsCjs\",\n    \"clean\": \"rimraf -rf ./dist ./lib\"\n  },\n  \"files\": [\"dist\", \"lib\"],\n  \"exports\": {\n    // å®šä¹‰multi-inputè·¯å¾„å¼•ç”¨æ–‡ä»¶\n    \".\": \"./dist/index.js\",\n    // å®šä¹‰multi-input/lib/web-requestè·¯å¾„å¼•ç”¨æ–‡ä»¶\n    \"./lib/web-request\": {\n      \"import\": \"./lib/web-request.js\",\n      \"types\": \"./lib/web-request.d.ts\"\n    },\n    // å®šä¹‰multi-input/lib/wx-requestè·¯å¾„å¼•ç”¨æ–‡ä»¶\n    \"./lib/wx-request\": {\n      \"import\": \"./lib/wx-request.js\",\n      \"types\": \"./lib/wx-request.d.ts\"\n    }\n  },\n  \"author\": \"1874\",\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"@rollup/plugin-commonjs\": \"^25.0.4\",\n    \"@rollup/plugin-node-resolve\": \"^15.2.1\",\n    \"@rollup/plugin-typescript\": \"^11.1.3\",\n    \"rimraf\": \"^5.0.1\",\n    \"rollup\": \"^3.28.1\",\n    \"tslib\": \"^2.6.2\",\n    \"typescript\": \"^5.2.2\"\n  }\n}\n```\n\n\n# æ‰“åŒ…åä»£ç ç»“æ„\n\n\n```typescript\n.\n|-multi-input\n  |-dist // ä¸»åŒ…æ‰“åŒ…äº§ç‰©\n  |  |-core.d.ts\n  |  |-core.js\n  |  |-core.js.map\n  |  |-index.d.ts\n  |  |-index.js\n  |  |-index.js.map\n  |  |-manager\n  |  |  |-message.d.ts\n  |  |  |-message.js\n  |  |  |-message.js.map\n  |  |-utils\n  |  |  |-url.d.ts\n  |  |  |-url.js\n  |  |  |-url.js.map\n  |-lib // request æ’ä»¶æ‰“åŒ…äº§ç‰©\n  |  |-tslib.es6-4083ca3c.js\n  |  |-tslib.es6-4083ca3c.js.map\n  |  |-web-request.d.ts\n  |  |-web-request.js\n  |  |-web-request.js.map\n  |  |-wx-request.d.ts\n  |  |-wx-request.js\n  |  |-wx-request.js.map\n  |-adapter // request æ’ä»¶æºç \n  |  |-web-request.ts\n  |  |-wx-request.ts\n  |-src // ä¸»åŒ…æºç \n  |  |-core.ts\n  |  |-index.ts\n  |  |-manager\n  |  |  |-message.ts\n  |  |-utils\n  |  |  |-url.ts\n  |-package.json\n  |-pnpm-lock.yaml\n  |-rollup.config.js\n  |-tsconfig.json\n```\n\n\n# å‚è€ƒèµ„æ–™\n\n- [Rollupä¸­æ–‡æ–‡æ¡£](https://cn.rollupjs.org/introduction/)\n- [rollup/plugin-typescriptæ’ä»¶é…ç½®](https://www.npmjs.com/package/@rollup/plugin-typescript)\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-09-02T17:33:00.000Z",
        "date": "2023-09-03",
        "type": "Post",
        "slug": "rollup-multi-input",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "ç”¨Rollupæ‰“åŒ…å¤šå…¥å£npmåº“ï¼Œå®ç°æ–‡ä»¶æŒ‰éœ€å¼•å…¥",
        "æ›´æ–°æ—¶é—´": "2023-11-22T10:09:00.000Z",
        "title": "Rollupæ‰“åŒ…â€”â€”å¤šå…¥å£é…ç½®",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Rollup",
          "æ‰“åŒ…æ„å»º"
        ],
        "status": "Published",
        "urlname": "385c919d-f253-4976-9819-824ea05304e4",
        "updated": "2023-11-22 10:09:00"
      },
      "body": "",
      "realName": "Rollupæ‰“åŒ…â€”â€”å¤šå…¥å£é…ç½®",
      "relativePath": "/Rollupæ‰“åŒ…â€”â€”å¤šå…¥å£é…ç½®.md"
    },
    {
      "id": "5d58e4df-d7ea-46d6-9c6a-19b9d301d672",
      "doc_id": "5d58e4df-d7ea-46d6-9c6a-19b9d301d672",
      "updated": 1693064280000,
      "body_original": "\n1 - ã€Œå­¦ä¹  / æ„Ÿæ‚ŸğŸ¥•ã€\n\n\næœ€è¿‘çœ‹äº†ä¸€äº›å¤§ä½¬çš„åšå®¢ï¼Œå‘ç°å¥½å¤šå¤§ä½¬éƒ½æœ‰å†™éšç¬”çš„ä¹ æƒ¯ã€‚ä»–ä»¬ä¼šæŠŠæ¯å¤©çš„ç»å†å’Œæ€è€ƒæ±‡æ€»æˆéšç¬”åœ¨å„ä¸ªå¹³å°å‘å¸ƒã€‚æˆ‘å¾ˆä½©æœ&ç¾¡æ…•ä»–ä»¬æœ‰è¿™æ ·çš„æ¯…åŠ›å’Œçƒ­æƒ…ã€‚\n\n\næˆ‘ä¹‹å‰åœ¨å¾®åšä¹Ÿå†™è¿‡ä¸€äº›éšç¬”å’Œè§‚å½±æ—¥è®°ä¹‹ç±»çš„ï¼Œä¹Ÿåªæ˜¯åšæŒäº†å°åŠä¸ªæœˆå·¦å³å°±æ”¾å¼ƒäº†ã€‚\n\n\næ‰€ä»¥å‘ï½çƒ­æƒ…æ˜¯ä¸€ç§éš¾å¾—çš„å“è´¨ï¼ŒåšæŒæ˜¯ä¸€ä»½éš¾å¾—çš„ä¿¡å¿µï¼æˆ‘å¤šä¹ˆå¸Œæœ›è‡ªå·±èƒ½åšæŒçƒ­çˆ±ä¸€ä¸ªæ¸¸æˆã€ä¸€ä¸ªæ´»åŠ¨ï¼Œä¸€ä»½æ°¸æ’çš„çƒ­æƒ…ã€‚\n\n\næ‰€ä»¥æ¥ä¸‹æ¥æˆ‘å°†ä¼šç»™è‡ªå·±åˆ¶å®šä¸€äº›æ¯æ—¥/æ¯å‘¨/æ¯æœˆ/å¹´ç»ˆæ€»ç»“ï¼Œé€šè¿‡æ¯å¤©çš„æ€è€ƒå’Œè®°å½•ï¼Œè®©è‡ªå·±èƒ½éšæ—¶å›å‘³è¿‡å¾€çš„ç»å†ã€‚\n\n\nè€ä¸€è¾ˆçš„äººæ€»è¯´ï¼šæˆ‘åƒè¿‡çš„ç›æ¯”ä½ èµ°è¿‡çš„è·¯éƒ½å¤šã€‚å¤§äººå’Œå°å­©çš„æœ¬è´¨åŒºåˆ«å°±åœ¨äºç»å†çš„ä¸°å¯Œåº¦ä¸Šï¼Œè€Œç»å†åœ¨æˆ‘çœ‹æ¥å°±æ˜¯åå„¿ã€‚åªæœ‰åªè¦ä½ çŠ¯è¿‡è¶³å¤Ÿå¤šçš„é”™ï¼Œä½ å°±èƒ½æˆä¸ºäººä»¬å¸¸è¯´çš„ç™¾äº‹é€šã€‚\n\n\næ”¾åˆ°ç¼–ç¨‹ä¸Šä¹Ÿæ˜¯ï¼Œé¢å‘ Bug å¼€å‘ã€‚æˆ‘æ˜¯è§‰å¾—è¸©è¿‡è¶³å¤Ÿå¤šçš„å‘å°±æœ‰æˆä¸ºæ¶æ„å¸ˆçš„å‰æäº†ï¼ŒçŸ¥è¯†çš„æ·±åº¦å’Œå¹¿åº¦éƒ½æ˜¯å¿…ä¸å¯å°‘çš„ç¯èŠ‚ã€‚\n\n\nè€Œæ¯æ—¥çš„è®°å½•å’Œåˆ†äº«å°±ä¼šåå‘æ¨åŠ¨ä½ å»äº†è§£å„ç§æŠ€æœ¯èµ„è®¯ï¼Œä»è€Œæ€»ç»“å‡ºè‡ªå·±çš„çŸ¥è¯†ç½‘ç»œã€‚\n\n\nå¹²å§ï¼ä»ç°åœ¨è¿™ç¯‡æ–‡ç« å¼€å§‹ï¼\n\n\n2 - ã€Œæ„Ÿæ©â¤ï¸ã€\n\n\nä»Šå¤©åœ¨ Notion ç¾¤é‡Œé¢é‡åˆ°ä¸€ä¸ªå¤§ä½¬ï¼Œçœ‹äº†ä»–çš„å¾®ä¿¡æœ‹å‹åœˆå’Œåšå®¢çœŸçš„å—ç›ŠåŒªæµ…ã€‚è‡ªå·±ä¹Ÿç»ˆäºå¼€å§‹è¡ŒåŠ¨èµ·æ¥äº†ï¼Œèµ°å‡ºå±äºè‡ªå·±çš„è·¯ï½\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-10T17:12:00.000Z",
        "date": "2023-04-10",
        "type": "Post",
        "slug": "day-1",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:38:00.000Z",
        "title": "Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬1ç¯‡ã€‘",
        "category": "éšç¬”",
        "tags": [
          "éšç¬”"
        ],
        "status": "Archived",
        "urlname": "5d58e4df-d7ea-46d6-9c6a-19b9d301d672",
        "updated": "2023-08-26 15:38:00"
      },
      "body": "",
      "realName": "Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬1ç¯‡ã€‘",
      "relativePath": "/Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬1ç¯‡ã€‘.md"
    },
    {
      "id": "dfc6606a-ab95-45f7-94c2-4a736afdf57a",
      "doc_id": "dfc6606a-ab95-45f7-94c2-4a736afdf57a",
      "updated": 1693064280000,
      "body_original": "\n1 - ã€Œå­¦ä¹  / æ„Ÿæ‚ŸğŸ¥•ã€\n\n\nä»Šå¤©åœ¨çœ‹ç¾¤å‹ä»¬èŠå¤©æ‰çŸ¥é“ï¼ŒNotionä¸æ˜¯åŸºäºChatGPTï¼Œè€Œæ˜¯Chat2.0ï¼ˆNotion AIè‡ªå·±è¯´çš„ï¼‰ï¼Œä¸è¿‡æˆ‘ä»ç½‘ä¸Šæ²¡æ‰¾åˆ°Chat2.0ç›¸å…³çš„èµ„è®¯ã€‚æ ¹æ® Notion AI å¯¹è‡ªå·±çš„è§£é‡Šã€‚\n\n\n> ChatGPT 3.5æ˜¯åŸºäºGPT-3è¯­è¨€æ¨¡å‹çš„å¯¹è¯ç”Ÿæˆåº”ç”¨ï¼Œå®ƒå…·æœ‰é€¼çœŸçš„äººå·¥æ™ºèƒ½å¯¹è¯ä½“éªŒï¼Œèƒ½å¤Ÿäº§ç”Ÿé«˜åº¦å‡†ç¡®ã€è‡ªç„¶çš„æ–‡æœ¬å†…å®¹ã€‚ä¸æ­¤ä¸åŒï¼ŒChat2.0æ˜¯Notionå†…ç½®çš„å¯¹è¯å·¥å…·ï¼Œä¸»è¦ç”¨äºä¸å›¢é˜Ÿæˆå‘˜è¿›è¡Œå®æ—¶äº¤æµå’Œåˆä½œã€‚å®ƒæ³¨é‡å®ç”¨æ€§å’Œåä½œåŠŸèƒ½ï¼Œèƒ½å¤Ÿæé«˜å›¢é˜Ÿåä½œæ•ˆç‡ã€‚\n\n\næˆ‘æ—¥å¸¸ç”¨åˆ°Notion AIæœ€å¸¸ç”¨çš„å°±æ˜¯å¸®æˆ‘å†™ä»£ç ã€‚ä¸åŒäºChatGPTéœ€è¦ç¿»å¢™ï¼ŒNotion AI åˆ™ç›´æ¥å¯ä»¥ç”¨ï¼Œè€Œä¸”è¿˜èƒ½é¡ºä¾¿ä¿å­˜åˆ°æ–‡æ¡£é‡Œã€‚æ‰€ä»¥æˆ‘ä¸“é—¨å¼€äº†ä¸€ä¸ªé¡µé¢ç”¨æ¥é—®é—®é¢˜ã€‚\n\n\næˆ‘æ²¡æœ‰ä¸“é—¨å¯¹æ¯”è¿‡ChatGPT 3.5å’Œ Notion AIçš„ç¼–ç¨‹èƒ½åŠ›ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä»å‡†ç¡®åº¦ä¸Šæ¥è¯´ï¼ŒNotion AIçš„ç¼–ç¨‹èƒ½åŠ›è¿˜æ˜¯ç›¸å½“å¯ä»¥çš„ï¼Œè™½ç„¶æœ‰æ—¶å€™ä¸èƒ½å®Œå…¨æ­£ç¡®ï¼Œä½†æ˜¯ä»–è‡³å°‘ç»™æˆ‘æä¾›äº†ä¸é”™æ€è·¯ã€‚è¿™å·²ç»è¶³å¤Ÿäº†ï¼Œè€Œä¸”åªä¼šè¶Šæ¥è¶Šå¥½ç”¨ã€‚\n\n\næ¥è§¦ç¼–ç¨‹ä¸ä¹…åï¼Œæˆ‘å°±åŸºæœ¬æŠ›å¼ƒäº†ç™¾åº¦æœç´¢ï¼Œå…¨å¿ƒå…¨æ„ç”¨Googleã€‚ç°åœ¨æ¥çœ‹ï¼Œå¤§éƒ¨ä»½çš„é—®é¢˜éƒ½å¯ä»¥ç›´æ¥é—®ChatGPT/Notion AIäº†ã€‚ç”šè‡³æˆ‘å‰æ®µæ—¶é—´é—®åŒäº‹ä¸€ä¸ªæŠ€æœ¯é—®é¢˜ï¼Œä»–ç›´æ¥è´´äº†ä¸€ä¸ªChatGPTçš„å›ç­”ç»™æˆ‘å“ˆå“ˆå“ˆå“ˆï¼Œè¿™ç¡®å®å¯ä»¥å‡å°‘ä¸å¿…è¦çš„å®¢æœæ—¶é—´ã€‚\n\n\nNotion AI çœŸé¦™ï½\n\n\n2 - ã€Œæ„Ÿæ©â¤ï¸ã€\n\n\nç¬¬äºŒå¤©å†™æˆé•¿æ—¥è®°ï¼Œå‘ç°è‡ªå·±æƒ³è¯´çš„è¯è¿˜æŒºå¤šã€‚è‡³å°‘æ²¡æœ‰æ„Ÿè§‰åˆ°å†™æ—¥è®°ä¼šå¾ˆéš¾å¼€å§‹ã€‚è¿™å‡ å¤©å‡†å¤‡æŠŠæˆ‘å¥³æœ‹å‹ä¹Ÿæ‹‰è¿‘å›¢é˜Ÿï¼Œä¸€èµ·å†™æ—¥è®°ã€è¯»ä¹¦ç¬”è®°ã€è§‚å½±è®°å½•ã€æ¡Œæ¸¸è®°å½•ã€ä¸€èµ·æ‰“å¡ï½ \n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-11T12:56:00.000Z",
        "date": "2023-04-11",
        "type": "Post",
        "slug": "day-2",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "Notion AI çœŸé¦™ï½",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:38:00.000Z",
        "title": "Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬2ç¯‡ã€‘",
        "category": "éšç¬”",
        "tags": [
          "éšç¬”"
        ],
        "status": "Archived",
        "urlname": "dfc6606a-ab95-45f7-94c2-4a736afdf57a",
        "updated": "2023-08-26 15:38:00"
      },
      "body": "",
      "realName": "Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬2ç¯‡ã€‘",
      "relativePath": "/Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬2ç¯‡ã€‘.md"
    },
    {
      "id": "6776bd5c-0ef2-4b60-b651-b08e0f4a4b24",
      "doc_id": "6776bd5c-0ef2-4b60-b651-b08e0f4a4b24",
      "updated": 1693064160000,
      "body_original": "\n1 - ã€Œå­¦ä¹  / æ„Ÿæ‚ŸğŸ¥•ã€\n\n\nä»Šå¤©å†™äº†ä¸€æ™šä¸Šçš„Notion çš„å‡½æ•°ï¼Œç”¨æ¥ç»™TODO List DataBaseå¢åŠ æ¯å‘¨çœ‹æ¿å’Œä¸Šå‘¨çœ‹æ¿\n\n\n<details>\n  <summary>å¦‚ä½•åˆ¤æ–­è¯¥TODOä¸ºæœ¬å‘¨å†…çš„ä»»åŠ¡</summary>\n\n\n```typescript\n// 1. è·å–æœ¬å‘¨èµ·å§‹æ—¶é—´ï¼ˆç›¸å¯¹äºç°åœ¨æ—¶é—´çš„å‘¨ä¸€çš„00:00ï¼‰\n// 1.1 è·å–ä»Šå¤©çš„00:00\n// 1.1.1 è·å–ä»Šå¤©çš„xx:00\nconst time1 = dateSubtract(now(), minute(now()), \"minutes\")\n// 1.1.2 è·å–ä»Šå¤©çš„00:00\nconst time2 = dateSubtract(time1, hour(now()), \"hours\")\n// 1.2 è·å–å‘¨ä¸€çš„00:00\nconst æœ¬å‘¨ä¸€ = dateSubtract(time2, day(now()) - 1, \"days\")\n// å‡½æ•°\ndateSubtract(dateSubtract(dateSubtract(now(), minute(now()), \"minutes\"), hour(now()), \"hours\"), day(now()) - 1, \"days\")\n\n// 2. è·å–æœ¬å‘¨çš„ç»“æŸæ—¶é—´ï¼ˆç›¸å¯¹äºç°åœ¨æ—¶é—´çš„å‘¨æ—¥çš„23:59ï¼‰\n// 2.1 è·å–ä»Šå¤©çš„23:59\n// 2.1.1 è·å–ä»Šå¤©çš„xx:59\nconst time1 = dateAdd(dateAdd(now(), 59 - minute(now()), \"minutes\")\n// 2.1.2 è·å–ä»Šå¤©çš„23:59\nconst time2 = dateAdd(time1, 23 - hour(now()), \"hours\")\n// 2.2 è·å–å‘¨å¤©çš„23:59\nconst æœ¬å‘¨å¤© = dateAdd(time2, 7 - day(now()), \"days\")\n// å‡½æ•°\ndateAdd(dateAdd(dateAdd(now(), 59 - minute(now()), \"minutes\"), 23 - hour(now()), \"hours\"), 7 - day(now()), \"days\")\n\n// 3. åˆ¤æ–­æ˜¯å¦æ˜¯æœ¬å‘¨\nconst æ˜¯å¦æ˜¯æœ¬å‘¨ = and(largerEq(prop(\"æ—¥æœŸ\"), prop(\"æœ¬å‘¨ä¸€\")), smallerEq(prop(\"æ—¥æœŸ\"), prop(\"æœ¬å‘¨å¤©\")))\n```\n\n\n\n  </details>\n\n\n<details>\n  <summary>å¦‚ä½•åˆ¤æ–­è¯¥TODOä¸ºä¸Šå‘¨å†…çš„ä»»åŠ¡</summary>\n\n\n```typescript\n// 1. è·å–ä¸Šå‘¨èµ·å§‹æ—¶é—´ï¼ˆç›¸å¯¹äºç°åœ¨æ—¶é—´çš„ä¸Šå‘¨ä¸€çš„00:00ï¼‰\n// 1.1 è·å–æœ¬å‘¨ä¸€çš„æ—¶é—´\nconst time1 = dateSubtract(now(), day(now()) - 1, \"days\")\n// 1.2 è·å–ä¸Šå‘¨ä¸€çš„æ—¶é—´\nconst time2 = dateSubtract(time1, 7, \"days\")\n// 1.3 è·å–ä¸Šå‘¨ä¸€çš„xx:00\nconst time3 = dateSubtract(time2, minute(time2), \"minutes\")\n// 1.4 è·å–ä¸Šå‘¨ä¸€çš„00:00\nconst ä¸Šå‘¨ä¸€ = dateSubtract(time3, hour(time2), \"hours\")\n// å‡½æ•°\ndateSubtract(dateSubtract(dateSubtract(dateSubtract(now(), day(now()) - 1, \"days\"), 7, \"days\"), minute(dateSubtract(dateSubtract(now(), day(now()) - 1, \"days\"), 7, \"days\")), \"minutes\"), hour(dateSubtract(dateSubtract(now(), day(now()) - 1, \"days\"), 7, \"days\")), \"hours\")\n\n// 2. è·å–ä¸Šå‘¨çš„ç»“æŸæ—¶é—´ï¼ˆç›¸å¯¹äºç°åœ¨æ—¶é—´çš„ä¸Šå‘¨æ—¥çš„23:59ï¼‰\n// 2.1 è·å–æœ¬å‘¨æ—¥çš„æ—¶é—´\nconst time1 = dateAdd(now(), 7 - day(now()), \"days\")\n// 2.2 è·å–ä¸Šå‘¨æ—¥çš„æ—¶é—´\nconst time2 = dateSubtract(time1, 7, \"days\")\n// 2.3 è·å–ä¸Šå‘¨æ—¥çš„xx:59\nconst time3 = dateAdd(time2, 59 - minute(time2), \"minutes\")\n// 2.4 è·å–ä¸Šå‘¨æ—¥çš„23:59\nconst ä¸Šå‘¨æ—¥ = dateAdd(time3, 23 - hour(time2), \"hours\")\n// å‡½æ•°\ndateAdd(dateAdd(dateSubtract(dateAdd(now(), 7 - day(now()), \"days\"), 7, \"days\"), 59 - minute(dateSubtract(dateAdd(now(), 7 - day(now()), \"days\"), 7, \"days\")), \"minutes\"), 23 - hour(dateSubtract(dateAdd(now(), 7 - day(now()), \"days\"), 7, \"days\")), \"hours\")\n\n// 3. åˆ¤æ–­æ˜¯å¦æ˜¯ä¸Šå‘¨\nconst æ˜¯å¦æ˜¯ä¸Šå‘¨ = and(largerEq(prop(\"æ—¥æœŸ\"), prop(\"ä¸Šå‘¨ä¸€\")), smallerEq(prop(\"æ—¥æœŸ\"), prop(\"ä¸Šå‘¨æ—¥\")))\n```\n\n\n\n  </details>\n\n\n2 - ã€Œè½»æ¾ä¸€åˆ» ğŸ®ã€\n\n\n6ç‚¹å‡†æ—¶ä¸‹ç­ï¼Œè€¶ç¨£ä¹Ÿæ‹¦ä¸ä½æˆ‘ï¼å»ä½›å±±å¬è‰è“éŸ³ä¹èŠ‚å’¯ï½\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-13T15:46:00.000Z",
        "date": "2023-04-14",
        "type": "Post",
        "slug": "day-4",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "Notion å‡½æ•°å†™èµ·æ¥çœŸè¦å‘½",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:36:00.000Z",
        "title": "Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬4ç¯‡ã€‘",
        "category": "éšç¬”",
        "tags": [
          "éšç¬”"
        ],
        "status": "Archived",
        "urlname": "6776bd5c-0ef2-4b60-b651-b08e0f4a4b24",
        "updated": "2023-08-26 15:36:00"
      },
      "body": "",
      "realName": "Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬4ç¯‡ã€‘",
      "relativePath": "/Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬4ç¯‡ã€‘.md"
    },
    {
      "id": "7a8d6502-371a-49f8-baa2-c6e0127040f4",
      "doc_id": "7a8d6502-371a-49f8-baa2-c6e0127040f4",
      "updated": 1693064160000,
      "body_original": "\n1 - ã€Œæ€»ç»“ ğŸ¥•ã€\n\n\nä»Šå¤©æŠŠä¹‹å‰è®°å½•çš„Notionå‡½æ•°çš„ä½¿ç”¨æ€»ç»“æˆä¸€ç¯‡æ–‡æ¡£ [ç©è½¬Notionç³»åˆ—â€”â€”TODO List](https://www.notion.so/6c0aa69b7ec647acb2fd4984e2f4e020) ï¼Œç®—æ˜¯æˆ‘æ­å»ºNotionä¸ªäººä¸»é¡µçš„ä¸€ä¸ªå¼€ç«¯å§ã€‚æˆ‘ä¼šæŠŠè¿™ä¸ªç³»åˆ—æŒ‰ç…§æˆ‘è‡ªå·±çš„éœ€æ±‚æ›´æ–°ä¸‹å»ï¼Œè‡ªå·±è·ç›Šçš„åŒæ—¶ä¹Ÿèƒ½å¸®åŠ©åˆ°åˆ«äººã€‚è¿™ä¹Ÿæ˜¯æˆ‘åšåšå®¢çš„æ„ä¹‰ï¼šç”¨è€å¸ˆçš„è§†è§’å†™æ–‡ç« ï¼Œå°±ä¼šå‘ç°è®¸å¤šè‡ªå·±å®è·µè¿‡ç¨‹ä¸­çš„å„ç§é—®é¢˜ç»†èŠ‚ï¼Œè¿™å¯¹äºè‡ªå·±å¯¹æŠ€æœ¯çš„ç†è§£ä¼šæ›´åŠ çš„å®Œå–„ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªè¯•é”™çš„è¿‡ç¨‹ã€‚\n\n\n`Sevençš„æˆé•¿ç¬”è®°`æ›´åƒæ˜¯ä¸€ä¸ªæ¯æ—¥æ€»ç»“ï¼Œæ¯å¤©è®°å½•çš„ä¸€äº›çµæ„Ÿæˆ–è€…æŠ€æœ¯ç‚¹éƒ½æœ‰å¯èƒ½å­µåŒ–æˆä¸€ç¯‡æŠ€æœ¯åˆ†äº«ã€‚å°±åƒåœ¨å…¬å¸ä¸­ï¼Œä¸€èˆ¬ç»„å†…æˆ–è€…å…¬å¸å†…éƒ½ä¼šç»„ç»‡ä¸€äº›æŠ€æœ¯åˆ†äº«ä¼šï¼Œè€Œå¾ˆå¤šäººåŒ…æ‹¬æˆ‘è‡ªå·±å¯¹äºç±»ä¼¼çš„åˆ†äº«ä¼šæ€»æ˜¯ä¼šæœ‰ä¸€äº›æŠ—æ‹’ï¼šå› ä¸ºæ ¹æœ¬ä¸çŸ¥é“è‡ªå·±èƒ½åˆ†äº«ä»€ä¹ˆã€‚å¹³æ—¶975çš„ä¸¤ç‚¹ä¸€çº¿å’Œé¡µé¢ä»”æ—¥å¸¸ï¼Œæ”¾åœ¨ä»¥å‰æˆ‘åŸºæœ¬æ€»ç»“ä¸å‡ºä»€ä¹ˆæ¥ã€‚\n\n\nç°åœ¨åˆ†æçœ‹æ¥ï¼Œæ²¡æœ‰å¯åˆ†äº«çš„ç‚¹çš„å…¶ä¸­ä¸€ä¸ªåŸå› å°±æ˜¯å¿˜äº†è‡ªå·±åšè¿‡ä»€ä¹ˆï¼Œå³ä½¿æƒ³èµ·æ¥åä¹Ÿä¼šè§‰å¾—è¿™ä¸ªç‚¹å¥½åƒæ²¡å•¥å¯åˆ†äº«çš„ã€‚è€Œç°åœ¨æˆ‘æœ€ç›´è§‚çš„æ„Ÿè§‰å°±æ˜¯ï¼šæˆé•¿æ—¥è®° â‡’ å­µåŒ–ä¸ºå¤´è„‘é£æš´ â‡’ å­µåŒ–ä¸ºæŠ€æœ¯åˆ†äº«ã€‚å› ä¸ºå¹³æ—¶æœ‰è®°å½•ï¼Œæ‰€ä»¥å›è¿‡å¤´æ¥å†™åˆ†äº«æ–‡ç« å°±ä¼šå¾—å¿ƒåº”æ‰‹ï¼Œç¨å¾®ä¸€æ‹“å±•å°±æ˜¯ä¸€ç¯‡æŠ€æœ¯æ–‡æ¡£ã€‚\n\n\næ‰€ä»¥æˆ‘ç°åœ¨æ˜¯æŠŠå¤´è„‘é£æš´ç›´æ¥å’Œåšå®¢æ–‡æ¡£å…³è”èµ·æ¥ï¼Œå°½åŠ›è®©æ¯ä¸€ä¸ªå¤´è„‘é£æš´éƒ½èƒ½å­µåŒ–ä¸ºä¸€ç¯‡æŠ€æœ¯æ–‡æ¡£ã€‚\n\n\n2 - ã€Œæ„Ÿæ©â¤ï¸ã€\n\n\nä»Šå¤©æŠŠç©è½¬Notionç³»åˆ—æ–‡æ¡£åˆ†äº«åˆ°ç¾¤é‡Œåï¼Œæ„å¤–æ”¶è·äº†ä¸€ä¸ªå¥½è¯„ ğŸ¤£ï¼Œå°±å¾ˆæ„Ÿè°¢å“ˆå“ˆå“ˆå“ˆ\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-16T16:39:00.000Z",
        "date": "2023-04-15",
        "type": "Post",
        "slug": "day-5",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:36:00.000Z",
        "title": "Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬5ç¯‡ã€‘",
        "category": "éšç¬”",
        "tags": [
          "éšç¬”"
        ],
        "status": "Archived",
        "urlname": "7a8d6502-371a-49f8-baa2-c6e0127040f4",
        "updated": "2023-08-26 15:36:00"
      },
      "body": "",
      "realName": "Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬5ç¯‡ã€‘",
      "relativePath": "/Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬5ç¯‡ã€‘.md"
    },
    {
      "id": "48389da8-9151-4994-9902-2166f2208925",
      "doc_id": "48389da8-9151-4994-9902-2166f2208925",
      "updated": 1693064040000,
      "body_original": "\n1 - ã€Œå­¦ä¹  / æ„Ÿæ‚ŸğŸ¥•ã€\n\n\nåœæ›´è›®ä¹…æ—¶é—´çš„ï¼Œå‰æ®µæ—¶é—´å¯¹è‡ªå·±çš„è§„åˆ’æ¯”è¾ƒè¿·èŒ«ï¼Œæœ€è¿‘æ­£åœ¨åœ¨è°ƒæ•´ä¸­â€¦\n\n\nç»™è‡ªå·±æ¯å¤©æ™šä¸Šç•™30åˆ†é’Ÿæ¥å†™ä½œæ˜¯æˆ‘è°ƒæ•´çš„ç¬¬ä¸€æ­¥ã€‚\n\n\næœ€è¿‘åœ¨æŒ‘æˆ˜ [FlowUs](https://flowus.cn/) çš„å®¢æˆ·ç«¯æ¸²æŸ“ï¼šç ”ç©¶å®ƒçš„ Open API ï¼Œç„¶åå®ç°å®¢æˆ·ç«¯æ¸²æŸ“é€»è¾‘ï¼Œç”šè‡³åŠ å¼ºå®¢æˆ·ç«¯æ¸²æŸ“ã€‚é¢„è®¡è¿™ä¸ªæœˆèƒ½å‡ºä¸€ä¸ª [Demo](https://github.com/FlowUsX) ï¼Œæ‹­ç›®ä»¥å¾…å§ï¼\n\n\nåˆšåˆšåœ¨æ´—æ¾¡çš„æ—¶å€™ï¼Œçªç„¶çµå…‰ä¸€é—ªã€‚æˆ‘è®¤è¯†çš„å¾ˆå¤šå¤§ä½¬éƒ½æœ‰è‡ªå·±çš„å…¬ä¼—å·ï¼Œå¾ˆå¤šæ–‡ç« éƒ½æ˜¯åŒæ­¥æ›´æ–°åˆ°å¾®ä¿¡å…¬ä¼—å·ä¸Šã€‚é‚£ä¹ˆElogæ˜¯å¦æ”¯æŒç›´æ¥æŠŠå†™ä½œå¹³å°çš„æ–‡æ¡£ç›´æ¥å‘å¸ƒåˆ°å…¬ä¼—å·å‘¢ã€‚è™½ç„¶æƒ³è¿‡å¯èƒ½æ€§ä¸å¤§ï¼Œä½†æ˜¯æˆ‘æœ‰ä¸€ä¸ªæ–°çš„ç‚¹å­ï¼šå°±æ˜¯æŠŠå†™ä½œå¹³å°çš„`markdown`æ–‡æ¡£è½¬æˆç¬¦åˆå…¬ä¼—å·æ’ç‰ˆçš„å¯Œæ–‡æœ¬ã€‚ä¹‹å‰å°±æœ‰ä½“éªŒè¿‡åœ¨æŸä¸ªç½‘ç«™å°†`markdown`æ–‡æ¡£è½¬æˆå…¬ä¼—å·æ’ç‰ˆï¼Œæ‰€ä»¥å¯ä»¥æŠŠè¿™ä¸ªåŠŸèƒ½é›†æˆåˆ°Elogä¸­ï¼Œæœ€å¥½èƒ½åšåˆ°ä¸€é”®é¢„è§ˆå’Œå‘å¸ƒï¼\n\n\n2 - ã€Œæ„Ÿæ©â¤ï¸ã€\n\n\n[Elog](https://elog.1874.cool/) çš„ Star æ•°æ¯å¤©éƒ½æœ‰æ¶¨ä¸€ä¸¤ä¸ªï¼Œä¹Ÿæœ‰å¾ˆå¤šä½“éªŒè€…æäº†ä¸€äº›æ„è§ï¼Œæ„Ÿæ©TAä»¬ï¼Œè¿™æ®µæ—¶é—´ä¼šæŠ½ç©ºé‡æ–°æ•´ç†ä¸‹ Elog æ•™ç¨‹å’Œæå‡ä½“éªŒä¼˜åŒ–ã€‚\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-07-04T15:51:00.000Z",
        "date": "2023-07-04",
        "type": "Post",
        "slug": "day-7",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "FlowUs X",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:34:00.000Z",
        "title": "Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬7ç¯‡ã€‘",
        "category": "éšç¬”",
        "tags": [
          "éšç¬”"
        ],
        "status": "Archived",
        "urlname": "48389da8-9151-4994-9902-2166f2208925",
        "updated": "2023-08-26 15:34:00"
      },
      "body": "",
      "realName": "Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬7ç¯‡ã€‘",
      "relativePath": "/Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬7ç¯‡ã€‘.md"
    },
    {
      "id": "cf511d6f-d2c2-49c2-a3a2-84a1f55a546a",
      "doc_id": "cf511d6f-d2c2-49c2-a3a2-84a1f55a546a",
      "updated": 1693063680000,
      "body_original": "\n1 - ã€Œå­¦ä¹  / æ„Ÿæ‚ŸğŸ¥•ã€ç¬”è®°\n\n\nè‡ªä»è°ƒåˆ°æ–°ç»„ä¹‹åï¼Œå‘ç°å¤§å®¶åŸºæœ¬æ²¡æœ‰å†™æŠ€æœ¯æ–¹æ¡ˆå’ŒæŠ€æœ¯è¯„å®¡çš„ä¹ æƒ¯ï¼Œè€Œä¸”ä¸€ä¸ªéœ€æ±‚ä¸Šçº¿è¿‡ç¨‹ä¸­ï¼Œæµ‹è¯•ã€å‰ç«¯ã€åç«¯éƒ½ä¸æ€ä¹ˆæ²Ÿé€šçš„ã€‚è¿™ä¸€ç‚¹è®©æˆ‘å¾ˆè¯§å¼‚ï¼Œéš¾é“äº§å“ã€æµ‹è¯•ã€å¼€å‘å¯¹ä¸€ä¸ªéœ€æ±‚çš„ç†è§£ä¼šè¿™ä¹ˆåŒæ­¥å—ï¼Ÿ\n\n\nåœ¨ä¹‹å‰å°ç»„ï¼Œäº§å“ç»ç†è®²å®Œéœ€æ±‚åï¼Œå¼€å‘äººå‘˜ä¼šç†è§£å®Œéœ€æ±‚å†å¬é›†æµ‹è¯•å’Œäº§å“ç»ç†é‡æ–°å¤è¿°ä¸€éã€‚è€Œä¸”è¿˜ä¼šå¼€ä¸€æ¬¡æŠ€æœ¯æ–¹æ¡ˆè¯„å®¡ã€ä¸€æ¬¡æµ‹è¯•ç”¨ä¾‹è¯„å®¡ï¼Œå¼€å‘å®Œè¿˜å¾—å†æŠŠäº§å“ç»ç†å«è¿‡æ¥æ¼”ç¤ºä¸€ä¸‹ï¼Œä¿è¯éœ€æ±‚ç‚¹çš„æ˜ç¡®å’Œä¸€è‡´æ€§ã€‚ä½†æ˜¯åœ¨æ–°ç»„å°±æ²¡çœ‹åˆ°æœ‰è¿™æ ·çš„æµç¨‹ï¼Œæƒ³äº†ä¸‹å¯èƒ½æœ‰ä»¥ä¸‹å‡ ä¸ªåŸå› ï¼š\n\n1. æ–°ç»„çš„å¤§éƒ¨åˆ†éœ€æ±‚ç‚¹éå¸¸çš„å°ï¼Œæ‰€ä»¥ç›¸å½“çš„æ˜ç¡®ï¼ŒåŸºæœ¬ä¸Šå¤§å®¶åšå¥½è‡ªå·±çš„äº‹å°±è¡Œ\n2. å†åŠ ä¸Šæ¯ä¸ªäººè´Ÿè´£çš„æ¨¡å—ç›¸å¯¹ç‹¬ç«‹ï¼Œæ‰€ä»¥æŠ€æœ¯ç»†èŠ‚åŸºæœ¬ä¸Šéƒ½æ˜¯è‡ªå·±è¯´äº†ç®—\n3. ç›¸å¯¹ä¹‹å‰çš„ç»„ï¼Œç¡®å®ç¼ºå°‘ä¸€äº›æŠ€æœ¯æ°›å›´\n\nè¿™å…¶å®è®©æˆ‘æœ‰ç‚¹ä¸å¤ªé€‚åº”ï¼Œä½†å› ä¸ºæˆ‘æ—¶é—´ç›¸å¯¹æ¯”è¾ƒå……è£•ï¼Œè€Œä¸”éœ€è¦ç†è§£æ–°çš„ä¸šåŠ¡å’Œéœ€æ±‚ã€‚æˆ‘è¿˜æ˜¯å°½é‡ä¿æŒä¹‹å‰çš„ä¹ æƒ¯ï¼ŒåŸºæœ¬ä¸Šæ¯ä¸ªéœ€æ±‚éƒ½å†™äº†æŠ€æœ¯æ–¹æ¡ˆã€‚æ–¹ä¾¿è‡ªå·±ä¹Ÿæ–¹ä¾¿æµ‹è¯•äººå‘˜ï¼Œè‡³å°‘åœ¨å‡ºé—®é¢˜çš„æ—¶å€™èƒ½æº¯æºï¼Œåˆ°åº•æ˜¯éœ€æ±‚é—®é¢˜è¿˜æ˜¯æˆ‘çš„ä»£ç é—®é¢˜ã€‚\n\n\n2 - ã€Œæ„Ÿæ©â¤ï¸ã€\n\n\nV2EXè¿™ä¸ªç½‘ç«™çœŸçš„æ˜¯æ‘¸é±¼ç¥å™¨ï¼Œæ— èŠçš„æ—¶å€™åˆ·åˆ·å¸–å­è¿˜æŒºèƒ½å­¦åˆ°å¾ˆå¤šçŸ¥è¯†çš„ï¼Œé‡Œé¢çš„å¤§ä½¬æ˜¯çœŸçš„å¤šï¼Œéå¸¸Niceï¼\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-07-05T15:26:00.000Z",
        "date": "2023-07-05",
        "type": "Post",
        "slug": "day-8",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:28:00.000Z",
        "title": "Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬8ç¯‡ã€‘",
        "category": "éšç¬”",
        "tags": [
          "éšç¬”"
        ],
        "status": "Archived",
        "urlname": "cf511d6f-d2c2-49c2-a3a2-84a1f55a546a",
        "updated": "2023-08-26 15:28:00"
      },
      "body": "",
      "realName": "Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬8ç¯‡ã€‘",
      "relativePath": "/Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬8ç¯‡ã€‘.md"
    },
    {
      "id": "dce9227d-2771-4829-8748-2f85fe4f57ca",
      "doc_id": "dce9227d-2771-4829-8748-2f85fe4f57ca",
      "updated": 1693063680000,
      "body_original": "\n1 - ã€Œå­¦ä¹  / æ„Ÿæ‚ŸğŸ¥•ã€\n\n\nä»Šå¤©é‡åˆ°äº†ä¸€ä¸ªå®è—åšä¸»ï¼Œä»–çš„çŸ¥è¯†åº“çš„è§„åˆ’è®©æˆ‘é†é†çŒé¡¶ã€‚\n\n\n![](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/ea428668-4d33-404b-a53e-fc49705ebef9/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230927%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20230927T015942Z&X-Amz-Expires=3600&X-Amz-Signature=8a187252a5a7aa799c0d61f232be00ca5b345df726bb23a26bd3bbc0d6941b70&X-Amz-SignedHeaders=host&x-id=GetObject)\n\n\né¦–å…ˆï¼Œä»å¸ƒå±€ä¸Šå°±å¾ˆèˆ’é€‚ï¼Œä¹Ÿå¾ˆå¥½çœ‹ã€‚éšæ„ç¿»çœ‹äº†å‡ ç¯‡æ–‡æ¡£ï¼Œä»¥ä¸ºä»–æ˜¯ä¸€ä¸ªäº§å“ç»ç†ï¼Œä¸æ˜¯ä¸€ä¸ªç¨‹åºå‘˜ï¼Œä½†æ˜¯åˆå›æƒ³åˆ°ä»–è‡ªå·±æœ‰å¼€å‘å‰ç«¯å·¥å…·æ¥ç€ã€‚éšåæˆ‘åˆè®¤çœŸçœ‹äº†ä»–çš„èŠ±å›­å®šä½\n\n\n![](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/a3c965e4-e9c3-4cab-b4ca-de0a6bba4a4d/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230927%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20230927T015942Z&X-Amz-Expires=3600&X-Amz-Signature=fe5d0b079b493cbcf53c023eb503fda7e74be07b8ec4c8163b57dbc203771393&X-Amz-SignedHeaders=host&x-id=GetObject)\n\n\nçªç„¶æœ‰äº†ä¸€ç§è±ç„¶å¼€æœ—çš„æ„Ÿè§‰ã€‚å› ä¸ºåœ¨æˆ‘çš„æ½œæ„è¯†é‡Œï¼Œç¨‹åºå‘˜å°±æ˜¯å•çº¯ææŠ€æœ¯çš„äººã€‚ä½†æ˜¯åšä¸»ç»™æˆ‘çš„æ„Ÿè§‰å°±æ˜¯ï¼Œç¨‹åºå‘˜æ˜¯æ˜¯å¯ä»¥ã€Œä¸è®¾é™-æŠ€æœ¯ä¹‹å¤–ã€çš„ã€‚è¿™è®©æˆ‘é‡æ–°å®¡è§†äº†è‡ªå·±çš„ä¸€äº›è§„åˆ’ï¼Œç”šè‡³è§£å†³äº†å›°æ‰°æˆ‘çš„ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœæˆ‘ä»Šå¤©æ²¡æœ‰å­¦åˆ°ä»€ä¹ˆï¼Œæˆ‘æ‹¿ä»€ä¹ˆå†™æˆé•¿æ—¥è®°ï¼Ÿç°åœ¨å·²ç»è§£å†³äº†ï¼Œæˆ‘æ²¡å¿…è¦æ€»ç»“ä¸€äº›ä»…é™äºæŠ€æœ¯å’Œæˆ‘è®¤ä¸ºçš„é¢†åŸŸå†…çš„ä¸œè¥¿ï¼Œæˆ‘æœ‰æ— é™çš„çŸ¥è¯†æµ·æ´‹å¯ä»¥ç¿±ç¿”ï¼\n\n\næˆ‘ç¬é—´å°±ç½—åˆ—äº†å¾ˆå¤šæˆ‘ä¹‹å‰å­˜åœ¨çš„ç—›ç‚¹ï¼Œç„¶åæœ‰äº†ä¸€ä¸ªå¤§æ¦‚çš„è®¡åˆ’å»å®æ–½ã€‚\n\n\nè‡³å°‘ï¼Œæœªæ¥ä¸€é˜µå­ä¸ä¼šå½·å¾¨äº†ï½\n\n\n2 - ã€Œæ„Ÿæ©â¤ï¸ã€\n\n\næ„Ÿè°¢ [vannvan](https://www.yuque.com/vannvan)ï¼Œè®©æˆ‘å—ç›ŠåŒªæµ…ã€‚\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-07-08T15:34:00.000Z",
        "date": "2023-07-09",
        "type": "Post",
        "slug": "day-9",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:28:00.000Z",
        "title": "Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬9ç¯‡ã€‘",
        "category": "éšç¬”",
        "tags": [
          "éšç¬”"
        ],
        "status": "Archived",
        "urlname": "dce9227d-2771-4829-8748-2f85fe4f57ca",
        "updated": "2023-08-26 15:28:00"
      },
      "body": "",
      "realName": "Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬9ç¯‡ã€‘",
      "relativePath": "/Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬9ç¯‡ã€‘.md"
    },
    {
      "id": "0b80c709-5327-47c1-80e4-383090c64040",
      "doc_id": "0b80c709-5327-47c1-80e4-383090c64040",
      "updated": 1693063560000,
      "body_original": "\n# å¼•è¨€\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2022-03-29",
        "type": "Post",
        "slug": "react-state",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:26:00.000Z",
        "title": "ç¬¬å…­ç«  çŠ¶æ€æ›´æ–°",
        "category": "å­¦ä¹ ç¬”è®°",
        "tags": [
          "è‡ªé¡¶å‘ä¸‹å­¦ä¹ Reactæºç ",
          "React"
        ],
        "status": "Draft",
        "urlname": "0b80c709-5327-47c1-80e4-383090c64040",
        "updated": "2023-08-26 15:26:00"
      },
      "body": "",
      "realName": "ç¬¬å…­ç«  çŠ¶æ€æ›´æ–°",
      "relativePath": "/ç¬¬å…­ç«  çŠ¶æ€æ›´æ–°.md"
    },
    {
      "id": "8c1f610f-80e0-45a6-821f-ba595c26e48a",
      "doc_id": "8c1f610f-80e0-45a6-821f-ba595c26e48a",
      "updated": 1693063560000,
      "body_original": "\n# å¼•è¨€\n\n\nå¯¹äº`update`çš„ç»„ä»¶ï¼Œ`React`ä¼šå°†å½“å‰ç»„ä»¶ä¸è¯¥ç»„ä»¶åœ¨ä¸Šæ¬¡æ›´æ–°æ—¶å¯¹åº”çš„`Fiber`èŠ‚ç‚¹æ¯”è¾ƒï¼ˆä¹Ÿå°±æ˜¯ä¿—ç§°çš„`Diff`ç®—æ³•ï¼‰ï¼Œå°†æ¯”è¾ƒçš„ç»“æœç”Ÿæˆæ–°`Fiber`èŠ‚ç‚¹ã€‚\n\n\n> ä½ å¯ä»¥ä»[è¿™é‡Œ](https://zh-hans.reactjs.org/docs/reconciliation.html#the-diffing-algorithm)çœ‹åˆ°Diffç®—æ³•çš„ä»‹ç»ã€‚\n\n\nä¸€ä¸ª DOM èŠ‚ç‚¹åœ¨æŸä¸€æ—¶åˆ»æœ€å¤šä¼šæœ‰ 4 ä¸ªèŠ‚ç‚¹å’Œä»–ç›¸å…³ã€‚\n\n1. `current Fiber`ã€‚å¦‚æœè¯¥`DOM`èŠ‚ç‚¹å·²åœ¨é¡µé¢ä¸­ï¼Œ`current Fiber`ä»£è¡¨è¯¥`DOM`èŠ‚ç‚¹å¯¹åº”çš„`Fiber`èŠ‚ç‚¹ã€‚\n2. `workInProgress Fiber`ã€‚å¦‚æœè¯¥`DOM`èŠ‚ç‚¹å°†åœ¨æœ¬æ¬¡æ›´æ–°ä¸­æ¸²æŸ“åˆ°é¡µé¢ä¸­ï¼Œ`workInProgress Fiber`ä»£è¡¨è¯¥`DOM`èŠ‚ç‚¹å¯¹åº”çš„`Fiber`èŠ‚ç‚¹ã€‚\n3. `DOM`èŠ‚ç‚¹æœ¬èº«ã€‚\n4. `JSX`å¯¹è±¡ã€‚å³`ClassComponent`çš„`render`æ–¹æ³•çš„è¿”å›ç»“æœï¼Œæˆ–`FunctionComponent`çš„è°ƒç”¨ç»“æœã€‚`JSX`å¯¹è±¡ä¸­åŒ…å«æè¿°`DOM`èŠ‚ç‚¹çš„ä¿¡æ¯ã€‚\n\n`Diff`ç®—æ³•çš„æœ¬è´¨æ˜¯å¯¹æ¯” 1 å’Œ 4ï¼Œç”Ÿæˆ 2ã€‚\n\n\n# Diff çš„ç“¶é¢ˆä»¥åŠ React å¦‚ä½•åº”å¯¹\n\n\nç”±äº`Diff`æ“ä½œæœ¬èº«ä¹Ÿä¼šå¸¦æ¥æ€§èƒ½æŸè€—ï¼Œ`React`æ–‡æ¡£ä¸­æåˆ°ï¼Œå³ä½¿åœ¨æœ€å‰æ²¿çš„ç®—æ³•ä¸­ï¼Œå°†å‰åä¸¤æ£µæ ‘å®Œå…¨æ¯”å¯¹çš„ç®—æ³•çš„å¤æ‚ç¨‹åº¦ä¸º `O(n3)`ï¼Œå…¶ä¸­`n`æ˜¯æ ‘ä¸­å…ƒç´ çš„æ•°é‡ã€‚ å¦‚æœåœ¨`React`ä¸­ä½¿ç”¨äº†è¯¥ç®—æ³•ï¼Œé‚£ä¹ˆå±•ç¤º`1000`ä¸ªå…ƒç´ æ‰€éœ€è¦æ‰§è¡Œçš„è®¡ç®—é‡å°†åœ¨åäº¿çš„é‡çº§èŒƒå›´ã€‚è¿™ä¸ªå¼€é”€å®åœ¨æ˜¯å¤ªè¿‡é«˜æ˜‚ã€‚ ä¸ºäº†é™ä½ç®—æ³•å¤æ‚åº¦ï¼Œ`React`çš„`diff`ä¼šé¢„è®¾ä¸‰ä¸ªé™åˆ¶ï¼š\n\n1. åªå¯¹åŒçº§å…ƒç´ è¿›è¡Œ`Diff`ã€‚å¦‚æœä¸€ä¸ª`DOM`èŠ‚ç‚¹åœ¨å‰åä¸¤æ¬¡æ›´æ–°ä¸­è·¨è¶Šäº†å±‚çº§ï¼Œé‚£ä¹ˆ`React`ä¸ä¼šå°è¯•å¤ç”¨ä»–ã€‚\n2. ä¸¤ä¸ªä¸åŒç±»å‹çš„å…ƒç´ ä¼šäº§ç”Ÿå‡ºä¸åŒçš„æ ‘ã€‚å¦‚æœå…ƒç´ ç”±`div`å˜ä¸º`p`ï¼Œ`React`ä¼šé”€æ¯`div`åŠå…¶å­å­™èŠ‚ç‚¹ï¼Œå¹¶æ–°å»º`p`åŠå…¶å­å­™èŠ‚ç‚¹ã€‚\n3. å¼€å‘è€…å¯ä»¥é€šè¿‡ `key prop`æ¥æš—ç¤ºå“ªäº›å­å…ƒç´ åœ¨ä¸åŒçš„æ¸²æŸ“ä¸‹èƒ½ä¿æŒç¨³å®šã€‚è€ƒè™‘å¦‚ä¸‹ä¾‹å­ï¼š\n\n```html\n// æ›´æ–°å‰\n<div>\n  <p key=\"ka\">ka</p>\n  <h3 key=\"song\">song</h3>\n</div>\n\n// æ›´æ–°å\n<div>\n  <h3 key=\"song\">song</h3>\n  <p key=\"ka\">ka</p>\n</div>\n```\n\n\nå¦‚æœæ²¡æœ‰`key`ï¼Œ`React`ä¼šè®¤ä¸º`div`çš„ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹ç”±`p`å˜ä¸º`h3`ï¼Œç¬¬äºŒä¸ªå­èŠ‚ç‚¹ç”±`h3`å˜ä¸º`p`ã€‚è¿™ç¬¦åˆé™åˆ¶ 2 çš„è®¾å®šï¼Œä¼šé”€æ¯å¹¶æ–°å»ºã€‚ ä½†æ˜¯å½“æˆ‘ä»¬ç”¨`key`æŒ‡æ˜äº†èŠ‚ç‚¹å‰åå¯¹åº”å…³ç³»åï¼Œ`React`çŸ¥é“`key === \"ka\"`çš„`p`åœ¨æ›´æ–°åè¿˜å­˜åœ¨ï¼Œæ‰€ä»¥`DOM`èŠ‚ç‚¹å¯ä»¥å¤ç”¨ï¼Œåªæ˜¯éœ€è¦äº¤æ¢ä¸‹é¡ºåºã€‚ è¿™å°±æ˜¯`React`ä¸ºäº†åº”å¯¹ç®—æ³•æ€§èƒ½ç“¶é¢ˆåšå‡ºçš„ä¸‰æ¡é™åˆ¶ã€‚\n\n\n# Diff æ˜¯å¦‚ä½•å®ç°çš„\n\n\nä»`Diff`çš„å…¥å£å‡½æ•°`reconcileChildFibers`å‡ºå‘ï¼Œè¯¥å‡½æ•°ä¼šæ ¹æ®`newChild`ï¼ˆå³`JSX`å¯¹è±¡ï¼‰ç±»å‹è°ƒç”¨ä¸åŒçš„å¤„ç†å‡½æ•°ã€‚\n\n\n> ä½ å¯ä»¥ä»[è¿™é‡Œ](https://github.com/facebook/react/blob/1fb18e22ae66fdb1dc127347e169e73948778e5a/packages/react-reconciler/src/ReactChildFiber.new.js#L1280)çœ‹åˆ°`reconcileChildFibers`çš„æºç ã€‚\n\n\n```typescript\n// æ ¹æ®newChildç±»å‹é€‰æ‹©ä¸åŒdiffå‡½æ•°å¤„ç†\nfunction reconcileChildFibers(\n  returnFiber: Fiber,\n  currentFirstChild: Fiber | null,\n  newChild: any\n): Fiber | null {\n  const isObject = typeof newChild === \"object\" && newChild !== null;\n\n  if (isObject) {\n    // objectç±»å‹ï¼Œå¯èƒ½æ˜¯ REACT_ELEMENT_TYPE æˆ– REACT_PORTAL_TYPE\n    switch (newChild.$$typeof) {\n      case REACT_ELEMENT_TYPE:\n      // è°ƒç”¨ reconcileSingleElement å¤„ç†\n      // // ...çœç•¥å…¶ä»–case\n    }\n  }\n\n  if (typeof newChild === \"string\" || typeof newChild === \"number\") {\n    // è°ƒç”¨ reconcileSingleTextNode å¤„ç†\n    // ...çœç•¥\n  }\n\n  if (isArray(newChild)) {\n    // è°ƒç”¨ reconcileChildrenArray å¤„ç†\n    // ...çœç•¥\n  }\n\n  // ä¸€äº›å…¶ä»–æƒ…å†µè°ƒç”¨å¤„ç†å‡½æ•°\n  // ...çœç•¥\n\n  // ä»¥ä¸Šéƒ½æ²¡æœ‰å‘½ä¸­ï¼Œåˆ é™¤èŠ‚ç‚¹\n  return deleteRemainingChildren(returnFiber, currentFirstChild);\n}\n```\n\n\nå¯ä»¥ä»åŒçº§çš„èŠ‚ç‚¹æ•°é‡å°†`Diff`åˆ†ä¸ºä¸¤ç±»ï¼š\n\n1. å½“`newChild`ç±»å‹ä¸º`object`ã€`number`ã€`string`ï¼Œä»£è¡¨åŒçº§åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹\n2. å½“`newChild`ç±»å‹ä¸º`Array`ï¼ŒåŒçº§æœ‰å¤šä¸ªèŠ‚ç‚¹\n\n# å•èŠ‚ç‚¹ Diff\n\n\nå¯¹äºå•ä¸ªèŠ‚ç‚¹ï¼Œä»¥ç±»å‹`object`ä¸ºä¾‹ï¼Œä¼šè¿›å…¥`reconcileSingleElement`\n\n\n> ä½ å¯ä»¥ä»[è¿™é‡Œ](https://github.com/facebook/react/blob/1fb18e22ae66fdb1dc127347e169e73948778e5a/packages/react-reconciler/src/ReactChildFiber.new.js#L1141)çœ‹åˆ°`reconcileSingleElement`æºç \n\n\n```typescript\nconst isObject = typeof newChild === \"object\" && newChild !== null;\n\nif (isObject) {\n  // å¯¹è±¡ç±»å‹ï¼Œå¯èƒ½æ˜¯ REACT_ELEMENT_TYPE æˆ– REACT_PORTAL_TYPE\n  switch (newChild.$$typeof) {\n    case REACT_ELEMENT_TYPE:\n    // è°ƒç”¨ reconcileSingleElement å¤„ç†\n    // ...å…¶ä»–case\n  }\n}\n```\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fob_llXO4IWuOz8t8LLXpU1vWzZv.png)\n\n\n```typescript\n// returnFiber: current fiberçš„çˆ¶çº§fiber\n// currentFirstChild: å½“å‰çš„current fiberï¼Œmountæ—¶ä¸å­˜åœ¨\n// element: JSXå¯¹è±¡\n// lanes: ä¼˜å…ˆçº§ç›¸å…³ï¼Œé€ä¼ \nfunction reconcileSingleElement(\n  returnFiber: Fiber,\n  currentFirstChild: Fiber | null,\n  element: ReactElement,\n  lanes: Lanes\n): Fiber {\n  const key = element.key;\n  let child = currentFirstChild;\n\n  // é¦–å…ˆåˆ¤æ–­æ˜¯å¦å­˜åœ¨å¯¹åº”DOMèŠ‚ç‚¹\n  // åœ¨mountæ—¶ï¼Œä¸å­˜åœ¨current fiberå¯¹åº”çš„domèŠ‚ç‚¹\n  while (child !== null) {\n    // ä¸Šä¸€æ¬¡æ›´æ–°å­˜åœ¨DOMèŠ‚ç‚¹ï¼Œæ¥ä¸‹æ¥åˆ¤æ–­æ˜¯å¦å¯å¤ç”¨\n\n    // é¦–å…ˆæ¯”è¾ƒkeyæ˜¯å¦ç›¸åŒ\n    if (child.key === key) {\n      // keyç›¸åŒï¼Œæ¥ä¸‹æ¥æ¯”è¾ƒtypeæ˜¯å¦ç›¸åŒ\n      switch (child.tag) {\n        // ...çœç•¥case\n\n        default: {\n          if (child.elementType === element.type) {\n            // typeç›¸åŒåˆ™è¡¨ç¤ºå¯ä»¥å¤ç”¨\n            // åˆ é™¤å‰©ä½™çš„å·²ç»å­˜åœ¨çš„children\n            // å¯¹äºå•ä¸€èŠ‚ç‚¹çš„æ›´æ–°ï¼Œå·²ç»æ‰¾åˆ°äº†å¯ä»¥å¤ç”¨çš„fiberï¼Œå…¶ä½™çš„fiberå°±æ²¡ç”¨äº†\n            deleteRemainingChildren(returnFiber, child.sibling);\n            // useFiberï¼šå¤ç”¨è€çš„fiberï¼ˆcurrent fiberï¼‰ï¼Œç”Ÿæˆæ–°fiberï¼ˆwork in progress fiberï¼‰\n            const existing = useFiber(child, element.props);\n            existing.ref = coerceRef(returnFiber, child, element);\n            existing.return = returnFiber;\n            // è¿”å›å¤ç”¨çš„fiber\n            return existing;\n          }\n          // typeä¸åŒåˆ™è·³å‡ºswitch\n          break;\n        }\n      }\n      // ä»£ç æ‰§è¡Œåˆ°è¿™é‡Œä»£è¡¨ï¼škeyç›¸åŒä½†æ˜¯typeä¸åŒ\n      // å°†è¯¥fiberåŠå…¶å…„å¼Ÿfiberæ ‡è®°ä¸ºåˆ é™¤\n      // Remainingï¼šå…¶ä½™çš„\n      deleteRemainingChildren(returnFiber, child);\n      break;\n    } else {\n      // keyä¸åŒï¼Œå°†è¯¥fiberæ ‡è®°ä¸ºåˆ é™¤\n      deleteChild(returnFiber, child);\n    }\n    // å­˜åœ¨æ›´æ–°å‰æ˜¯å¤šä¸ªèŠ‚ç‚¹ï¼Œæ›´æ–°åæ˜¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°±éœ€è¦å°†ä¹‹å‰çš„å¤šä¸ªèŠ‚ç‚¹ä¾æ¬¡ä¸æ–°èŠ‚ç‚¹å¯¹æ¯”ï¼Œç›´åˆ°æ‰¾å‡ºå¯å¤ç”¨çš„èŠ‚ç‚¹\n    // è¿™é‡Œèµ‹å€¼åå¯å†æ¬¡è¿›å…¥å¾ªç¯\n    child = child.sibling;\n  }\n\n  // åˆ›å»ºæ–°Fiberï¼Œå¹¶è¿”å› ...çœç•¥\n}\n```\n\n\nä»ä»£ç å¯ä»¥çœ‹å‡ºï¼Œ`React`é€šè¿‡å…ˆåˆ¤æ–­`key`æ˜¯å¦ç›¸åŒï¼Œå¦‚æœ`key`ç›¸åŒåˆ™åˆ¤æ–­`type`æ˜¯å¦ç›¸åŒï¼Œåªæœ‰éƒ½ç›¸åŒæ—¶ä¸€ä¸ª`DOM`èŠ‚ç‚¹æ‰èƒ½å¤ç”¨ã€‚ è¿™é‡Œæœ‰ä¸ªç»†èŠ‚éœ€è¦å…³æ³¨ä¸‹ï¼š\n\n- å½“`child !== null`ä¸”`key`ç›¸åŒä¸”`type`ä¸åŒæ—¶æ‰§è¡Œ`deleteRemainingChildren`å°†`child`åŠå…¶å…„å¼Ÿ`fiber`éƒ½æ ‡è®°åˆ é™¤ã€‚\n- å½“`child !== nullä¸”key`ä¸åŒæ—¶ä»…å°† child æ ‡è®°åˆ é™¤ã€‚\n\nè€ƒè™‘å¦‚ä¸‹ä¾‹å­ï¼š å½“å‰é¡µé¢æœ‰ 3 ä¸ª`li`ï¼Œæˆ‘ä»¬è¦å…¨éƒ¨åˆ é™¤ï¼Œå†æ’å…¥ä¸€ä¸ª`p`ã€‚\n\n\n```text\n// å½“å‰é¡µé¢æ˜¾ç¤ºçš„\nul > li * 3\n\n// è¿™æ¬¡éœ€è¦æ›´æ–°çš„\nul > p\n```\n\n\nç”±äºæœ¬æ¬¡æ›´æ–°æ—¶åªæœ‰ä¸€ä¸ª`p`ï¼Œå±äºå•ä¸€èŠ‚ç‚¹çš„`Diff`ï¼Œä¼šèµ°ä¸Šé¢ä»‹ç»çš„ä»£ç é€»è¾‘ã€‚ åœ¨`reconcileSingleElement`ä¸­éå†ä¹‹å‰çš„ 3 ä¸ª`fiber`ï¼ˆå¯¹åº”çš„`DOM`ä¸º 3 ä¸ª`li`ï¼‰ï¼Œå¯»æ‰¾æœ¬æ¬¡æ›´æ–°çš„`p`æ˜¯å¦å¯ä»¥å¤ç”¨ä¹‹å‰çš„ 3 ä¸ª`fiber`ä¸­æŸä¸ªçš„`DOM`ã€‚ å½“`key`ç›¸åŒä¸”`type`ä¸åŒæ—¶ï¼Œä»£è¡¨æˆ‘ä»¬å·²ç»æ‰¾åˆ°æœ¬æ¬¡æ›´æ–°çš„`p`å¯¹åº”çš„ä¸Šæ¬¡çš„`fiber`ï¼Œä½†æ˜¯`p`ä¸`li` `type`ä¸åŒï¼Œä¸èƒ½å¤ç”¨ã€‚æ—¢ç„¶å”¯ä¸€çš„å¯èƒ½æ€§å·²ç»ä¸èƒ½å¤ç”¨ï¼Œåˆ™å‰©ä¸‹çš„`fiber`éƒ½æ²¡æœ‰æœºä¼šäº†ï¼Œæ‰€ä»¥éƒ½éœ€è¦æ ‡è®°åˆ é™¤ã€‚ å½“`key`ä¸åŒæ—¶åªä»£è¡¨éå†åˆ°çš„è¯¥`fiber`ä¸èƒ½è¢«`p`å¤ç”¨ï¼Œåé¢è¿˜æœ‰å…„å¼Ÿ`fiber`è¿˜æ²¡æœ‰éå†åˆ°ã€‚æ‰€ä»¥ä»…ä»…æ ‡è®°è¯¥ fiber åˆ é™¤ã€‚\n\n\n## ç»ƒä¹ é¢˜\n\n\nè¯·åˆ¤æ–­å¦‚ä¸‹`JSX`å¯¹è±¡å¯¹åº”çš„`DOM`å…ƒç´ æ˜¯å¦å¯ä»¥å¤ç”¨ï¼š\n\n\n```html\n// ä¹ é¢˜1 æ›´æ–°å‰\n<div>ka song</div>\n// æ›´æ–°å\n<p>ka song</p>\n\n// ä¹ é¢˜2 æ›´æ–°å‰\n<div key=\"xxx\">ka song</div>\n// æ›´æ–°å\n<div key=\"ooo\">ka song</div>\n\n// ä¹ é¢˜3 æ›´æ–°å‰\n<div key=\"xxx\">ka song</div>\n// æ›´æ–°å\n<p key=\"ooo\">ka song</p>\n\n// ä¹ é¢˜4 æ›´æ–°å‰\n<div key=\"xxx\">ka song</div>\n// æ›´æ–°å\n<div key=\"xxx\">xiao bei</div>\n```\n\n\nç­”æ¡ˆï¼š ä¹ é¢˜ 1: æœªè®¾ç½®`key prop`é»˜è®¤ `key = null`ï¼Œæ‰€ä»¥æ›´æ–°å‰å`key`ç›¸åŒï¼Œéƒ½ä¸º`null`ï¼Œä½†æ˜¯æ›´æ–°å‰`type`ä¸º`div`ï¼Œæ›´æ–°åä¸º`p`ï¼Œ`type`æ”¹å˜åˆ™ä¸èƒ½å¤ç”¨ã€‚ ä¹ é¢˜ 2: æ›´æ–°å‰å`key`æ”¹å˜ï¼Œä¸éœ€è¦å†åˆ¤æ–­`type`ï¼Œä¸èƒ½å¤ç”¨ã€‚ ä¹ é¢˜ 3: æ›´æ–°å‰å`key`æ”¹å˜ï¼Œä¸éœ€è¦å†åˆ¤æ–­`type`ï¼Œä¸èƒ½å¤ç”¨ã€‚ ä¹ é¢˜ 4: æ›´æ–°å‰å`key`ä¸`type`éƒ½æœªæ”¹å˜ï¼Œå¯ä»¥å¤ç”¨ã€‚`children`å˜åŒ–ï¼Œ`DOM`çš„å­å…ƒç´ éœ€è¦æ›´æ–°ã€‚\n\n\n# å¤šèŠ‚ç‚¹ Diff\n\n\nç°åœ¨è€ƒè™‘æˆ‘ä»¬æœ‰ä¸€ä¸ª`FunctionComponent`ï¼š\n\n\n```html\nfunction List () {\n  return (\n    <ul>\n      <li key=\"0\">0</li>\n      <li key=\"1\">1</li>\n      <li key=\"2\">2</li>\n      <li key=\"3\">3</li>\n    </ul>\n  )\n}\n```\n\n\nä»–çš„è¿”å›å€¼`JSX`å¯¹è±¡çš„`children`å±æ€§ä¸æ˜¯å•ä¸€èŠ‚ç‚¹ï¼Œè€Œæ˜¯åŒ…å«å››ä¸ªå¯¹è±¡çš„æ•°ç»„\n\n\n```typescript\n{\n  $$typeof: Symbol(react.element),\n  key: null,\n  props: {\n    children: [\n      {$$typeof: Symbol(react.element), type: \"li\", key: \"0\", ref: null, props: {â€¦}, â€¦}\n      {$$typeof: Symbol(react.element), type: \"li\", key: \"1\", ref: null, props: {â€¦}, â€¦}\n      {$$typeof: Symbol(react.element), type: \"li\", key: \"2\", ref: null, props: {â€¦}, â€¦}\n      {$$typeof: Symbol(react.element), type: \"li\", key: \"3\", ref: null, props: {â€¦}, â€¦}\n    ]\n  },\n  ref: null,\n  type: \"ul\"\n}\n```\n\n\nè¿™ç§æƒ…å†µä¸‹ï¼Œ`reconcileChildFibers`çš„`newChild`å‚æ•°ç±»å‹ä¸º`Array`ï¼Œåœ¨`reconcileChildFibers`å‡½æ•°å†…éƒ¨å¯¹åº”å¦‚ä¸‹æƒ…å†µï¼š\n\n\n> ä½ å¯ä»¥åœ¨[è¿™é‡Œ](https://github.com/facebook/react/blob/1fb18e22ae66fdb1dc127347e169e73948778e5a/packages/react-reconciler/src/ReactChildFiber.new.js#L1352)çœ‹åˆ°è¿™æ®µæºç é€»è¾‘\n\n\n```typescript\nif (isArray(newChild)) {\n  // è°ƒç”¨ reconcileChildrenArray å¤„ç†\n  // ...çœç•¥\n}\n```\n\n\n## åœºæ™¯å½’çº³\n\n\n### åœºæ™¯ 1ï¼šèŠ‚ç‚¹æ›´æ–°\n\n\n```typescript\n// ä¹‹å‰\n<ul>\n  <li key=\"0\" className=\"before\">0<li>\n  <li key=\"1\">1<li>\n</ul>\n\n// ä¹‹å æƒ…å†µ1 â€”â€” èŠ‚ç‚¹å±æ€§å˜åŒ–\n<ul>\n  <li key=\"0\" className=\"after\">0<li>\n  <li key=\"1\">1<li>\n</ul>\n\n// ä¹‹å æƒ…å†µ2 â€”â€” èŠ‚ç‚¹ç±»å‹æ›´æ–°\n<ul>\n  <div key=\"0\">0</div>\n  <li key=\"1\">1<li>\n</ul>\n```\n\n\n### åœºæ™¯ 2ï¼šèŠ‚ç‚¹æ–°å¢æˆ–å‡å°‘\n\n\n```typescript\n// ä¹‹å‰\n<ul>\n  <li key=\"0\">0<li>\n  <li key=\"1\">1<li>\n</ul>\n\n// ä¹‹å æƒ…å†µ1 â€”â€” æ–°å¢èŠ‚ç‚¹\n<ul>\n  <li key=\"0\">0<li>\n  <li key=\"1\">1<li>\n  <li key=\"2\">2<li>\n</ul>\n\n// ä¹‹å æƒ…å†µ2 â€”â€” åˆ é™¤èŠ‚ç‚¹\n<ul>\n  <li key=\"1\">1<li>\n</ul>\n```\n\n\n### åœºæ™¯ 3ï¼šèŠ‚ç‚¹ä½ç½®å˜åŒ–\n\n\n```typescript\n// ä¹‹å‰\n<ul>\n  <li key=\"0\">0<li>\n  <li key=\"1\">1<li>\n</ul>\n\n// ä¹‹å\n<ul>\n  <li key=\"1\">1<li>\n  <li key=\"0\">0<li>\n</ul>\n```\n\n\nåŒçº§å¤šä¸ªèŠ‚ç‚¹çš„`Diff`ï¼Œä¸€å®šå±äºä»¥ä¸Šä¸‰ç§æƒ…å†µä¸­çš„ä¸€ç§æˆ–å¤šç§ã€‚\n\n\n## Diff çš„æ€è·¯\n\n\nè¯¥å¦‚ä½•è®¾è®¡ Diff ç®—æ³•å‘¢ï¼Ÿä¸€èˆ¬æ€è·¯ï¼š\n\n1. åˆ¤æ–­å½“å‰èŠ‚ç‚¹çš„æ›´æ–°å±äºå“ªç§æƒ…å†µ\n2. å¦‚æœæ˜¯æ–°å¢ï¼Œæ‰§è¡Œæ–°å¢é€»è¾‘\n3. å¦‚æœæ˜¯åˆ é™¤ï¼Œæ‰§è¡Œåˆ é™¤é€»è¾‘\n4. å¦‚æœæ˜¯æ›´æ–°ï¼Œæ‰§è¡Œæ›´æ–°é€»è¾‘\n\næŒ‰è¿™ä¸ªæ–¹æ¡ˆï¼Œå…¶å®æœ‰ä¸ªéšå«çš„å‰æâ€”â€”**ä¸åŒæ“ä½œçš„ä¼˜å…ˆçº§æ˜¯ç›¸åŒçš„** ä½†æ˜¯`React`å›¢é˜Ÿå‘ç°ï¼Œåœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œç›¸è¾ƒäºæ–°å¢å’Œåˆ é™¤ï¼Œæ›´æ–°ç»„ä»¶å‘ç”Ÿçš„é¢‘ç‡æ›´é«˜ã€‚æ‰€ä»¥`Diff`ä¼šä¼˜å…ˆåˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯å¦å±äºæ›´æ–°ã€‚\n\n\n> æ³¨æ„ åœ¨æˆ‘ä»¬åšæ•°ç»„ç›¸å…³çš„ç®—æ³•é¢˜æ—¶ï¼Œç»å¸¸ä½¿ç”¨åŒæŒ‡é’ˆä»æ•°ç»„å¤´å’Œå°¾åŒæ—¶éå†ä»¥æé«˜æ•ˆç‡ï¼Œä½†æ˜¯è¿™é‡Œå´ä¸è¡Œã€‚ è™½ç„¶æœ¬æ¬¡æ›´æ–°çš„JSXå¯¹è±¡ newChildrenä¸ºæ•°ç»„å½¢å¼ï¼Œä½†æ˜¯å’ŒnewChildrenä¸­æ¯ä¸ªç»„ä»¶è¿›è¡Œæ¯”è¾ƒçš„æ˜¯current fiberï¼ŒåŒçº§çš„FiberèŠ‚ç‚¹æ˜¯ç”±siblingæŒ‡é’ˆé“¾æ¥å½¢æˆçš„å•é“¾è¡¨ï¼Œå³ä¸æ”¯æŒåŒæŒ‡é’ˆéå†ã€‚ å³ newChildren[0]ä¸fiberæ¯”è¾ƒï¼ŒnewChildren[1]ä¸fiber.siblingæ¯”è¾ƒã€‚ æ‰€ä»¥æ— æ³•ä½¿ç”¨åŒæŒ‡é’ˆä¼˜åŒ–ã€‚\n\n\nåŸºäºä»¥ä¸ŠåŸå› ï¼Œ`Diff`ç®—æ³•çš„æ•´ä½“é€»è¾‘ä¼šç»å†ä¸¤è½®éå†ï¼š ç¬¬ä¸€è½®éå†ï¼šå¤„ç†`æ›´æ–°`çš„èŠ‚ç‚¹ã€‚ ç¬¬äºŒè½®éå†ï¼šå¤„ç†å‰©ä¸‹çš„`ä¸å±äºæ›´æ–°`çš„èŠ‚ç‚¹ã€‚\n\n\n## ç¬¬ä¸€è½®éå†\n\n\nç¬¬ä¸€è½®éå†æ­¥éª¤å¦‚ä¸‹ï¼š\n\n1. `let i = 0`ï¼Œéå†`newChildren`ï¼Œå°†`newChildren[i]`ä¸`oldFiber`æ¯”è¾ƒï¼Œåˆ¤æ–­`DOM`èŠ‚ç‚¹æ˜¯å¦å¯å¤ç”¨ã€‚\n2. å¦‚æœå¯å¤ç”¨ï¼Œ`i++`ï¼Œç»§ç»­æ¯”è¾ƒ`newChildren[i]`ä¸`oldFiber.sibling`ï¼Œå¯ä»¥å¤ç”¨åˆ™ç»§ç»­éå†ã€‚\n3. å¦‚æœä¸å¯å¤ç”¨ï¼Œåˆ†ä¸¤ç§æƒ…å†µï¼š\n- `key`ä¸åŒå¯¼è‡´ä¸å¯å¤ç”¨ï¼Œç«‹å³è·³å‡ºæ•´ä¸ªéå†ï¼Œç¬¬ä¸€è½®éå†ç»“æŸã€‚ç¬¬ä¸€è½®éå†åªå¤„ç†èŠ‚ç‚¹æ›´æ–°ï¼Œä¹Ÿå°±æ˜¯ key ç›¸åŒçš„æƒ…å†µ\n- `key`ç›¸åŒ type`ä¸åŒ`å¯¼è‡´ä¸å¯å¤ç”¨ï¼Œä¼šå°†`oldFiber`æ ‡è®°ä¸º`DELETION`ï¼Œå¹¶ç»§ç»­éå†\n1. å¦‚æœ`newChildren`éå†å®Œï¼ˆå³`i === newChildren.length - 1`ï¼‰æˆ–è€…`oldFiber`éå†å®Œï¼ˆå³`oldFiber.sibling === null`ï¼‰ï¼Œè·³å‡ºéå†ï¼Œç¬¬ä¸€è½®éå†ç»“æŸ\n\n> ä½ å¯ä»¥ä»[è¿™é‡Œ](https://github.com/facebook/react/blob/1fb18e22ae66fdb1dc127347e169e73948778e5a/packages/react-reconciler/src/ReactChildFiber.new.js#L818)çœ‹åˆ°è¿™è½®éå†çš„æºç \n\n\nå½“éå†ç»“æŸåï¼Œä¼šæœ‰ä¸¤ç§ç»“æœï¼š\n\n\n### 1.æ­¥éª¤ 3 è·³å‡ºçš„éå†\n\n\næ­¤æ—¶`newChildren`æ²¡æœ‰éå†å®Œï¼Œ`oldFiber`ä¹Ÿæ²¡æœ‰éå†å®Œã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œè€ƒè™‘å¦‚ä¸‹ä»£ç ï¼š\n\n\n```html\n// ä¹‹å‰\n<li key=\"0\">0</li>\n<li key=\"1\">1</li>\n<li key=\"2\">2</li>\n\n// ä¹‹å\n<li key=\"0\">0</li>\n<li key=\"2\">1</li>\n<li key=\"1\">2</li>\n```\n\n\nç¬¬ä¸€ä¸ªèŠ‚ç‚¹å¯å¤ç”¨ï¼Œéå†åˆ°`key === 2`çš„èŠ‚ç‚¹å‘ç°`key`æ”¹å˜ï¼Œä¸å¯å¤ç”¨ï¼Œè·³å‡ºéå†ï¼Œç­‰å¾…ç¬¬äºŒè½®éå†å¤„ç†ã€‚ æ­¤æ—¶`oldFiber`å‰©ä¸‹`key === 1`ã€`key === 2`æœªéå†ï¼Œ`newChildren`å‰©ä¸‹`key === 2`ã€`key === 1`æœªéå†ã€‚\n\n\n### 2.æ­¥éª¤ 4 è·³å‡ºçš„éå†\n\n\nå¯èƒ½`newChildren`éå†å®Œï¼Œæˆ–`oldFiber`éå†å®Œï¼Œæˆ–ä»–ä»¬åŒæ—¶éå†å®Œã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œè€ƒè™‘å¦‚ä¸‹ä»£ç ï¼š\n\n\n```html\n// ä¹‹å‰\n<li key=\"0\" className=\"a\">0</li>\n<li key=\"1\" className=\"b\">1</li>\n            \n// ä¹‹å æƒ…å†µ1 â€”â€” newChildrenä¸oldFiberéƒ½éå†å®Œ\n<li key=\"0\" className=\"aa\">0</li>\n<li key=\"1\" className=\"bb\">1</li>\n            \n// ä¹‹å æƒ…å†µ2 â€”â€” newChildrenæ²¡éå†å®Œï¼ŒoldFiberéå†å®Œ\n// newChildrenå‰©ä¸‹ key===\"2\" æœªéå†\n<li key=\"0\" className=\"aa\">0</li>\n<li key=\"1\" className=\"bb\">1</li>\n<li key=\"2\" className=\"cc\">2</li>\n            \n// ä¹‹å æƒ…å†µ3 â€”â€” newChildrenéå†å®Œï¼ŒoldFiberæ²¡éå†å®Œ\n// oldFiberå‰©ä¸‹ key===\"1\" æœªéå†\n<li key=\"0\" className=\"aa\">0</li>\n```\n\n\nå¸¦ç€ç¬¬ä¸€è½®éå†çš„ç»“æœï¼Œæˆ‘ä»¬å¼€å§‹ç¬¬äºŒè½®éå†ã€‚\n\n\n## ç¬¬äºŒè½®éå†\n\n\nå¯¹äºç¬¬ä¸€è½®éå†çš„ç»“æœï¼Œæˆ‘ä»¬åˆ†åˆ«è®¨è®ºï¼š\n\n\n### newChildren ä¸ oldFiber åŒæ—¶éå†å®Œ\n\n\né‚£å°±æ˜¯æœ€ç†æƒ³çš„æƒ…å†µï¼šåªéœ€åœ¨ç¬¬ä¸€è½®éå†è¿›è¡Œç»„ä»¶[æ›´æ–°](https://github.com/facebook/react/blob/1fb18e22ae66fdb1dc127347e169e73948778e5a/packages/react-reconciler/src/ReactChildFiber.new.js#L825)ã€‚æ­¤æ—¶ Diff ç»“æŸã€‚\n\n\n### newChildren æ²¡éå†å®Œï¼ŒoldFiber éå†å®Œ\n\n\nå·²æœ‰çš„`DOM`èŠ‚ç‚¹éƒ½å¤ç”¨äº†ï¼Œè¿™æ—¶è¿˜æœ‰æ–°åŠ å…¥çš„èŠ‚ç‚¹ï¼Œæ„å‘³ç€æœ¬æ¬¡æ›´æ–°æœ‰æ–°èŠ‚ç‚¹æ’å…¥ï¼Œæˆ‘ä»¬åªéœ€è¦éå†å‰©ä¸‹çš„`newChildren`ä¸ºç”Ÿæˆçš„`workInProgress fiber`ä¾æ¬¡æ ‡è®°`Placement`ã€‚\n\n\n> ä½ å¯ä»¥åœ¨[è¿™é‡Œ](https://github.com/facebook/react/blob/1fb18e22ae66fdb1dc127347e169e73948778e5a/packages/react-reconciler/src/ReactChildFiber.new.js#L869)çœ‹åˆ°è¿™æ®µæºç é€»è¾‘\n\n\n### newChildren éå†å®Œï¼ŒoldFiber æ²¡éå†å®Œ\n\n\næ„å‘³ç€æœ¬æ¬¡æ›´æ–°æ¯”ä¹‹å‰çš„èŠ‚ç‚¹æ•°é‡å°‘ï¼Œæœ‰èŠ‚ç‚¹è¢«åˆ é™¤äº†ã€‚æ‰€ä»¥éœ€è¦éå†å‰©ä¸‹çš„`oldFiber`ï¼Œä¾æ¬¡æ ‡è®°`Deletion`ã€‚\n\n\n> ä½ å¯ä»¥åœ¨[è¿™é‡Œ](https://github.com/facebook/react/blob/1fb18e22ae66fdb1dc127347e169e73948778e5a/packages/react-reconciler/src/ReactChildFiber.new.js#L863)çœ‹åˆ°è¿™æ®µæºç é€»è¾‘\n\n\n### newChildren ä¸ oldFiber éå†å®Œ\n\n\nè¿™æ„å‘³ç€æœ‰èŠ‚ç‚¹åœ¨è¿™æ¬¡æ›´æ–°ä¸­æ”¹å˜äº†ä½ç½®ã€‚ è¿™æ˜¯`Diff`ç®—æ³•æœ€ç²¾é«“ä¹Ÿæ˜¯æœ€éš¾æ‡‚çš„éƒ¨åˆ†ã€‚\n\n\n> ä½ å¯ä»¥åœ¨[è¿™é‡Œ](https://github.com/facebook/react/blob/1fb18e22ae66fdb1dc127347e169e73948778e5a/packages/react-reconciler/src/ReactChildFiber.new.js#L893)çœ‹åˆ°è¿™æ®µæºç é€»è¾‘\n\n\n## å¤„ç†ç§»åŠ¨çš„èŠ‚ç‚¹\n\n\nç”±äºæœ‰èŠ‚ç‚¹æ”¹å˜äº†ä½ç½®ï¼Œæ‰€ä»¥ä¸èƒ½å†ç”¨ä½ç½®ç´¢å¼• i å¯¹æ¯”å‰åçš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå¦‚ä½•æ‰èƒ½å°†åŒä¸€ä¸ªèŠ‚ç‚¹åœ¨ä¸¤æ¬¡æ›´æ–°ä¸­å¯¹åº”ä¸Šå‘¢ï¼Ÿ æˆ‘ä»¬éœ€è¦ä½¿ç”¨`key`ã€‚ ä¸ºäº†å¿«é€Ÿçš„æ‰¾åˆ°`key`å¯¹åº”çš„`oldFiber`ï¼Œæˆ‘ä»¬å°†æ‰€æœ‰è¿˜æœªå¤„ç†çš„`oldFiber`å­˜å…¥ä»¥`key`ä¸º`key`ï¼Œ`oldFiber`ä¸º`value`çš„`Map`ä¸­ã€‚\n\n\n```typescript\nconst existingChildren = mapRemainingChildren(returnFiber, oldFiber);\n```\n\n\n> ä½ å¯ä»¥åœ¨[è¿™é‡Œ](https://github.com/facebook/react/blob/1fb18e22ae66fdb1dc127347e169e73948778e5a/packages/react-reconciler/src/ReactChildFiber.new.js#L890)çœ‹åˆ°è¿™æ®µæºç é€»è¾‘\n\n\næ¥ä¸‹æ¥éå†å‰©ä½™çš„`newChildren`ï¼Œé€šè¿‡`newChildren[i].key`å°±èƒ½åœ¨`existingChildren`ä¸­æ‰¾åˆ°`key`ç›¸åŒçš„`oldFiber`ã€‚\n\n\n## æ ‡è®°èŠ‚ç‚¹æ˜¯å¦ç§»åŠ¨\n\n\næ—¢ç„¶æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å¯»æ‰¾ç§»åŠ¨çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦æ˜ç¡®ï¼šèŠ‚ç‚¹æ˜¯å¦ç§»åŠ¨æ˜¯ä»¥ä»€ä¹ˆä¸ºå‚ç…§ç‰©ï¼Ÿ æˆ‘ä»¬çš„å‚ç…§ç‰©æ˜¯ï¼šæœ€åä¸€ä¸ªå¯å¤ç”¨çš„èŠ‚ç‚¹åœ¨`oldFiber`ä¸­çš„ä½ç½®ç´¢å¼•ï¼ˆç”¨å˜é‡`lastPlacedIndex`è¡¨ç¤ºï¼‰ã€‚ ç”±äºæœ¬æ¬¡æ›´æ–°ä¸­èŠ‚ç‚¹æ˜¯æŒ‰`newChildren`çš„é¡ºåºæ’åˆ—ã€‚åœ¨éå†`newChildren`è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªéå†åˆ°çš„å¯å¤ç”¨èŠ‚ç‚¹ä¸€å®šæ˜¯å½“å‰éå†åˆ°çš„æ‰€æœ‰å¯å¤ç”¨èŠ‚ç‚¹ä¸­æœ€é å³çš„é‚£ä¸ªï¼Œå³ä¸€å®šåœ¨`lastPlacedIndex`å¯¹åº”çš„å¯å¤ç”¨çš„èŠ‚ç‚¹åœ¨æœ¬æ¬¡æ›´æ–°ä¸­ä½ç½®çš„åé¢ã€‚ é‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦æ¯”è¾ƒéå†åˆ°çš„å¯å¤ç”¨èŠ‚ç‚¹åœ¨ä¸Šæ¬¡æ›´æ–°æ—¶æ˜¯å¦ä¹Ÿåœ¨`lastPlacedIndex`å¯¹åº”çš„`oldFiber`åé¢ï¼Œå°±èƒ½çŸ¥é“ä¸¤æ¬¡æ›´æ–°ä¸­è¿™ä¸¤ä¸ªèŠ‚ç‚¹çš„ç›¸å¯¹ä½ç½®æ”¹å˜æ²¡æœ‰ã€‚ æˆ‘ä»¬ç”¨å˜é‡`oldIndex`è¡¨ç¤ºéå†åˆ°çš„å¯å¤ç”¨èŠ‚ç‚¹åœ¨`oldFiber`ä¸­çš„ä½ç½®ç´¢å¼•ã€‚å¦‚æœ`oldIndex < lastPlacedIndex`ï¼Œä»£è¡¨æœ¬æ¬¡æ›´æ–°è¯¥èŠ‚ç‚¹éœ€è¦å‘å³ç§»åŠ¨ã€‚ `lastPlacedIndex`åˆå§‹ä¸º`0`ï¼Œæ¯éå†ä¸€ä¸ªå¯å¤ç”¨çš„èŠ‚ç‚¹ï¼Œå¦‚æœ`oldIndex >= lastPlacedIndex`ï¼Œåˆ™`lastPlacedIndex = oldIndex`ã€‚ è¿™é‡Œæœ‰ä¸¤ä¸ª Demoï¼Œå¯ä»¥å¯¹ç…§ç€ç†è§£ã€‚\n\n\n### Demo1\n\n\nåœ¨`Demo`ä¸­æˆ‘ä»¬ç®€åŒ–ä¸‹ä¹¦å†™ï¼Œæ¯ä¸ªå­—æ¯ä»£è¡¨ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå­—æ¯çš„å€¼ä»£è¡¨èŠ‚ç‚¹çš„`key`\n\n\n```typescript\n\n// ä¹‹å‰\nabcd\n\n// ä¹‹å\nacdb\n\n===ç¬¬ä¸€è½®éå†å¼€å§‹===\naï¼ˆä¹‹åï¼‰vs aï¼ˆä¹‹å‰ï¼‰\nkeyä¸å˜ï¼Œå¯å¤ç”¨\næ­¤æ—¶ a å¯¹åº”çš„oldFiberï¼ˆä¹‹å‰çš„aï¼‰åœ¨ä¹‹å‰çš„æ•°ç»„ï¼ˆabcdï¼‰ä¸­ç´¢å¼•ä¸º0\næ‰€ä»¥ lastPlacedIndex = 0;\n\nç»§ç»­ç¬¬ä¸€è½®éå†...\n\ncï¼ˆä¹‹åï¼‰vs bï¼ˆä¹‹å‰ï¼‰\nkeyæ”¹å˜ï¼Œä¸èƒ½å¤ç”¨ï¼Œè·³å‡ºç¬¬ä¸€è½®éå†\næ­¤æ—¶ lastPlacedIndex === 0;\n===ç¬¬ä¸€è½®éå†ç»“æŸ===\n\n===ç¬¬äºŒè½®éå†å¼€å§‹===\nnewChildren === cdbï¼Œæ²¡ç”¨å®Œï¼Œä¸éœ€è¦æ‰§è¡Œåˆ é™¤æ—§èŠ‚ç‚¹\noldFiber === bcdï¼Œæ²¡ç”¨å®Œï¼Œä¸éœ€è¦æ‰§è¡Œæ’å…¥æ–°èŠ‚ç‚¹\n\nå°†å‰©ä½™oldFiberï¼ˆbcdï¼‰ä¿å­˜ä¸ºmap\n\n// å½“å‰oldFiberï¼šbcd\n// å½“å‰newChildrenï¼šcdb\n\nç»§ç»­éå†å‰©ä½™newChildren\n\nkey === c åœ¨ oldFiberä¸­å­˜åœ¨\nconst oldIndex = cï¼ˆä¹‹å‰ï¼‰.index;\næ­¤æ—¶ oldIndex === 2;  // ä¹‹å‰èŠ‚ç‚¹ä¸º abcdï¼Œæ‰€ä»¥c.index === 2\næ¯”è¾ƒ oldIndex ä¸ lastPlacedIndex;\n\nå¦‚æœ oldIndex >= lastPlacedIndex ä»£è¡¨è¯¥å¯å¤ç”¨èŠ‚ç‚¹ä¸éœ€è¦ç§»åŠ¨\nå¹¶å°† lastPlacedIndex = oldIndex;\nå¦‚æœ oldIndex < lastplacedIndex è¯¥å¯å¤ç”¨èŠ‚ç‚¹ä¹‹å‰æ’å…¥çš„ä½ç½®ç´¢å¼•å°äºè¿™æ¬¡æ›´æ–°éœ€è¦æ’å…¥çš„ä½ç½®ç´¢å¼•ï¼Œä»£è¡¨è¯¥èŠ‚ç‚¹éœ€è¦å‘å³ç§»åŠ¨\n\nåœ¨ä¾‹å­ä¸­ï¼ŒoldIndex 2 > lastPlacedIndex 0ï¼Œ\nåˆ™ lastPlacedIndex = 2;\ncèŠ‚ç‚¹ä½ç½®ä¸å˜\n\nç»§ç»­éå†å‰©ä½™newChildren\n\n// å½“å‰oldFiberï¼šbd\n// å½“å‰newChildrenï¼šdb\n\nkey === d åœ¨ oldFiberä¸­å­˜åœ¨\nconst oldIndex = dï¼ˆä¹‹å‰ï¼‰.index;\noldIndex 3 > lastPlacedIndex 2 // ä¹‹å‰èŠ‚ç‚¹ä¸º abcdï¼Œæ‰€ä»¥d.index === 3\nåˆ™ lastPlacedIndex = 3;\ndèŠ‚ç‚¹ä½ç½®ä¸å˜\n\nç»§ç»­éå†å‰©ä½™newChildren\n\n// å½“å‰oldFiberï¼šb\n// å½“å‰newChildrenï¼šb\n\nkey === b åœ¨ oldFiberä¸­å­˜åœ¨\nconst oldIndex = bï¼ˆä¹‹å‰ï¼‰.index;\noldIndex 1 < lastPlacedIndex 3 // ä¹‹å‰èŠ‚ç‚¹ä¸º abcdï¼Œæ‰€ä»¥b.index === 1\nåˆ™ bèŠ‚ç‚¹éœ€è¦å‘å³ç§»åŠ¨\n===ç¬¬äºŒè½®éå†ç»“æŸ===\n\næœ€ç»ˆacd 3ä¸ªèŠ‚ç‚¹éƒ½æ²¡æœ‰ç§»åŠ¨ï¼ŒbèŠ‚ç‚¹è¢«æ ‡è®°ä¸ºç§»åŠ¨\n```\n\n\n### Demo2\n\n\n```text\n// ä¹‹å‰\nabcd\n\n// ä¹‹å\ndabc\n\n===ç¬¬ä¸€è½®éå†å¼€å§‹===\ndï¼ˆä¹‹åï¼‰vs aï¼ˆä¹‹å‰ï¼‰\nkeyæ”¹å˜ï¼Œä¸èƒ½å¤ç”¨ï¼Œè·³å‡ºéå†\n===ç¬¬ä¸€è½®éå†ç»“æŸ===\n\n===ç¬¬äºŒè½®éå†å¼€å§‹===\nnewChildren === dabcï¼Œæ²¡ç”¨å®Œï¼Œä¸éœ€è¦æ‰§è¡Œåˆ é™¤æ—§èŠ‚ç‚¹\noldFiber === abcdï¼Œæ²¡ç”¨å®Œï¼Œä¸éœ€è¦æ‰§è¡Œæ’å…¥æ–°èŠ‚ç‚¹\n\nå°†å‰©ä½™oldFiberï¼ˆabcdï¼‰ä¿å­˜ä¸ºmap\n\nç»§ç»­éå†å‰©ä½™newChildren\n\n// å½“å‰oldFiberï¼šabcd\n// å½“å‰newChildren dabc\n\nkey === d åœ¨ oldFiberä¸­å­˜åœ¨\nconst oldIndex = dï¼ˆä¹‹å‰ï¼‰.index;\næ­¤æ—¶ oldIndex === 3; // ä¹‹å‰èŠ‚ç‚¹ä¸º abcdï¼Œæ‰€ä»¥d.index === 3\næ¯”è¾ƒ oldIndex ä¸ lastPlacedIndex;\noldIndex 3 > lastPlacedIndex 0\nåˆ™ lastPlacedIndex = 3;\ndèŠ‚ç‚¹ä½ç½®ä¸å˜\n\nç»§ç»­éå†å‰©ä½™newChildren\n\n// å½“å‰oldFiberï¼šabc\n// å½“å‰newChildren abc\n\nkey === a åœ¨ oldFiberä¸­å­˜åœ¨\nconst oldIndex = aï¼ˆä¹‹å‰ï¼‰.index; // ä¹‹å‰èŠ‚ç‚¹ä¸º abcdï¼Œæ‰€ä»¥a.index === 0\næ­¤æ—¶ oldIndex === 0;\næ¯”è¾ƒ oldIndex ä¸ lastPlacedIndex;\noldIndex 0 < lastPlacedIndex 3\nåˆ™ aèŠ‚ç‚¹éœ€è¦å‘å³ç§»åŠ¨\n\nç»§ç»­éå†å‰©ä½™newChildren\n\n// å½“å‰oldFiberï¼šbc\n// å½“å‰newChildren bc\n\nkey === b åœ¨ oldFiberä¸­å­˜åœ¨\nconst oldIndex = bï¼ˆä¹‹å‰ï¼‰.index; // ä¹‹å‰èŠ‚ç‚¹ä¸º abcdï¼Œæ‰€ä»¥b.index === 1\næ­¤æ—¶ oldIndex === 1;\næ¯”è¾ƒ oldIndex ä¸ lastPlacedIndex;\noldIndex 1 < lastPlacedIndex 3\nåˆ™ bèŠ‚ç‚¹éœ€è¦å‘å³ç§»åŠ¨\n\nç»§ç»­éå†å‰©ä½™newChildren\n\n// å½“å‰oldFiberï¼šc\n// å½“å‰newChildren c\n\nkey === c åœ¨ oldFiberä¸­å­˜åœ¨\nconst oldIndex = cï¼ˆä¹‹å‰ï¼‰.index; // ä¹‹å‰èŠ‚ç‚¹ä¸º abcdï¼Œæ‰€ä»¥c.index === 2\næ­¤æ—¶ oldIndex === 2;\næ¯”è¾ƒ oldIndex ä¸ lastPlacedIndex;\noldIndex 2 < lastPlacedIndex 3\nåˆ™ cèŠ‚ç‚¹éœ€è¦å‘å³ç§»åŠ¨\n\n===ç¬¬äºŒè½®éå†ç»“æŸ===\n```\n\n\nå¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ä»¥ä¸ºä» `abcd` å˜ä¸º `dabc`ï¼Œåªéœ€è¦å°†`d`ç§»åŠ¨åˆ°å‰é¢ã€‚ ä½†å®é™…ä¸Š`React`ä¿æŒ`d`ä¸å˜ï¼Œå°†`abc`åˆ†åˆ«ç§»åŠ¨åˆ°äº†`d`çš„åé¢ã€‚ ä»è¿™ç‚¹å¯ä»¥çœ‹å‡ºï¼Œè€ƒè™‘æ€§èƒ½ï¼Œæˆ‘ä»¬è¦å°½é‡å‡å°‘å°†èŠ‚ç‚¹ä»åé¢ç§»åŠ¨åˆ°å‰é¢çš„æ“ä½œã€‚\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2022-03-28",
        "type": "Post",
        "slug": "react-diff",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:26:00.000Z",
        "title": "ç¬¬äº”ç«  Diffç®—æ³•",
        "category": "å­¦ä¹ ç¬”è®°",
        "tags": [
          "è‡ªé¡¶å‘ä¸‹å­¦ä¹ Reactæºç ",
          "React"
        ],
        "status": "Draft",
        "urlname": "8c1f610f-80e0-45a6-821f-ba595c26e48a",
        "updated": "2023-08-26 15:26:00"
      },
      "body": "",
      "realName": "ç¬¬äº”ç«  Diffç®—æ³•",
      "relativePath": "/ç¬¬äº”ç«  Diffç®—æ³•.md"
    },
    {
      "id": "dcac3fa7-a41d-42ed-837b-79311b3e6e3c",
      "doc_id": "dcac3fa7-a41d-42ed-837b-79311b3e6e3c",
      "updated": 1693063560000,
      "body_original": "\n`commitRoot`æ–¹æ³•æ˜¯`commit`é˜¶æ®µå·¥ä½œçš„èµ·ç‚¹ã€‚`fiberRootNode`ä¼šä½œä¸ºä¼ å‚ã€‚\n\n\n```typescript\ncommitRoot(root);\n```\n\n\nåœ¨`rootFiber.firstEffect`ä¸Šä¿å­˜äº†ä¸€æ¡éœ€è¦æ‰§è¡Œå‰¯ä½œç”¨çš„`FiberèŠ‚ç‚¹`çš„å•å‘é“¾è¡¨`effectList`ï¼Œè¿™äº›`FiberèŠ‚ç‚¹`çš„`updateQueue`ä¸­ä¿å­˜äº†å˜åŒ–çš„`props`ã€‚ è¿™äº›å‰¯ä½œç”¨å¯¹åº”çš„`DOM`æ“ä½œåœ¨`commit`é˜¶æ®µæ‰§è¡Œã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œä¸€äº›ç”Ÿå‘½å‘¨æœŸé’©å­ï¼ˆæ¯”å¦‚`componentDidXXX`ï¼‰ã€`hook`ï¼ˆæ¯”å¦‚`useEffect`ï¼‰éœ€è¦åœ¨`commit`é˜¶æ®µæ‰§è¡Œã€‚ `commit`é˜¶æ®µçš„ä¸»è¦å·¥ä½œï¼ˆå³`Renderer`çš„å·¥ä½œæµç¨‹ï¼‰åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š\n\n- `before mutation`é˜¶æ®µï¼ˆæ‰§è¡Œ`DOMæ“ä½œå‰`ï¼‰\n- `mutation`é˜¶æ®µï¼ˆæ‰§è¡Œ`DOMæ“ä½œ`ï¼‰\n- `layout`é˜¶æ®µï¼ˆæ‰§è¡Œ`DOMæ“ä½œå`ï¼‰\n\n> å¯ä»¥ä»[è¿™é‡Œ](https://github.com/facebook/react/blob/1fb18e22ae66fdb1dc127347e169e73948778e5a/packages/react-reconciler/src/ReactFiberWorkLoop.new.js#L2001)çœ‹åˆ° commit é˜¶æ®µçš„å®Œæ•´ä»£ç ã€‚\n\n\nåœ¨`before mutation`é˜¶æ®µä¹‹å‰å’Œ`layout`é˜¶æ®µä¹‹åè¿˜æœ‰ä¸€äº›é¢å¤–å·¥ä½œï¼Œæ¶‰åŠåˆ°æ¯”å¦‚`useEffect`çš„è§¦å‘ã€ä¼˜å…ˆçº§ç›¸å…³çš„é‡ç½®ã€`ref`çš„ç»‘å®š/è§£ç»‘ã€‚\n\n\n# æµç¨‹æ¦‚è¿°\n\n\n## before mutation ä¹‹å‰\n\n\n`commitRootImpl`æ–¹æ³•ä¸­ç›´åˆ°ç¬¬ä¸€å¥`if (firstEffect !== null)`ä¹‹å‰å±äº`before mutation`ä¹‹å‰ã€‚\n\n\n```typescript\ndo {\n  // è§¦å‘useEffectå›è°ƒä¸å…¶ä»–åŒæ­¥ä»»åŠ¡ã€‚ç”±äºè¿™äº›ä»»åŠ¡å¯èƒ½è§¦å‘æ–°çš„æ¸²æŸ“ï¼Œ\n  // æ‰€ä»¥è¿™é‡Œè¦ä¸€ç›´éå†æ‰§è¡Œç›´åˆ°æ²¡æœ‰ä»»åŠ¡\n  flushPassiveEffects();\n} while (rootWithPendingPassiveEffects !== null);\n\n// rootæŒ‡ fiberRootNode\n// root.finishedWorkæŒ‡å½“å‰åº”ç”¨çš„rootFiber\nconst finishedWork = root.finishedWork;\n\n// å‡¡æ˜¯å˜é‡åå¸¦laneçš„éƒ½æ˜¯ä¼˜å…ˆçº§ç›¸å…³\nconst lanes = root.finishedLanes;\nif (finishedWork === null) {\n  return null;\n}\nroot.finishedWork = null;\nroot.finishedLanes = NoLanes;\n\n// é‡ç½®Schedulerç»‘å®šçš„å›è°ƒå‡½æ•°\nroot.callbackNode = null;\nroot.callbackId = NoLanes;\n\nlet remainingLanes = mergeLanes(finishedWork.lanes, finishedWork.childLanes);\n// é‡ç½®ä¼˜å…ˆçº§ç›¸å…³å˜é‡\nmarkRootFinished(root, remainingLanes);\n\n// æ¸…é™¤å·²å®Œæˆçš„discrete updatesï¼Œä¾‹å¦‚ï¼šç”¨æˆ·é¼ æ ‡ç‚¹å‡»è§¦å‘çš„æ›´æ–°ã€‚\nif (rootsWithPendingDiscreteUpdates !== null) {\n  if (\n    !hasDiscreteLanes(remainingLanes) &&\n    rootsWithPendingDiscreteUpdates.has(root)\n  ) {\n    rootsWithPendingDiscreteUpdates.delete(root);\n  }\n}\n\n// é‡ç½®å…¨å±€å˜é‡\nif (root === workInProgressRoot) {\n  workInProgressRoot = null;\n  workInProgress = null;\n  workInProgressRootRenderLanes = NoLanes;\n} else {\n}\n\n// å°†effectListèµ‹å€¼ç»™firstEffect\n// ç”±äºæ¯ä¸ªfiberçš„effectListåªåŒ…å«ä»–çš„å­å­™èŠ‚ç‚¹\n// æ‰€ä»¥æ ¹èŠ‚ç‚¹å¦‚æœæœ‰effectTagåˆ™ä¸ä¼šè¢«åŒ…å«è¿›æ¥\n// æ‰€ä»¥è¿™é‡Œå°†æœ‰effectTagçš„æ ¹èŠ‚ç‚¹æ’å…¥åˆ°effectListå°¾éƒ¨\n// è¿™æ ·æ‰èƒ½ä¿è¯æœ‰effectçš„fiberéƒ½åœ¨effectListä¸­\nlet firstEffect;\nif (finishedWork.effectTag > PerformedWork) {\n  if (finishedWork.lastEffect !== null) {\n    finishedWork.lastEffect.nextEffect = finishedWork;\n    firstEffect = finishedWork.firstEffect;\n  } else {\n    firstEffect = finishedWork;\n  }\n} else {\n  // æ ¹èŠ‚ç‚¹æ²¡æœ‰effectTag\n  firstEffect = finishedWork.firstEffect;\n}\n```\n\n\nå¯ä»¥çœ‹åˆ°ï¼Œ`before mutation`ä¹‹å‰ä¸»è¦åšä¸€äº›å˜é‡èµ‹å€¼ï¼ŒçŠ¶æ€é‡ç½®çš„å·¥ä½œã€‚ è¿™ä¸€é•¿ä¸²ä»£ç æˆ‘ä»¬åªéœ€è¦å…³æ³¨æœ€åèµ‹å€¼çš„`firstEffect`ï¼Œåœ¨`commit`çš„ä¸‰ä¸ªå­é˜¶æ®µéƒ½ä¼šç”¨åˆ°ä»–ã€‚\n\n\n## layout ä¹‹å\n\n\n```typescript\nconst rootDidHavePassiveEffects = rootDoesHavePassiveEffects;\n\n// useEffectç›¸å…³\nif (rootDoesHavePassiveEffects) {\n  rootDoesHavePassiveEffects = false;\n  rootWithPendingPassiveEffects = root;\n  pendingPassiveEffectsLanes = lanes;\n  pendingPassiveEffectsRenderPriority = renderPriorityLevel;\n} else {\n}\n\n// æ€§èƒ½ä¼˜åŒ–ç›¸å…³\nif (remainingLanes !== NoLanes) {\n  if (enableSchedulerTracing) {\n    // ...\n  }\n} else {\n  // ...\n}\n\n// æ€§èƒ½ä¼˜åŒ–ç›¸å…³\nif (enableSchedulerTracing) {\n  if (!rootDidHavePassiveEffects) {\n    // ...\n  }\n}\n\n// ...æ£€æµ‹æ— é™å¾ªç¯çš„åŒæ­¥ä»»åŠ¡\nif (remainingLanes === SyncLane) {\n  // ...\n}\n\n// åœ¨ç¦»å¼€commitRootå‡½æ•°å‰è°ƒç”¨ï¼Œè§¦å‘ä¸€æ¬¡æ–°çš„è°ƒåº¦ï¼Œç¡®ä¿ä»»ä½•é™„åŠ çš„ä»»åŠ¡è¢«è°ƒåº¦\nensureRootIsScheduled(root, now());\n\n// ...å¤„ç†æœªæ•è·é”™è¯¯åŠè€ç‰ˆæœ¬é—ç•™çš„è¾¹ç•Œé—®é¢˜\n\n// æ‰§è¡ŒåŒæ­¥ä»»åŠ¡ï¼Œè¿™æ ·åŒæ­¥ä»»åŠ¡ä¸éœ€è¦ç­‰åˆ°ä¸‹æ¬¡äº‹ä»¶å¾ªç¯å†æ‰§è¡Œ\n// æ¯”å¦‚åœ¨ componentDidMount ä¸­æ‰§è¡Œ setState åˆ›å»ºçš„æ›´æ–°ä¼šåœ¨è¿™é‡Œè¢«åŒæ­¥æ‰§è¡Œ\n// æˆ–useLayoutEffect\nflushSyncCallbackQueue();\n\nreturn null;\n```\n\n\n> ä½ å¯ä»¥åœ¨[è¿™é‡Œ](https://github.com/facebook/react/blob/1fb18e22ae66fdb1dc127347e169e73948778e5a/packages/react-reconciler/src/ReactFiberWorkLoop.new.js#L2195)çœ‹åˆ°è¿™æ®µä»£ç \n\n\nä¸»è¦åŒ…æ‹¬ä¸‰ç‚¹å†…å®¹ï¼š\n\n1. useEffect ç›¸å…³çš„å¤„ç†ã€‚\n2. æ€§èƒ½è¿½è¸ªç›¸å…³ã€‚\n\n\t> æºç é‡Œæœ‰å¾ˆå¤šå’Œinteractionç›¸å…³çš„å˜é‡ã€‚ä»–ä»¬éƒ½å’Œè¿½è¸ªReactæ¸²æŸ“æ—¶é—´ã€æ€§èƒ½ç›¸å…³ï¼Œ[Profiler API](https://zh-hans.reactjs.org/docs/profiler.html)å’Œ[DevTools](https://github.com/facebook/react-devtools/pull/1069)ä¸­ä½¿ç”¨ã€‚å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°[interactionçš„å®šä¹‰](https://gist.github.com/bvaughn/8de925562903afd2e7a12554adcdda16#overview)\n\n3. åœ¨ commit é˜¶æ®µä¼šè§¦å‘ä¸€äº›ç”Ÿå‘½å‘¨æœŸé’©å­ï¼ˆå¦‚ componentDidXXXï¼‰å’Œ hookï¼ˆå¦‚ useLayoutEffectã€useEffectï¼‰ã€‚\n\nåœ¨è¿™äº›å›è°ƒæ–¹æ³•ä¸­å¯èƒ½è§¦å‘æ–°çš„æ›´æ–°ï¼Œæ–°çš„æ›´æ–°ä¼šå¼€å¯æ–°çš„ render-commit æµç¨‹ã€‚\n\n\n# before mutation é˜¶æ®µ\n\n\n`Renderer`å·¥ä½œçš„é˜¶æ®µè¢«ç§°ä¸º`commit`é˜¶æ®µã€‚`commit`é˜¶æ®µå¯ä»¥åˆ†ä¸ºä¸‰ä¸ªå­é˜¶æ®µï¼š\n\n- before mutation é˜¶æ®µï¼ˆæ‰§è¡Œ DOM æ“ä½œå‰ï¼‰\n- mutation é˜¶æ®µï¼ˆæ‰§è¡Œ DOM æ“ä½œï¼‰\n- layout é˜¶æ®µï¼ˆæ‰§è¡Œ DOM æ“ä½œåï¼‰\n\n`before mutation`é˜¶æ®µçš„ä»£ç å¾ˆçŸ­ï¼Œæ•´ä¸ªè¿‡ç¨‹å°±æ˜¯éå†`effectList`å¹¶è°ƒç”¨`commitBeforeMutationEffects`å‡½æ•°å¤„ç†ã€‚\n\n\n> è¿™éƒ¨åˆ†[æºç åœ¨è¿™é‡Œ](https://github.com/facebook/react/blob/1fb18e22ae66fdb1dc127347e169e73948778e5a/packages/react-reconciler/src/ReactFiberWorkLoop.new.js#L2104-L2127)ï¼Œä¸ºäº†å¢åŠ å¯è¯»æ€§ï¼Œç¤ºä¾‹ä»£ç ä¸­åˆ é™¤äº†ä¸ç›¸å…³çš„é€»è¾‘ã€‚\n\n\n```typescript\n// ä¿å­˜ä¹‹å‰çš„ä¼˜å…ˆçº§ï¼Œä»¥åŒæ­¥ä¼˜å…ˆçº§æ‰§è¡Œï¼Œæ‰§è¡Œå®Œæ¯•åæ¢å¤ä¹‹å‰ä¼˜å…ˆçº§\nconst previousLanePriority = getCurrentUpdateLanePriority();\nsetCurrentUpdateLanePriority(SyncLanePriority);\n\n// å°†å½“å‰ä¸Šä¸‹æ–‡æ ‡è®°ä¸ºCommitContextï¼Œä½œä¸ºcommité˜¶æ®µçš„æ ‡å¿—\nconst prevExecutionContext = executionContext;\nexecutionContext |= CommitContext;\n\n// å¤„ç†focusçŠ¶æ€\nfocusedInstanceHandle = prepareForCommit(root.containerInfo);\nshouldFireAfterActiveInstanceBlur = false;\n\n// beforeMutationé˜¶æ®µçš„ä¸»å‡½æ•°\ncommitBeforeMutationEffects(finishedWork);\n\nfocusedInstanceHandle = null;\n```\n\n\n## commitBeforeMutationEffects\n\n\n```typescript\nfunction commitBeforeMutationEffects() {\n  while (nextEffect !== null) {\n    const current = nextEffect.alternate;\n\n    if (!shouldFireAfterActiveInstanceBlur && focusedInstanceHandle !== null) {\n      // ...focus blurç›¸å…³\n    }\n\n    const effectTag = nextEffect.effectTag;\n\n    // è°ƒç”¨getSnapshotBeforeUpdate\n    if ((effectTag & Snapshot) !== NoEffect) {\n      commitBeforeMutationEffectOnFiber(current, nextEffect);\n    }\n\n    // è°ƒåº¦useEffect\n    if ((effectTag & Passive) !== NoEffect) {\n      if (!rootDoesHavePassiveEffects) {\n        rootDoesHavePassiveEffects = true;\n        scheduleCallback(NormalSchedulerPriority, () => {\n          flushPassiveEffects();\n          return null;\n        });\n      }\n    }\n    nextEffect = nextEffect.nextEffect;\n  }\n}\n```\n\n\næ•´ä½“å¯ä»¥åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š\n\n- å¤„ç†`DOM`èŠ‚ç‚¹æ¸²æŸ“/åˆ é™¤åçš„ `autoFocus`ã€`blur` é€»è¾‘ã€‚\n- è°ƒç”¨`getSnapshotBeforeUpdate`ç”Ÿå‘½å‘¨æœŸé’©å­ã€‚\n- è°ƒåº¦`useEffect`ã€‚\n\n## è°ƒç”¨`getSnapshotBeforeUpdate`\n\n\n`commitBeforeMutationEffectOnFiber`æ˜¯`commitBeforeMutationLifeCycles`çš„åˆ«åã€‚ åœ¨è¯¥æ–¹æ³•å†…ä¼šè°ƒç”¨`getSnapshotBeforeUpdate`ã€‚\n\n\n> ä½ å¯ä»¥åœ¨[è¿™é‡Œ](https://github.com/facebook/react/blob/1fb18e22ae66fdb1dc127347e169e73948778e5a/packages/react-reconciler/src/ReactFiberCommitWork.old.js#L222)çœ‹åˆ°è¿™æ®µé€»è¾‘\n\n\nä»`React v16`å¼€å§‹ï¼Œ`componentWillXXX`é’©å­å‰å¢åŠ äº†`UNSAFE_`å‰ç¼€ã€‚ ç©¶å…¶åŸå› ï¼Œæ˜¯å› ä¸º`Stack Reconciler`é‡æ„ä¸º`Fiber Reconciler`åï¼Œ`render`é˜¶æ®µçš„ä»»åŠ¡å¯èƒ½ä¸­æ–­/é‡æ–°å¼€å§‹ï¼Œå¯¹åº”çš„ç»„ä»¶åœ¨`render`é˜¶æ®µçš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼ˆå³`componentWillXXX`ï¼‰å¯èƒ½è§¦å‘å¤šæ¬¡ã€‚ è¿™ç§è¡Œä¸ºå’Œ`React v15`ä¸ä¸€è‡´ï¼Œæ‰€ä»¥æ ‡è®°ä¸º`UNSAFE_`ã€‚\n\n\n> æ›´è¯¦ç»†çš„è§£é‡Šå‚ç…§[è¿™é‡Œ](https://juejin.im/post/6847902224287285255#comment)\n\n\nä¸ºæ­¤ï¼Œ`React`æä¾›äº†æ›¿ä»£çš„ç”Ÿå‘½å‘¨æœŸé’©å­`getSnapshotBeforeUpdate`ã€‚ æˆ‘ä»¬å¯ä»¥çœ‹è§ï¼Œ`getSnapshotBeforeUpdate`æ˜¯åœ¨`commit`é˜¶æ®µå†…çš„`before mutation`é˜¶æ®µè°ƒç”¨çš„ï¼Œç”±äº`commit`é˜¶æ®µæ˜¯åŒæ­¥çš„ï¼Œæ‰€ä»¥ä¸ä¼šé‡åˆ°å¤šæ¬¡è°ƒç”¨çš„é—®é¢˜ã€‚\n\n\n## è°ƒåº¦`useEffect`\n\n\nåœ¨è¿™å‡ è¡Œä»£ç å†…ï¼Œ`scheduleCallback`æ–¹æ³•ç”±`Scheduler`æ¨¡å—æä¾›ï¼Œç”¨äºä»¥æŸä¸ªä¼˜å…ˆçº§å¼‚æ­¥è°ƒåº¦ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚\n\n\n```typescript\n// è°ƒåº¦useEffect\nif ((effectTag & Passive) !== NoEffect) {\n  if (!rootDoesHavePassiveEffects) {\n    rootDoesHavePassiveEffects = true;\n    scheduleCallback(NormalSchedulerPriority, () => {\n      // è§¦å‘useEffect\n      flushPassiveEffects();\n      return null;\n    });\n  }\n}\n```\n\n\nåœ¨æ­¤å¤„ï¼Œè¢«å¼‚æ­¥è°ƒåº¦çš„å›è°ƒå‡½æ•°å°±æ˜¯è§¦å‘`useEffect`çš„æ–¹æ³•`flushPassiveEffects`ã€‚ æˆ‘ä»¬æ¥ä¸‹æ¥è®¨è®º`useEffect`å¦‚ä½•è¢«å¼‚æ­¥è°ƒåº¦ï¼Œä»¥åŠä¸ºä»€ä¹ˆè¦å¼‚æ­¥ï¼ˆè€Œä¸æ˜¯åŒæ­¥ï¼‰è°ƒåº¦ã€‚\n\n\n### å¦‚ä½•å¼‚æ­¥è°ƒåº¦\n\n\nåœ¨`flushPassiveEffects`æ–¹æ³•å†…éƒ¨ä¼šä»å…¨å±€å˜é‡`rootWithPendingPassiveEffects`è·å–`effectList`ã€‚ å…³äº`flushPassiveEffects`çš„å…·ä½“è®²è§£å‚ç…§ useEffect ä¸ useLayoutEffect ä¸€èŠ‚ `effectList`ä¸­ä¿å­˜äº†éœ€è¦æ‰§è¡Œå‰¯ä½œç”¨çš„`Fiber`èŠ‚ç‚¹ã€‚å…¶ä¸­å‰¯ä½œç”¨åŒ…æ‹¬ï¼š\n\n- æ’å…¥`DOM`èŠ‚ç‚¹ï¼ˆ`Placement`ï¼‰\n- æ›´æ–°`DOM`èŠ‚ç‚¹ï¼ˆ`Update`ï¼‰\n- åˆ é™¤`DOM`èŠ‚ç‚¹ï¼ˆ`Deletion`ï¼‰\n\né™¤æ­¤å¤–ï¼Œå½“ä¸€ä¸ª`FunctionComponent`å«æœ‰`useEffect`æˆ–`useLayoutEffect`ï¼Œä»–å¯¹åº”çš„`Fiber`èŠ‚ç‚¹ä¹Ÿä¼šè¢«èµ‹å€¼`effectTag`ã€‚\n\n\n> ä½ å¯ä»¥ä»[è¿™é‡Œ](https://github.com/facebook/react/blob/1fb18e22ae66fdb1dc127347e169e73948778e5a/packages/react-reconciler/src/ReactHookEffectTags.js)çœ‹åˆ°hookç›¸å…³çš„`effectTag`\n\n\nåœ¨`flushPassiveEffects`æ–¹æ³•å†…éƒ¨ä¼šéå†`rootWithPendingPassiveEffects`ï¼ˆå³`effectList`ï¼‰æ‰§è¡Œ`effect`å›è°ƒå‡½æ•°ã€‚ å¦‚æœåœ¨æ­¤æ—¶ç›´æ¥æ‰§è¡Œï¼Œ`rootWithPendingPassiveEffects === null`ã€‚ `layout`ä¹‹åçš„ä»£ç ç‰‡æ®µä¸­ä¼šæ ¹æ®`rootDoesHavePassiveEffects === true?`å†³å®šæ˜¯å¦èµ‹å€¼`rootWithPendingPassiveEffects`ã€‚\n\n\n```typescript\nconst rootDidHavePassiveEffects = rootDoesHavePassiveEffects;\nif (rootDoesHavePassiveEffects) {\n  rootDoesHavePassiveEffects = false;\n  rootWithPendingPassiveEffects = root;\n  pendingPassiveEffectsLanes = lanes;\n  pendingPassiveEffectsRenderPriority = renderPriorityLevel;\n}\n```\n\n\næ‰€ä»¥æ•´ä¸ª`useEffect`å¼‚æ­¥è°ƒç”¨åˆ†ä¸ºä¸‰æ­¥ï¼š\n\n1. `before mutation`é˜¶æ®µåœ¨`scheduleCallback`ä¸­è°ƒåº¦`flushPassiveEffects`\n2. `layout`é˜¶æ®µä¹‹åå°†`effectList`èµ‹å€¼ç»™`rootWithPendingPassiveEffects`\n3. `scheduleCallback`è§¦å‘`flushPassiveEffects`ï¼Œ`flushPassiveEffects`å†…éƒ¨éå†`rootWithPendingPassiveEffects`\n\n### ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥è°ƒç”¨\n\n\næ‘˜å½•è‡ª`React`æ–‡æ¡£[effect çš„æ‰§è¡Œæ—¶æœº](https://zh-hans.reactjs.org/docs/hooks-reference.html#timing-of-effects)ï¼š\n\n\n> ä¸ componentDidMountã€componentDidUpdate ä¸åŒçš„æ˜¯ï¼Œåœ¨æµè§ˆå™¨å®Œæˆå¸ƒå±€ä¸ç»˜åˆ¶ä¹‹åï¼Œä¼ ç»™ useEffect çš„å‡½æ•°ä¼šå»¶è¿Ÿè°ƒç”¨ã€‚è¿™ä½¿å¾—å®ƒé€‚ç”¨äºè®¸å¤šå¸¸è§çš„å‰¯ä½œç”¨åœºæ™¯ï¼Œæ¯”å¦‚è®¾ç½®è®¢é˜…å’Œäº‹ä»¶å¤„ç†ç­‰æƒ…å†µï¼Œå› æ­¤ä¸åº”åœ¨å‡½æ•°ä¸­æ‰§è¡Œé˜»å¡æµè§ˆå™¨æ›´æ–°å±å¹•çš„æ“ä½œã€‚\n\n\nå¯è§ï¼Œ`useEffect`å¼‚æ­¥æ‰§è¡Œçš„åŸå› ä¸»è¦æ˜¯é˜²æ­¢åŒæ­¥æ‰§è¡Œæ—¶é˜»å¡æµè§ˆå™¨æ¸²æŸ“ã€‚\n\n\n# mutation é˜¶æ®µ\n\n\nç±»ä¼¼`before mutation`é˜¶æ®µï¼Œ`mutation`é˜¶æ®µä¹Ÿæ˜¯éå†`effectList`ï¼Œæ‰§è¡Œå‡½æ•°ã€‚è¿™é‡Œæ‰§è¡Œçš„æ˜¯`commitMutationEffects`ã€‚\n\n\n```typescript\nnextEffect = firstEffect;\ndo {\n  try {\n    commitMutationEffects(root, renderPriorityLevel);\n  } catch (error) {\n    invariant(nextEffect !== null, \"Should be working on an effect.\");\n    captureCommitPhaseError(nextEffect, error);\n    nextEffect = nextEffect.nextEffect;\n  }\n} while (nextEffect !== null);\n```\n\n\n## commitMutationEffects\n\n\n```typescript\nfunction commitMutationEffects(\n  root: FiberRoot,\n  renderPriorityLevel: ReactPriorityLevel\n) {\n  // éå†effectList\n  while (nextEffect !== null) {\n    setCurrentDebugFiberInDEV(nextEffect);\n\n    const flags = nextEffect.flags;\n\n    // æ˜¯å¦éœ€è¦é‡åˆ¶æ–‡æœ¬èŠ‚ç‚¹\n    if (flags & ContentReset) {\n      commitResetTextContent(nextEffect);\n    }\n    // æ˜¯å¦æœ‰refçš„æ›´æ–°\n    if (flags & Ref) {\n      const current = nextEffect.alternate;\n      if (current !== null) {\n        commitDetachRef(current);\n      }\n      if (enableScopeAPI) {\n        // TODO: This is a temporary solution that allowed us to transition away\n        // from React Flare on www.\n        if (nextEffect.tag === ScopeComponent) {\n          commitAttachRef(nextEffect);\n        }\n      }\n    }\n\n    // Placementï¼šæ’å…¥dom\n    // Updateï¼šæ›´æ–°å±æ€§\n    // Deletionï¼šåˆ é™¤dom\n    // Hydratingï¼šSSRç›¸å…³\n    const primaryFlags = flags & (Placement | Update | Deletion | Hydrating);\n    switch (primaryFlags) {\n      case Placement: {\n        commitPlacement(nextEffect);\n        nextEffect.flags &= ~Placement;\n        break;\n      }\n      case PlacementAndUpdate: {\n        // Placement\n        commitPlacement(nextEffect);\n        nextEffect.flags &= ~Placement;\n\n        // Update\n        const current = nextEffect.alternate;\n        commitWork(current, nextEffect);\n        break;\n      }\n      case Hydrating: {\n        nextEffect.flags &= ~Hydrating;\n        break;\n      }\n      case HydratingAndUpdate: {\n        nextEffect.flags &= ~Hydrating;\n\n        // Update\n        const current = nextEffect.alternate;\n        commitWork(current, nextEffect);\n        break;\n      }\n      case Update: {\n        const current = nextEffect.alternate;\n        commitWork(current, nextEffect);\n        break;\n      }\n      case Deletion: {\n        commitDeletion(root, nextEffect, renderPriorityLevel);\n        break;\n      }\n    }\n\n    resetCurrentDebugFiberInDEV();\n    nextEffect = nextEffect.nextEffect;\n  }\n}\n```\n\n\n`commitMutationEffects`ä¼šéå†`effectList`ï¼Œå¯¹æ¯ä¸ª`Fiber`èŠ‚ç‚¹æ‰§è¡Œå¦‚ä¸‹ä¸‰ä¸ªæ“ä½œï¼š\n\n1. æ ¹æ®`ContentReset effectTag`é‡ç½®æ–‡å­—èŠ‚ç‚¹\n2. æ›´æ–°`ref`\n3. æ ¹æ®`effectTag`åˆ†åˆ«å¤„ç†ï¼Œå…¶ä¸­`effectTag`åŒ…æ‹¬(`Placement` | `Update` | `Deletion` | `Hydrating`)\n\n## Placement effect\n\n\nå½“`Fiber`èŠ‚ç‚¹å«æœ‰`Placement effectTag`ï¼Œæ„å‘³ç€è¯¥`Fiber`èŠ‚ç‚¹å¯¹åº”çš„`DOM`èŠ‚ç‚¹éœ€è¦æ’å…¥åˆ°é¡µé¢ä¸­ã€‚ è°ƒç”¨çš„æ–¹æ³•ä¸º`commitPlacement`ã€‚\n\n\n```typescript\nfunction commitPlacement(finishedWork: Fiber): void {\n  // æ˜¯å¦æ”¯æŒMutationï¼Œdomç¯å¢ƒæ˜¯æ”¯æŒçš„\n  if (!supportsMutation) {\n    return;\n  }\n\n  const parentFiber = getHostParentFiber(finishedWork);\n\n  let parent;\n  let isContainer;\n  const parentStateNode = parentFiber.stateNode;\n  switch (parentFiber.tag) {\n    case HostComponent:\n      parent = parentStateNode;\n      isContainer = false;\n      break;\n    case HostRoot:\n      parent = parentStateNode.containerInfo;\n      isContainer = true;\n      break;\n    case HostPortal:\n      parent = parentStateNode.containerInfo;\n      isContainer = true;\n      break;\n    case FundamentalComponent:\n      if (enableFundamentalAPI) {\n        parent = parentStateNode.instance;\n        isContainer = false;\n      }\n    // eslint-disable-next-line-no-fallthrough\n    default:\n      invariant(\n        false,\n        \"Invalid host parent fiber. This error is likely caused by a bug \" +\n          \"in React. Please file an issue.\"\n      );\n  }\n  if (parentFiber.flags & ContentReset) {\n    resetTextContent(parent);\n    parentFiber.flags &= ~ContentReset;\n  }\n  // æ‰¾åˆ°Hostç±»å‹çš„å…„å¼ŸèŠ‚ç‚¹\n  // æ’å…¥æœ‰ä¸¤ç§æ–¹å¼ï¼š1ã€‚æ‰¾åˆ°å…„å¼ŸèŠ‚ç‚¹ï¼Œæ‰§è¡ŒinsertBeforeæ’å…¥èŠ‚ç‚¹\n  // 2.æ‰¾åˆ°çˆ¶èŠ‚ç‚¹ï¼Œæ‰§è¡ŒAppendChildæ’å…¥èŠ‚ç‚¹\n  const before = getHostSibling(finishedWork);\n  // We only have the top Fiber that was inserted but we need to recurse down its\n  // children to find all the terminal nodes.\n  if (isContainer) {\n    insertOrAppendPlacementNodeIntoContainer(finishedWork, before, parent);\n  } else {\n    insertOrAppendPlacementNode(finishedWork, before, parent);\n  }\n}\n```\n\n\nè¯¥æ–¹æ³•æ‰€åšçš„å·¥ä½œåˆ†ä¸ºä¸‰æ­¥ï¼š\n\n1. è·å–çˆ¶çº§`DOM`èŠ‚ç‚¹ã€‚å…¶ä¸­`finishedWork`ä¸ºä¼ å…¥çš„`Fiber`èŠ‚ç‚¹ã€‚\n\n```typescript\nconst parentFiber = getHostParentFiber(finishedWork);\n// çˆ¶çº§DOMèŠ‚ç‚¹\nconst parentStateNode = parentFiber.stateNode;\n```\n\n1. è·å–`Fiber`èŠ‚ç‚¹çš„`DOM`å…„å¼ŸèŠ‚ç‚¹\n\n```typescript\nconst before = getHostSibling(finishedWork);\n```\n\n1. æ ¹æ®`DOM`å…„å¼ŸèŠ‚ç‚¹æ˜¯å¦å­˜åœ¨å†³å®šè°ƒç”¨`parentNode.insertBefore`æˆ–`parentNode.appendChild`æ‰§è¡Œ`DOM`æ’å…¥æ“ä½œã€‚\n\n```typescript\n// parentStateNodeæ˜¯å¦æ˜¯rootFiber\nif (isContainer) {\n  insertOrAppendPlacementNodeIntoContainer(finishedWork, before, parent);\n} else {\n  insertOrAppendPlacementNode(finishedWork, before, parent);\n}\n```\n\n\nå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ`getHostSibling`ï¼ˆè·å–å…„å¼Ÿ`DOM`èŠ‚ç‚¹ï¼‰çš„æ‰§è¡Œå¾ˆè€—æ—¶ï¼Œå½“åœ¨åŒä¸€ä¸ªçˆ¶`Fiber`èŠ‚ç‚¹ä¸‹ä¾æ¬¡æ‰§è¡Œå¤šä¸ªæ’å…¥æ“ä½œï¼Œ`getHostSibling`ç®—æ³•çš„å¤æ‚åº¦ä¸ºæŒ‡æ•°çº§ã€‚ è¿™æ˜¯ç”±äº`Fiber`èŠ‚ç‚¹ä¸åªåŒ…æ‹¬`HostComponent`ï¼Œæ‰€ä»¥`Fiber`æ ‘å’Œæ¸²æŸ“çš„`DOM`æ ‘èŠ‚ç‚¹å¹¶ä¸æ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚è¦ä»`Fiber`èŠ‚ç‚¹æ‰¾åˆ°`DOM`èŠ‚ç‚¹å¾ˆå¯èƒ½è·¨å±‚çº§éå†ã€‚ è€ƒè™‘å¦‚ä¸‹ä¾‹å­ï¼š\n\n\n```typescript\nfunction Item() {\n  return <li><li>;\n}\n\nfunction App() {\n  return (\n    <div>\n      <Item/>\n    </div>\n  )\n}\n\nReactDOM.render(<App/>, document.getElementById('root'));\n```\n\n\nå¯¹åº”çš„`Fiber`æ ‘å’Œ`DOM`æ ‘ç»“æ„ä¸ºï¼š\n\n\n```text\n// Fiberæ ‘\nchild      child      child       child\nrootFiber -----> App -----> div -----> Item -----> li\n\n// DOMæ ‘\n#root ---> div ---> li\n```\n\n\nå½“åœ¨`div`çš„å­èŠ‚ç‚¹`Item`å‰æ’å…¥ä¸€ä¸ªæ–°èŠ‚ç‚¹`p`ï¼Œå³`App`å˜ä¸ºï¼š\n\n\n```typescript\nfunction App() {\n  return (\n    <div>\n      <p></p>\n      <Item />\n    </div>\n  );\n}\n```\n\n\nå¯¹åº”çš„`Fiber`æ ‘å’Œ`DOM`æ ‘ç»“æ„ä¸ºï¼š\n\n\n```text\n// Fiberæ ‘\n          child      child      child\nrootFiber -----> App -----> div -----> p\n                                       | sibling       child\n                                       | -------> Item -----> li\n// DOMæ ‘\n#root ---> div ---> p\n             |\n               ---> li\n```\n\n\næ­¤æ—¶`DOM`èŠ‚ç‚¹ `p`çš„å…„å¼ŸèŠ‚ç‚¹ä¸º`li`ï¼Œè€Œ`Fiber`èŠ‚ç‚¹ `p`å¯¹åº”çš„å…„å¼Ÿ`DOM`èŠ‚ç‚¹ä¸ºï¼š\n\n\n```text\nfiberP.sibling.child\n```\n\n\nå³`fiber p`çš„å…„å¼Ÿ`fiber Item`çš„å­`fiber li`\n\n\n## Update effect\n\n\nå½“`Fiber`èŠ‚ç‚¹å«æœ‰`Update effectTag`ï¼Œæ„å‘³ç€è¯¥`Fiber`èŠ‚ç‚¹éœ€è¦æ›´æ–°ã€‚è°ƒç”¨çš„æ–¹æ³•ä¸º`commitWork`ï¼Œä»–ä¼šæ ¹æ®`Fiber.tag`åˆ†åˆ«å¤„ç†ã€‚\n\n\n```typescript\nfunction commitWork(current: Fiber | null, finishedWork: Fiber): void {\n  switch (finishedWork.tag) {\n    case FunctionComponent:\n    case ForwardRef:\n    case MemoComponent:\n    case SimpleMemoComponent:\n    case Block: {\n      // è¿™äº›éƒ½æ˜¯å’ŒfunctionComponentç›¸å…³çš„\n      if (\n        enableProfilerTimer &&\n        enableProfilerCommitHooks &&\n        finishedWork.mode & ProfileMode\n      ) {\n        try {\n          startLayoutEffectTimer();\n          // useLayoutçš„é”€æ¯å‡½æ•°\n          commitHookEffectListUnmount(HookLayout | HookHasEffect, finishedWork);\n        } finally {\n          recordLayoutEffectDuration(finishedWork);\n        }\n      } else {\n        commitHookEffectListUnmount(HookLayout | HookHasEffect, finishedWork);\n      }\n      return;\n    }\n    case ClassComponent: {\n      return;\n    }\n    // domèŠ‚ç‚¹ç›¸å…³\n    case HostComponent: {\n      const instance: Instance = finishedWork.stateNode;\n      if (instance != null) {\n        // Commit the work prepared earlier.\n        const newProps = finishedWork.memoizedProps;\n        const oldProps = current !== null ? current.memoizedProps : newProps;\n        const type = finishedWork.type;\n        const updatePayload: null | UpdatePayload = (finishedWork.updateQueue: any);\n        finishedWork.updateQueue = null;\n        if (updatePayload !== null) {\n          // æ›´æ–°domçš„å±æ€§\n          commitUpdate(\n            instance,\n            updatePayload,\n            type,\n            oldProps,\n            newProps,\n            finishedWork,\n          );\n        }\n      }\n      return;\n    }\n    case HostText: {\n      const textInstance: TextInstance = finishedWork.stateNode;\n      const newText: string = finishedWork.memoizedProps;\n      const oldText: string =\n        current !== null ? current.memoizedProps : newText;\n      commitTextUpdate(textInstance, oldText, newText);\n      return;\n    }\n    case HostRoot: {\n      if (supportsHydration) {\n        const root: FiberRoot = finishedWork.stateNode;\n        if (root.hydrate) {\n          // We've just hydrated. No need to hydrate again.\n          root.hydrate = false;\n          commitHydratedContainer(root.containerInfo);\n        }\n      }\n      return;\n    }\n    // ...\n  }\n}\n```\n\n\nè¿™é‡Œæˆ‘ä»¬ä¸»è¦å…³æ³¨`FunctionComponent`å’Œ`HostComponent`ã€‚\n\n\n### FunctionComponent mutation\n\n\nå½“`fiber.tag`ä¸º`FunctionComponent`ï¼Œä¼šè°ƒç”¨`commitHookEffectListUnmount`ã€‚è¯¥æ–¹æ³•ä¼šéå†`effectList`ï¼Œæ‰§è¡Œæ‰€æœ‰`useLayoutEffect hook`çš„é”€æ¯å‡½æ•°ã€‚\n\n\n```typescript\nfunction commitHookEffectListUnmount(tag: number, finishedWork: Fiber) {\n  const updateQueue: FunctionComponentUpdateQueue | null = (finishedWork.updateQueue: any);\n  const lastEffect = updateQueue !== null ? updateQueue.lastEffect : null;\n  if (lastEffect !== null) {\n    const firstEffect = lastEffect.next;\n    let effect = firstEffect;\n    do {\n      if ((effect.tag & tag) === tag) {\n        // Unmount\n        const destroy = effect.destroy;\n        effect.destroy = undefined;\n        if (destroy !== undefined) {\n          destroy();\n        }\n      }\n      effect = effect.next;\n    } while (effect !== firstEffect);\n  }\n}\n```\n\n\n### HostComponent mutation\n\n\nå½“`fiber.tag`ä¸º`HostComponent`ï¼Œä¼šè°ƒç”¨`commitUpdate`ã€‚\n\n\n```typescript\nexport function commitUpdate(\n  domElement: Instance,\n  updatePayload: Array<mixed>,\n  type: string,\n  oldProps: Props,\n  newProps: Props,\n  internalInstanceHandle: Object\n): void {\n  // Update the props handle so that we know which props are the ones with\n  // with current event handlers.\n  updateFiberProps(domElement, newProps);\n  // Apply the diff to the DOM node.\n  updateProperties(domElement, updatePayload, type, oldProps, newProps);\n}\n```\n\n\næœ€ç»ˆä¼šåœ¨`updateProperties`ä¸­çš„`updateDOMProperties`ä¸­å°†`render`é˜¶æ®µ `completeWork`ä¸­ä¸º`Fiber`èŠ‚ç‚¹èµ‹å€¼çš„`updateQueue`å¯¹åº”çš„å†…å®¹æ¸²æŸ“åœ¨é¡µé¢ä¸Šã€‚\n\n\n```typescript\nfunction updateDOMProperties(\n  domElement: Element,\n  updatePayload: Array<any>,\n  wasCustomComponentTag: boolean,\n  isCustomComponentTag: boolean\n): void {\n  // TODO: Handle wasCustomComponentTag\n  for (let i = 0; i < updatePayload.length; i += 2) {\n    const propKey = updatePayload[i];\n    const propValue = updatePayload[i + 1];\n    // å¤„ç† style\n    if (propKey === STYLE) {\n      setValueForStyles(domElement, propValue);\n      // å¤„ç† DANGEROUSLY_SET_INNER_HTML\n    } else if (propKey === DANGEROUSLY_SET_INNER_HTML) {\n      setInnerHTML(domElement, propValue);\n      // å¤„ç† children\n    } else if (propKey === CHILDREN) {\n      setTextContent(domElement, propValue);\n      // å¤„ç†å‰©ä½™ props\n    } else {\n      setValueForProperty(domElement, propKey, propValue, isCustomComponentTag);\n    }\n  }\n}\n```\n\n\n## Deletion effect\n\n\nå½“`Fiber`èŠ‚ç‚¹å«æœ‰`Deletion effectTag`ï¼Œæ„å‘³ç€è¯¥`Fiber`èŠ‚ç‚¹å¯¹åº”çš„`DOM`èŠ‚ç‚¹éœ€è¦ä»é¡µé¢ä¸­åˆ é™¤ã€‚è°ƒç”¨çš„æ–¹æ³•ä¸º`commitDeletion`ã€‚\n\n\n> ä½ å¯ä»¥åœ¨[è¿™é‡Œ](https://github.com/facebook/react/blob/970fa122d8188bafa600e9b5214833487fbf1092/packages/react-reconciler/src/ReactFiberCommitWork.new.js#L1421)çœ‹åˆ°commitDeletionæºç \n\n\nè¿™é‡Œä¸»è¦å…³æ³¨`unmountHostComponents`ä¸­çš„`commitNestedUnmounts`ä¸­çš„`commitUnmount`æ–¹æ³•\n\n\n```typescript\nfunction commitUnmount(\n  finishedRoot: FiberRoot,\n  current: Fiber,\n  renderPriorityLevel: ReactPriorityLevel,\n): void {\n  onCommitUnmount(current);\n\n  switch (current.tag) {\n    case FunctionComponent:\n    case ForwardRef:\n    case MemoComponent:\n    case SimpleMemoComponent:\n    case Block: {\n      const updateQueue: FunctionComponentUpdateQueue | null = (current.updateQueue: any);\n      if (updateQueue !== null) {\n        const lastEffect = updateQueue.lastEffect;\n        if (lastEffect !== null) {\n          const firstEffect = lastEffect.next;\n\n          let effect = firstEffect;\n          do {\n            const {destroy, tag} = effect;\n            if (destroy !== undefined) {\n              if ((tag & HookPassive) !== NoHookEffect) {\n                // å½“functionComponentè¢«é”€æ¯æ—¶ï¼ŒuseEffectçš„é”€æ¯å‡½æ•°ä¹Ÿä¼šè¢«æ‰§è¡Œ\n                enqueuePendingPassiveHookEffectUnmount(current, effect);\n              } else {\n                if (\n                  enableProfilerTimer &&\n                  enableProfilerCommitHooks &&\n                  current.mode & ProfileMode\n                ) {\n                  startLayoutEffectTimer();\n                  safelyCallDestroy(current, destroy);\n                  recordLayoutEffectDuration(current);\n                } else {\n                  safelyCallDestroy(current, destroy);\n                }\n              }\n            }\n            effect = effect.next;\n          } while (effect !== firstEffect);\n        }\n      }\n      return;\n    }\n    case ClassComponent: {\n      safelyDetachRef(current);\n      const instance = current.stateNode;\n      if (typeof instance.componentWillUnmount === 'function') {\n        // ä¼šæ‰§è¡ŒcomponentWillUnmounté’©å­å‡½æ•°\n        safelyCallComponentWillUnmount(current, instance);\n      }\n      return;\n    }\n    case HostComponent: {\n      // è§£ç»‘refå±æ€§\n      safelyDetachRef(current);\n      return;\n    }\n    // ...\n  }\n}\n```\n\n\nè¯¥æ–¹æ³•ä¼šæ‰§è¡Œå¦‚ä¸‹æ“ä½œï¼š\n\n1. é€’å½’è°ƒç”¨`Fiber`èŠ‚ç‚¹åŠå…¶å­å­™`Fiber`èŠ‚ç‚¹ä¸­`fiber.tag`ä¸º`ClassComponent`çš„`componentWillUnmount`ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œä»é¡µé¢ç§»é™¤`Fiber`èŠ‚ç‚¹å¯¹åº”`DOM`èŠ‚ç‚¹\n2. è§£ç»‘`ref`\n3. è°ƒåº¦`useEffect`çš„é”€æ¯å‡½æ•°\n\n# layout é˜¶æ®µ\n\n\nè¯¥é˜¶æ®µä¹‹æ‰€ä»¥ç§°ä¸º`layout`ï¼Œå› ä¸ºè¯¥é˜¶æ®µçš„ä»£ç éƒ½æ˜¯åœ¨`DOM`æ¸²æŸ“å®Œæˆï¼ˆ`mutation`é˜¶æ®µå®Œæˆï¼‰åæ‰§è¡Œçš„ã€‚ è¯¥é˜¶æ®µè§¦å‘çš„ç”Ÿå‘½å‘¨æœŸé’©å­å’Œ`hook`å¯ä»¥ç›´æ¥è®¿é—®åˆ°å·²ç»æ”¹å˜åçš„`DOM`ï¼Œå³è¯¥é˜¶æ®µæ˜¯å¯ä»¥å‚ä¸`DOM layout`çš„é˜¶æ®µã€‚ ä¸å‰ä¸¤ä¸ªé˜¶æ®µç±»ä¼¼ï¼Œ`layout`é˜¶æ®µä¼šéå†`effectList`ï¼Œä¾æ¬¡æ‰§è¡Œ`commitLayoutEffects`ã€‚è¯¥æ–¹æ³•çš„ä¸»è¦å·¥ä½œä¸ºâ€œæ ¹æ®`effectTag`è°ƒç”¨ä¸åŒçš„å¤„ç†å‡½æ•°å¤„ç†`Fiber`å¹¶æ›´æ–°`ref`ã€‚ å…·ä½“æ‰§è¡Œçš„å‡½æ•°æ˜¯`commitLayoutEffects`ã€‚\n\n\n```typescript\n// commité˜¶æ®µå®Œæˆåï¼ŒcurrentFiberå°±ä¼šæŒ‡å‘å·²ç»æ¸²æŸ“å¥½çš„fiber\nroot.current = finishedWork;\nnextEffect = firstEffect;\ndo {\n  try {\n    commitLayoutEffects(root, lanes);\n  } catch (error) {\n    invariant(nextEffect !== null, \"Should be working on an effect.\");\n    captureCommitPhaseError(nextEffect, error);\n    nextEffect = nextEffect.nextEffect;\n  }\n} while (nextEffect !== null);\n\nnextEffect = null;\n```\n\n\n## commitLayoutEffects\n\n\n```typescript\nfunction commitLayoutEffects(root: FiberRoot, committedLanes: Lanes) {\n  while (nextEffect !== null) {\n    const effectTag = nextEffect.effectTag;\n\n    // è°ƒç”¨ç”Ÿå‘½å‘¨æœŸé’©å­å’Œhook\n    if (effectTag & (Update | Callback)) {\n      const current = nextEffect.alternate;\n      commitLayoutEffectOnFiber(root, current, nextEffect, committedLanes);\n    }\n\n    // èµ‹å€¼ref\n    if (effectTag & Ref) {\n      commitAttachRef(nextEffect);\n    }\n\n    nextEffect = nextEffect.nextEffect;\n  }\n}\n```\n\n\n`commitLayoutEffects`ä¸€å…±åšäº†ä¸¤ä»¶äº‹ï¼š\n\n1. `commitLayoutEffectOnFiber`ï¼ˆè°ƒç”¨ç”Ÿå‘½å‘¨æœŸé’©å­å’Œ`hook`ç›¸å…³æ“ä½œï¼‰\n2. `commitAttachRef`ï¼ˆèµ‹å€¼ `ref`ï¼‰\n\n## commitLayoutEffectOnFiber\n\n\n`commitLayoutEffectOnFiber(commitLifeCycles)`æ–¹æ³•ä¼šæ ¹æ®`fiber.tag`å¯¹ä¸åŒç±»å‹çš„èŠ‚ç‚¹åˆ†åˆ«å¤„ç†ã€‚\n\n\n```typescript\nfunction commitLifeCycles(\n  finishedRoot: FiberRoot,\n  current: Fiber | null,\n  finishedWork: Fiber,\n  committedLanes: Lanes,\n): void {\n  switch (finishedWork.tag) {\n    case FunctionComponent:\n    case ForwardRef:\n    case SimpleMemoComponent:\n    case Block: {\n      if (\n        enableProfilerTimer &&\n        enableProfilerCommitHooks &&\n        finishedWork.mode & ProfileMode\n      ) {\n        try {\n          startLayoutEffectTimer();\n          commitHookEffectListMount(HookLayout | HookHasEffect, finishedWork);\n        } finally {\n          recordLayoutEffectDuration(finishedWork);\n        }\n      } else {\n        commitHookEffectListMount(HookLayout | HookHasEffect, finishedWork);\n      }\n\n      schedulePassiveEffects(finishedWork);\n      return;\n    }\n    case ClassComponent: {\n      const instance = finishedWork.stateNode;\n      if (finishedWork.flags & Update) {\n        if (current === null) {\n          if (\n            enableProfilerTimer &&\n            enableProfilerCommitHooks &&\n            finishedWork.mode & ProfileMode\n          ) {\n            try {\n              startLayoutEffectTimer();\n              instance.componentDidMount();\n            } finally {\n              recordLayoutEffectDuration(finishedWork);\n            }\n          } else {\n            instance.componentDidMount();\n          }\n        } else {\n          const prevProps =\n            finishedWork.elementType === finishedWork.type\n              ? current.memoizedProps\n              : resolveDefaultProps(finishedWork.type, current.memoizedProps);\n          const prevState = current.memoizedState;\n          if (\n            enableProfilerTimer &&\n            enableProfilerCommitHooks &&\n            finishedWork.mode & ProfileMode\n          ) {\n            try {\n              startLayoutEffectTimer();\n              instance.componentDidUpdate(\n                prevProps,\n                prevState,\n                instance.__reactInternalSnapshotBeforeUpdate,\n              );\n            } finally {\n              recordLayoutEffectDuration(finishedWork);\n            }\n          } else {\n            instance.componentDidUpdate(\n              prevProps,\n              prevState,\n              instance.__reactInternalSnapshotBeforeUpdate,\n            );\n          }\n        }\n      }\n\n      const updateQueue: UpdateQueue<\n        *,\n      > | null = (finishedWork.updateQueue: any);\n      if (updateQueue !== null) {\n        commitUpdateQueue(finishedWork, updateQueue, instance);\n      }\n      return;\n    }\n    case HostRoot: {\n      // TODO: I think this is now always non-null by the time it reaches the\n      // commit phase. Consider removing the type check.\n      const updateQueue: UpdateQueue<\n        *,\n      > | null = (finishedWork.updateQueue: any);\n      if (updateQueue !== null) {\n        let instance = null;\n        if (finishedWork.child !== null) {\n          switch (finishedWork.child.tag) {\n            case HostComponent:\n              instance = getPublicInstance(finishedWork.child.stateNode);\n              break;\n            case ClassComponent:\n              instance = finishedWork.child.stateNode;\n              break;\n          }\n        }\n        commitUpdateQueue(finishedWork, updateQueue, instance);\n      }\n      return;\n    }\n    case HostComponent: {\n      const instance: Instance = finishedWork.stateNode;\n\n      if (current === null && finishedWork.flags & Update) {\n        const type = finishedWork.type;\n        const props = finishedWork.memoizedProps;\n        commitMount(instance, type, props, finishedWork);\n      }\n\n      return;\n    }\n    // ...\n  }\n}\n```\n\n- å¯¹äº`FunctionComponent`åŠç›¸å…³ç±»å‹ï¼Œä»–ä¼šè°ƒç”¨`useLayoutEffect hook`çš„å›è°ƒå‡½æ•°ï¼Œè°ƒåº¦`useEffect`çš„é”€æ¯ä¸å›è°ƒå‡½æ•° > ç›¸å…³ç±»å‹æŒ‡ç‰¹æ®Šå¤„ç†åçš„`FunctionComponent`ï¼Œæ¯”å¦‚`ForwardRef`ã€`React.memo`åŒ…è£¹çš„`FunctionComponent`\n\n```typescript\nswitch (finishedWork.tag) {\n    // ä»¥ä¸‹éƒ½æ˜¯FunctionComponentåŠç›¸å…³ç±»å‹\n    case FunctionComponent:\n    case ForwardRef:\n    case SimpleMemoComponent:\n    case Block: {\n      // æ‰§è¡ŒuseLayoutEffectçš„å›è°ƒå‡½æ•°\n      commitHookEffectListMount(HookLayout | HookHasEffect, finishedWork);\n      // è°ƒåº¦useEffectçš„é”€æ¯å‡½æ•°ä¸å›è°ƒå‡½æ•°\n      schedulePassiveEffects(finishedWork);\n      return;\n    }\n```\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FoDDpT2emLK3wR4FbtQ_6VWrT0HH.png)\n\n\nç”±äº\n\n\n```text\nmutation\n```\n\n\né˜¶æ®µä¼šæ‰§è¡Œ\n\n\n```text\nuseLayoutEffect hook\n```\n\n\nçš„é”€æ¯å‡½æ•°ã€‚ ç»“åˆè¿™é‡Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œ\n\n\n```text\nuseLayoutEffect hook\n```\n\n\nä»ä¸Šä¸€æ¬¡æ›´æ–°çš„é”€æ¯å‡½æ•°è°ƒç”¨åˆ°æœ¬æ¬¡æ›´æ–°çš„å›è°ƒå‡½æ•°è°ƒç”¨æ˜¯åŒæ­¥æ‰§è¡Œçš„ã€‚ è€Œ\n\n\n```text\nuseEffect\n```\n\n\nåˆ™éœ€è¦å…ˆè°ƒåº¦ï¼Œåœ¨\n\n\n```text\nLayout\n```\n\n\né˜¶æ®µå®Œæˆåå†å¼‚æ­¥æ‰§è¡Œã€‚ è¿™å°±æ˜¯\n\n\n```text\nuseLayoutEffect\n```\n\n\nä¸\n\n\n```text\nuseEffect\n```\n\n\nçš„åŒºåˆ«ã€‚\n\n- å¯¹äº`ClassComponent`ï¼Œä»–ä¼šé€šè¿‡`current === null?`åŒºåˆ†æ˜¯`mount`è¿˜æ˜¯`update`ï¼Œè°ƒç”¨[componentDidMount](https://github.com/facebook/react/blob/970fa122d8188bafa600e9b5214833487fbf1092/packages/react-reconciler/src/ReactFiberCommitWork.new.js#L538)æˆ–[componentDidUpdate](https://github.com/facebook/react/blob/970fa122d8188bafa600e9b5214833487fbf1092/packages/react-reconciler/src/ReactFiberCommitWork.new.js#L592)ã€‚\n\nè§¦å‘çŠ¶æ€æ›´æ–°çš„`this.setState`å¦‚æœèµ‹å€¼äº†ç¬¬äºŒä¸ªå‚æ•°å›è°ƒå‡½æ•°ï¼Œä¹Ÿä¼šåœ¨æ­¤æ—¶è°ƒç”¨ã€‚\n\n\n## commitAttachRef\n\n\n> commitLayoutEffectsä¼šåšçš„ç¬¬äºŒä»¶äº‹æ˜¯commitAttachRefï¼Œè·å–DOMå®ä¾‹ï¼Œæ›´æ–°refã€‚\n\n\n```typescript\nfunction commitAttachRef(finishedWork: Fiber) {\n  const ref = finishedWork.ref;\n  if (ref !== null) {\n    // è·å–DOMå®ä¾‹\n    const instance = finishedWork.stateNode;\n    let instanceToUse;\n    switch (finishedWork.tag) {\n      case HostComponent:\n        instanceToUse = getPublicInstance(instance);\n        break;\n      default:\n        instanceToUse = instance;\n    }\n    if (enableScopeAPI && finishedWork.tag === ScopeComponent) {\n      instanceToUse = instance;\n    }\n    if (typeof ref === \"function\") {\n      // å¦‚æœrefæ˜¯å‡½æ•°å½¢å¼ï¼Œè°ƒç”¨å›è°ƒå‡½æ•°\n      ref(instanceToUse);\n    } else {\n      // å¦‚æœrefæ˜¯refå®ä¾‹å½¢å¼ï¼Œèµ‹å€¼ref.current\n      ref.current = instanceToUse;\n    }\n  }\n}\n```\n\n\n## current Fiber æ ‘åˆ‡æ¢\n\n\nè‡³æ­¤ï¼Œæ•´ä¸ª layout é˜¶æ®µå°±ç»“æŸäº†ã€‚ å‰é¢ä¹Ÿè®²è¿‡ï¼Œåœ¨ layout é˜¶æ®µå¼€å§‹ä¹‹å‰ï¼Œæœ‰è¿™ä¹ˆä¸€æ®µä»£ç ï¼š\n\n\n```typescript\nroot.current = finishedWork;\n```\n\n\nç”±äºåœ¨åŒç¼“å­˜æœºåˆ¶ï¼Œ`workInProgress Fiber`æ ‘åœ¨`commit`é˜¶æ®µå®Œæˆæ¸²æŸ“åä¼šå˜ä¸º`current Fiber`æ ‘ã€‚è¿™è¡Œä»£ç çš„ä½œç”¨å°±æ˜¯åˆ‡æ¢`fiberRootNode`æŒ‡å‘çš„`current Fiber`æ ‘ã€‚ é‚£ä¹ˆè¿™è¡Œä»£ç ä¸ºä»€ä¹ˆåœ¨è¿™é‡Œå‘¢ï¼Ÿï¼ˆåœ¨`mutation`é˜¶æ®µç»“æŸåï¼Œ`layout`é˜¶æ®µå¼€å§‹å‰ã€‚ï¼‰ é‚£æ˜¯å› ä¸º`componentWillUnmount`ä¼šåœ¨`mutation`é˜¶æ®µæ‰§è¡Œã€‚æ­¤æ—¶`current Fiber`æ ‘è¿˜æŒ‡å‘å‰ä¸€æ¬¡æ›´æ–°çš„`Fiber`æ ‘ï¼Œåœ¨ç”Ÿå‘½å‘¨æœŸé’©å­å†…è·å–çš„`DOM`è¿˜æ˜¯æ›´æ–°å‰çš„ã€‚ è€Œ`componentDidMount`å’Œ`componentDidUpdate`ä¼šåœ¨ layout é˜¶æ®µæ‰§è¡Œã€‚æ­¤æ—¶`current Fiber`æ ‘éœ€è¦æŒ‡å‘æ›´æ–°åçš„`Fiber`æ ‘ï¼Œåœ¨ç”Ÿå‘½å‘¨æœŸé’©å­å†…è·å–çš„`DOM`å°±æ˜¯æ›´æ–°åçš„ã€‚\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2022-02-19",
        "type": "Post",
        "slug": "react-commit",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:26:00.000Z",
        "title": "ç¬¬å››ç«  Reactæ¶æ„-commité˜¶æ®µ",
        "category": "å­¦ä¹ ç¬”è®°",
        "tags": [
          "è‡ªé¡¶å‘ä¸‹å­¦ä¹ Reactæºç ",
          "React"
        ],
        "status": "Draft",
        "urlname": "dcac3fa7-a41d-42ed-837b-79311b3e6e3c",
        "updated": "2023-08-26 15:26:00"
      },
      "body": "",
      "realName": "ç¬¬å››ç«  Reactæ¶æ„-commité˜¶æ®µ",
      "relativePath": "/ç¬¬å››ç«  Reactæ¶æ„-commité˜¶æ®µ.md"
    },
    {
      "id": "0b7ef73a-c23e-4019-8139-a87b987968f3",
      "doc_id": "0b7ef73a-c23e-4019-8139-a87b987968f3",
      "updated": 1693064220000,
      "body_original": "\n1 - ã€Œå­¦ä¹  / æ„Ÿæ‚Ÿ ğŸ¥•ã€\n\n\n`RxJs`ç”¨èµ·æ¥è¿˜æŒºçˆ½ï¼Œç‰¹åˆ«æ˜¯ç”¨æ¥å¤„ç†æµå¼è¿‡ç¨‹å ªæ¯” `Loadsh`åœ¨`Js`ä¸­çš„ä½¿ç”¨ä½“éªŒã€‚\n\n\nä»¥æˆ‘ç›®å‰çš„ä½¿ç”¨åœºæ™¯ï¼ŒRxJs éå¸¸é€‚åˆç”¨æ¥è§£å†³ç±»ä¼¼é˜Ÿåˆ—çš„é—®é¢˜ã€‚\n\n\n<details>\n  <summary>åœºæ™¯ä¸€ï¼šæ‰¹é‡ä»»åŠ¡åˆ†ç»„å¤„ç†</summary>\n\n\nç”±äºç¬¬ä¸‰æ–¹æ¥å£çš„é™æµå’Œå¹¶å‘ï¼Œå¯¼è‡´ä¸€æ¬¡æ€§åªèƒ½åŒæ—¶è¯·æ±‚Nä¸ªè¯·æ±‚ï¼Œç­‰è¿™ä¸€æ‰¹è¯·æ±‚ç»“æŸå†å‘èµ·ä¸‹ä¸€æ‰¹è¯·æ±‚æ‰ä¸å¤ªä¼šæŠ¥é”™ã€‚\n\n\nåœ¨ä»¥å¾€çš„ç¼–ç¨‹ä¹ æƒ¯ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ‰¹é‡ä»»åŠ¡è¿›è¡Œåˆ†ç»„ç„¶åçº¿æ€§æ‰§è¡Œæ‰¹é‡ä»»åŠ¡åˆ†ç»„ï¼Œä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š\n\n\n```typescript\n/**\n * å¯¹æ‰¹é‡ä»»åŠ¡è¿›è¡Œåˆ†ç»„\n *\n * @param {Array<() => Promise<any>>} jobs\n * @param {number} [concurrent_count]\n * @returns\n */\nexport const chunkJobs = (jobs: Array<() => Promise<any>>, concurrent_count?: number) => {\n  const concurrentCount = concurrent_count || 6;\n  return jobs.reduce(\n    (queues, c, i) => {\n      if (i % concurrentCount > 0) {\n        queues[queues.length - 1].push(c);\n        return queues;\n      }\n\n      queues.push([c]);\n      return queues;\n    },\n    [[]] as Array<Array<() => Promise<any>>>,\n  );\n};\n\n/**\n * çº¿æ€§æ‰§è¡Œæ‰¹é‡ä»»åŠ¡åˆ†ç»„\n *\n * @param {Array<Array<() => Promise<any>>>} jobs\n * @param callbackFunc\n * @returns\n */\nexport const runSerialJobsQueue = async (\n  jobs: Array<Array<() => Promise<any>>>\n) => {\n  let p = 0;\n  const res: Array<any> = [];\n  while (p < jobs.length) {\n    const part_res = await Promise.all(jobs[p].map((fn) => fn().catch(() => false)));\n    res.push(...part_res);\n    ++p;\n  }\n  return res;\n};\n```\n\n\nä»¥ä¸Šä»£ç æœ‰å‡ ä¸ªæ³¨æ„ç‚¹ âš ï¸\n\n- ç”±äºéœ€è¦æ‰¹é‡æ‰§è¡Œåˆ†ç»„ä»»åŠ¡ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯`Prmosie.all`ã€‚ä½†æ˜¯ç”±äºä¸èƒ½ä¸­æ–­å…¶ä»–åˆ†ç»„çš„ä»»åŠ¡ï¼Œæ‰€ä»¥å½“å…¶ä¸­çš„ä¸€ä¸ªåˆ†ç»„ä»»åŠ¡æœ‰æŠ¥é”™ï¼Œéœ€è¦æ‰‹åŠ¨è¿›è¡Œ `catch` ä½ã€‚\n- æˆ‘ä»¬å¾ˆéš¾å¾—åˆ°æ¯ä¸€ä¸ªä»»åŠ¡çš„æ‰§è¡Œç»“æœï¼Œå¹¶å¯¹å…¶è¿›è¡Œç»“æœå¤„ç†\n- chunkJobs åœ¨ä½¿ç”¨ä¸Šéœ€è¦æå‰å‡†å¤‡å¥½ Promise æ•°ç»„\n- ä»£ç çš„æ˜“è¯»æ€§è¾ƒå·®\n\nå¦‚æœç”¨RxJså°±çœ‹èµ·æ¥ç®€çŸ­å¹¶ä¸”æ˜“è¯»æ€§è¿˜ä¸é”™ï¼Œä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š\n\n\n```typescript\n// æ‰¹é‡æ‰§è¡Œ\nasync function requestAll(reqs: any[], request: any, callback: (params: any, res: any) => void) {\n\tconst promises = reqs.map(param =>\n\t\trequest(param)\n\t\t\t.then((res: any) => {\n\t\t\t\tcallback(param, res)\n\t\t\t\treturn res\n\t\t\t})\n\t\t\t.catch((err: any) => {\n\t\t\t\tcallback(param, { error: err })\n\t\t\t}),\n\t)\n\treturn await Promise.all(promises)\n}\n\n// åˆ†ç»„\nexport const chunkJobs = (list: any[], request: any, callback: (params: any, res: any) => void, limit = 5) => {\n\treturn Rx.from(list).pipe(\n\t\tRxOp.bufferCount(limit), // å°† Observable æ‹†åˆ†ä¸º æŒ‡å®šæ•°é‡çš„ç»„\n\t\tRxOp.concatMap(reqs => Rx.from(requestAll(reqs, request, callback))), // æ‰¹é‡æ‰§è¡Œè¯·æ±‚\n\t).toPromise()\n}\n```\n\n- `RxOp.bufferCount` å¯ä»¥éå¸¸æ–¹ä¾¿çš„å°†æ‰¹é‡ä»»åŠ¡è¿›è¡Œåˆ†ç»„\n- `RxOp.concatMap` å¯ä»¥å°†æ¯ç»„è¯·æ±‚å‚æ•°ä¼ é€’ç»™ requestAll å‡½æ•°è¿›è¡Œæ‰¹é‡æ‰§è¡Œ\n- æˆ‘è¿™é‡Œå†™äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„callbackæ–¹æ³•ï¼Œä¸»è¦æ˜¯æƒ³åœ¨ä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­å¯¹æ¯ä¸€ä¸ªè¯·æ±‚çš„ç»“æœè¿›è¡Œæ”¶é›†å’Œå¤„ç†\n- å½“ç„¶ä¸ºäº†ä¸è®©æ‰¹é‡ä»»åŠ¡æŠ¥é”™å½±å“å…¶ä»–åˆ†ç»„çš„æ‰§è¡Œï¼Œè¿™é‡Œè¿›è¡Œäº† `catch`\n- ç”¨æˆ·åªéœ€è¦æŠŠè¯·æ±‚å‚æ•°æ•°ç»„å’Œè¯·æ±‚æ–¹æ³•ä¼ å…¥ï¼Œå°±èƒ½å¾ˆæ–¹ä¾¿çš„æ‰§è¡Œåˆ†ç»„ä»»åŠ¡\n\nå½“ç„¶ä¸Šè¿°ä»£ç è¿˜æ˜¯æœ‰ä¸€å®šçš„ä¼˜åŒ–ç©ºé—´ï¼Œæ¯”å¦‚ï¼š\n\n- é”™è¯¯æ”¶é›†å’Œå¤„ç†å¯ä»¥å°è¯•ç”¨`RxOp.catchError` æ“ä½œç¬¦è¿›è¡Œå¤„ç†\n\n\n  </details>\n\n\n<details>\n  <summary>åœºæ™¯äºŒï¼šé”™è¯¯æ—¥å¿—çš„æ”¶é›†</summary>\n\n\nåœ¨åˆ©ç”¨Nodeå­çº¿ç¨‹çš„é€šä¿¡èƒ½åŠ›ä¸­ï¼Œéœ€è¦ç”¨ä¸€ä¸ªå­çº¿ç¨‹Aå»è·‘ç¨‹åºBï¼Œç„¶ååœ¨å­çº¿ç¨‹Aä¸­æ”¶é›†ç¨‹åºBä¸­çš„æ‰€æœ‰è¾“å‡ºã€‚\n\n\n```typescript\nconst worker = childProcess.spawn(cli, args);\n// ç›‘å¬æ§åˆ¶å°æ—¥å¿—è¾“å‡º\nworker.stdout.on(\"data\", (message) => {\n  // æ„é€ æ¶ˆæ¯ä½“\n  const logLine: ILogLine = {\n    date: new Date().getTime(),\n    level: LogLevel.INFO,\n    message: message.toString(),\n  };\n  /** æ”¶é›†10æ¡åä¸ŠæŠ¥æ—¥å¿— */\n});\n\n// ç›‘å¬æ§åˆ¶å°é”™è¯¯æ—¥å¿—è¾“å‡º\nworker.stderr.on(\"data\", (message) => {\n  // æ„é€ æ¶ˆæ¯ä½“\n  const logLine: ILogLine = {\n    date: new Date().getTime(),\n    level: LogLevel.ERROR,\n    message: message.toString(),\n  };\n  /** ä¸ŠæŠ¥æ—¥å¿— */\n});\n\n// æ„å»ºç»“æŸ\nworker.on(\"exit\", () => {\n  /** æ”¶é›†æ‰€æœ‰æ—¥å¿— */\n});\n```\n\n- å­çº¿ç¨‹ `worker` ä¸­ä¼šæœ‰3 ä¸ªç›‘å¬å™¨ï¼Œç”±äºåˆ†å¸ƒåœ¨ä¸åŒçš„ç›‘å¬å™¨ï¼Œå¦‚æœæƒ³æ”¶é›†æ‰€æœ‰æ—¥å¿—çš„è¯ï¼Œéœ€è¦è‡ªå·±æ„å»ºä¸€ä¸ªé˜Ÿåˆ—\n- ä¸ºäº†å‡å°‘è¯·æ±‚æ¬¡æ•°ï¼Œæ—¥å¿—ä¼šåœ¨æ”¶é›†æŒ‡å®šæ¡æ•°åæ‰ä¼šä¸ŠæŠ¥ä¸€æ¬¡ï¼Œä½†æ˜¯ç”±äºæ˜¯åœ¨ä¸åŒçš„ç›‘å¬å™¨æ”¶é›†ï¼Œæ‰€ä»¥æ‰€æœ‰çš„å•æ¡æ—¥å¿—éƒ½éœ€è¦å…ˆ `push` åˆ°é˜Ÿåˆ—ä¸­\n- é˜Ÿåˆ—åœ¨æ»¡10æ¡ä¹‹åä¼šå–å‡ºè¿›è¡Œæ—¥å¿—çš„æ‰¹é‡ä¸ŠæŠ¥\n\nè¿™ç§éœ€æ±‚å°±å¾ˆæµå¼ï¼Œéå¸¸é€‚åˆç”¨RxJså»è¿›è¡Œæµçš„å¤„ç†ã€‚ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š\n\n\n```typescript\n// æ„å»ºè¿è¡Œè¿›ç¨‹\nconst worker = childProcess.spawn(cli, args);\n// ç›‘å¬æ§åˆ¶å°æ—¥å¿—è¾“å‡º\nworker.stdout.on(\"data\", (message) => {\n  console.log(message.toString());\n  // æ„é€ æ¶ˆæ¯ä½“\n  const logLine: ILogLine = {\n    date: new Date().getTime(),\n    level: LogLevel.INFO,\n    message: message.toString(),\n  };\n  /** æ”¶é›†/ä¸ŠæŠ¥æ—¥å¿— */\n  this.logClient.pushLog(logLine);\n});\n\n// ç›‘å¬æ§åˆ¶å°é”™è¯¯æ—¥å¿—è¾“å‡º\nworker.stderr.on(\"data\", (message) => {\n  console.error(message.toString());\n  // æ„é€ æ¶ˆæ¯ä½“\n  const logLine: ILogLine = {\n    date: new Date().getTime(),\n    level: LogLevel.ERROR,\n    message: message.toString(),\n  };\n  /** æ”¶é›†/ä¸ŠæŠ¥æ—¥å¿— */\n  this.logClient.pushLog(logLine);\n});\n\n// æ„å»ºç»“æŸ\nworker.on(\"exit\", () => {\n  this.logClient.complete();\n});\n```\n\n\n```typescript\nimport { ILog, ILogLine, ILogReportConfig } from \"../type/log\";\nimport { apis } from \"../api\";\nimport * as rx from \"rxjs\";\nimport * as rxOp from \"rxjs/operators\";\nimport { LogLevel } from \"../const\";\n\n/**\n * æ—¥å¿—ä¸ŠæŠ¥\n */\nexport class LogReportClient {\n  private readonly _config: ILogReportConfig;\n  private _queue: rx.Subject<ILogLine>;\n  private _fileBoxClient: FileBoxClient;\n  private _logs: ILogLine[] = [];\n\n  public constructor(config: ILogReportConfig) {\n    this._config = config;\n    this._queue = new rx.Subject<ILogLine>();\n    this._initSubscribe();\n  }\n\n  /**\n   * åˆå§‹åŒ–è®¢é˜…å™¨å¤„ç†\n   * @private\n   */\n  private _initSubscribe(): void {\n    this._queue\n      .pipe(\n        rxOp.bufferCount(this._config.limit),\n        rxOp.tap(async (value) => {\n\t\t\t\t\tthis._logs.push(...value);\n          // ä¸ŠæŠ¥æ—¥å¿—\n          await this._report(value);\n        }),\n      )\n      .subscribe({\n        complete: async () => {\n          // ä¿è¯æœ€åä¸€æ¬¡ä¸ŠæŠ¥æ˜¯æœ€åå‘çš„\n          setTimeout(() => {\n            // å‘é€isEndæ—¥å¿—\n            const endMessage: ILogLine = {\n              message: \"æ„å»ºç»“æŸ\",\n              date: new Date().getTime(),\n              level: LogLevel.INFO,\n            };\n            void this._report([endMessage], true);\n          }, 300);\n\n          // ä¸ŠæŠ¥åˆ°OSS\n          const buffer = new Buffer(JSON.stringify(this._logs));\n          await this.ossClient.uploadBuildLog(buffer);\n        },\n      });\n  }\n\n  /**\n   * æ”¶é›†æ—¥å¿—\n   * @param log\n   */\n  public pushLog(log: ILogLine): void {\n    this._queue.next(log);\n  }\n\n  /**\n   * æ„å»ºç»“æŸ\n   */\n  public complete(): void {\n    this._queue.complete();\n  }\n\n  /**\n   * æ—¥å¿—ä¸ŠæŠ¥\n   */\n  private async _report(logs: ILogLine[], isEnd?: boolean): Promise<void> {\n    const content: ILog = {\n      logs: logs,\n      isEnd: !!isEnd,\n    };\n    return apis.log\n      .report(content)\n      .catch((e) => {\n        console.error(\"æ—¥å¿—æ¨é€å¤±è´¥\", e);\n      });\n  }\n}\n```\n\n- ç”¨ `next` æ–¹æ³• è¿›è¡Œæ—¥å¿—çš„ `push`\n- `rxOp.bufferCount` ç”¨æ¥å µå¡æµç¨‹ï¼Œä¼šåœ¨æ—¥å¿—è¾¾åˆ°æŒ‡å®šæ¡æ•°åæ‰æ‰§è¡Œåç»­æµç¨‹\n- å†æ¬¡é€šè¿‡ `rxOp.tap` æ‹¿åˆ°åˆ†ç»„æ—¥å¿—è¿›è¡Œæ”¶é›†å’Œä¸ŠæŠ¥\n- æ—¥å¿—æ”¶é›†ç»“æŸåï¼Œå‘é€ç»“æŸæ—¥å¿—å¹¶æŠŠæ”¶é›†åˆ°çš„æ‰€æœ‰æ—¥å¿—ä¸Šä¼ åˆ°é˜¿é‡Œäº‘\n\n`Rxjs` å¸®æˆ‘ä»¬ç»´æŠ¤äº†ä¸ªé˜Ÿåˆ—å¹¶è¿›è¡Œäº†åˆ†ç»„ï¼Œæ ¸å¿ƒä»£ç é€»è¾‘éå¸¸æ¸…æ™°æ˜äº†ï¼\n\n\n\n  </details>\n\n\næ€»ç»“ï¼šç›®å‰æˆ‘å¯¹ `RxJs` çš„ä½¿ç”¨è¿˜åœ¨åˆçº§é˜¶æ®µï¼Œä¸€èˆ¬æœ‰ä»€ä¹ˆæµå¼è°ƒç”¨ï¼Œæˆ‘éƒ½ä¼šå…ˆé—®ä¸‹ Notion AI æ€ä¹ˆå†™ã€‚ç›®å‰è¿˜æ²¡äº†è§£å®Œä¸»è¦çš„ `RxJs` æ–¹æ³•ï¼Œç›¸ä¿¡åœ¨ç†Ÿæ‚‰äº†RxJsä¹‹åï¼Œæˆ‘çš„ä»£ç é£æ ¼å’Œä»£ç é€»è¾‘å°†ä¼šæ›´ä¸Šä¸€å±‚æ¥¼ï¼\n\n\n2 - ã€Œè½»æ¾ä¸€åˆ» ğŸ®ã€\n\n\nä»Šå¤©ä¸‹ç­å’ŒåŒäº‹ç©äº†ä¸€æŠŠã€æ‹‰æ–¯ç»´åŠ æ–¯ã€‘æ¡Œæ¸¸ï¼ŒèµŒç‹—ä¸Šçº¿çˆ½ç¿»å¤©ï¼Œèµ¢ä¸èµ¢æ²¡å…³ç³»ï¼Œæ¶å¿ƒé˜Ÿå‹æ‰æ˜¯æ­£é“çš„å…‰å“ˆå“ˆå“ˆå“ˆã€‚\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-12T16:14:00.000Z",
        "date": "2023-04-12",
        "type": "Post",
        "slug": "day-3",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "RxJs é’ˆä¸é”™ï½",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:37:00.000Z",
        "title": "Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬3ç¯‡ã€‘",
        "category": "éšç¬”",
        "tags": [
          "éšç¬”"
        ],
        "status": "Archived",
        "urlname": "0b7ef73a-c23e-4019-8139-a87b987968f3",
        "updated": "2023-08-26 15:37:00"
      },
      "body": "",
      "realName": "Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬3ç¯‡ã€‘",
      "relativePath": "/Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬3ç¯‡ã€‘.md"
    },
    {
      "id": "d1b83320-1450-4412-a436-9f1e21689cf6",
      "doc_id": "d1b83320-1450-4412-a436-9f1e21689cf6",
      "updated": 1693064280000,
      "body_original": "\n1 - ã€Œå­¦ä¹ /æ„Ÿæ‚Ÿ ğŸ¥•ã€\n\n\nä»Šå¤©æŠŠ`Elog v0.4.0`æ­£å¼ç‰ˆæœ¬å‘å¸ƒäº†ï¼ŒåŸºæœ¬è¾¾åˆ°äº†æˆ‘èƒ½æ‹¿å‡ºå»æ¨å¹¿çš„åœ°æ­¥ã€‚ä¸‹ä¸€æ­¥å°±æ˜¯è®©æ›´å¤šçš„ä½¿ç”¨è€…å‚ä¸è¿›æ¥ï¼Œè¿™æ ·æ‰èƒ½å‘ç°æ›´å¤šæ–°çš„éœ€æ±‚çš„`bugs`ï¼Œä¹Ÿç®—æ˜¯ä¸€ä¸ªæ–°çš„èµ·ç‚¹å§ã€‚\n\n\nåŒäº‹æ¨èæˆ‘å»V2EXä¸Šæ¨å¹¿æˆ‘çš„å¼€æºé¡¹ç›®ï¼Œç„¶è€Œæˆ‘ä»Šå¤©æ³¨å†Œåå‘ç°è¿™ä¸ªç½‘ç«™çœ‹èµ·æ¥æŒºå¹³æ·¡æ— å¥‡çš„ï¼Œæ²¡ä»€ä¹ˆUIï¼ŒåŸºæœ¬ä¸Šåªå…·æœ‰è®ºå›çš„åŸºæœ¬å±æ€§ï¼Œä¸€æ—¶é—´æ²¡ä½“éªŒåˆ°æœ‰ä»€ä¹ˆèƒ½ç•™ä½æˆ‘çš„åœ°æ–¹ã€‚å¸¦ç€è¿™ä¸ªç–‘é—®æˆ‘ç¿»äº†ç¿»çŸ¥ä¹ï¼Œè¤’è´¬ä¸ä¸€å§ã€‚\n\n\nå…¶ä¸­æœ‰ä¸€ä¸ªç‚¹è®©æˆ‘æ·±æ€äº†ä¸€ä¸‹ï¼Œé‚£å°±æ˜¯V2EXè¶³å¤Ÿç®€å•è¶³å¤Ÿç²—æš´ã€‚\n\n\nåœ¨å„ç§äº’è”ç½‘ä¸­æ–‡è®ºå›ç™¾èŠ±é½æ”¾çš„ä»Šå¤©ï¼Œæˆ‘å·²ç»ä¹ æƒ¯äº†è®ºå›ç½‘ç«™åº”è¯¥æ˜¯å¥½çœ‹ä¸”åŠŸèƒ½é½å…¨çš„ï¼Œä¾‹å¦‚CSDNã€åšå®¢å›­ã€ç®€ä¹¦ã€æ€å¦ã€æ˜é‡‘ç­‰ç­‰ã€‚\n\n\nä½†æˆ‘å¿½ç•¥äº†ä¸¤ä¸ªç‚¹ï¼Œé‚£å°±æ˜¯\n\n- æ—å­å¤§äº†ä»€ä¹ˆé¸Ÿéƒ½æœ‰\n- å•†ä¸šåŒ–é“è·¯çš„å‘å±•\n\nä¸Šé¢è¿™äº›è®ºå›çš„äººæ•°ä¼—å¤šï¼Œåå€’æ»‹ç”Ÿäº†å¾ˆå¤šä¹±è±¡\n\n- å¤§é‡çš„å¤åˆ¶è½¬è½½\n- æ— æ„ä¹‰çš„è¯é¢˜/å¼•æˆ˜/æ°´å†›\n\nå†åŠ ä¸Šå•†ä¸šåŒ–çš„é“è·¯ä¸Šå‡ºç°çš„ä¸€äº›\n\n- æ¨èç®—æ³•çš„çƒ­ç‚¹åŒ–/å•†ä¸šåŒ–\n- å„ç§å®¡æ ¸æœºåˆ¶çš„ä»‹å…¥\n- å„ç§æ”¶è´¹ä¼šå‘˜\n\nå¦‚æœæˆ‘æƒ³å‘ä¸€ç¯‡æ–‡ç« è®©æ›´å¤šçš„äººçœ‹åˆ°ï¼Œæˆ‘å°±å¾—å…ˆè¿‡ä¸€éå®¡æ ¸åˆ¶åº¦ï¼Œç„¶åæœ€å¥½æ˜¯èƒ½è¹­ä¸€äº›çƒ­ç‚¹æˆ–è€…èŠ±é’±ä¹°çƒ­åº¦ï¼Œæ‰èƒ½è®©æˆ‘çš„æ–‡ç« å…·æœ‰æ›´å¥½çš„æ›å…‰ã€‚\n\n\nåè§‚V2EXæ›´å¤šçš„æ˜¯è®ºå›çš„åŸºæœ¬å±æ€§ï¼Œæœ‰ç‚¹æ—©äº›å¹´ç™¾åº¦è´´å§çš„æ„Ÿè§‰äº†ã€‚å¤§å®¶éƒ½ç›¸å¯¹æ¯”è¾ƒå’Œå¹³çš„ç›¸å¤„ï¼Œä¹Ÿæ²¡æœ‰å¤ªå¤šçš„çº¦æŸåˆ¶åº¦ï¼Œå‘å®Œæ–‡ç« åå¤§å®¶éƒ½èƒ½ç¬¬ä¸€æ—¶é—´çœ‹åˆ°ã€‚å› ä¸ºäººç›¸å¯¹æ¯”è¾ƒå°‘ï¼Œæ‰€ä»¥æ„Ÿè§‰å…¶å®é™¤äº†UIï¼Œå…¶ä»–éƒ½è¿˜OK\n\n\nä¸è¿‡è¿™ä¹Ÿæ˜¯æˆ‘ç¬¬ä¸€å¤©ä½¿ç”¨V2EXï¼Œå…·ä½“æ›´å¤šçš„ä½¿ç”¨ä½“éªŒç­‰æˆ‘æ…¢æ…¢è§£é”å§ã€‚\n\n\n2 - ã€Œæ„Ÿæ©â¤ï¸ã€\n\n\nElog ç¾¤é‡Œä¸ºæ•°ä¸å¤šçš„å‡ ä¸ªä½¿ç”¨è€…ï¼Œç»™äº†æˆ‘å¾ˆå¤šåé¦ˆå’Œå»ºè®®ï¼ŒåŸºæœ¬ä¸Šéƒ½å®‰æ’ä¸Šäº†ï¼Œæ„Ÿè°¢ä»–ä»¬ã€‚\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-15T10:21:00.000Z",
        "date": "2023-04-17",
        "type": "Post",
        "slug": "day-6",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:38:00.000Z",
        "title": "Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬6ç¯‡ã€‘",
        "category": "éšç¬”",
        "tags": [
          "éšç¬”"
        ],
        "status": "Archived",
        "urlname": "d1b83320-1450-4412-a436-9f1e21689cf6",
        "updated": "2023-08-26 15:38:00"
      },
      "body": "",
      "realName": "Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬6ç¯‡ã€‘",
      "relativePath": "/Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬6ç¯‡ã€‘.md"
    },
    {
      "id": "5a79a465-3cd6-4cd0-be23-29de458313ce",
      "doc_id": "5a79a465-3cd6-4cd0-be23-29de458313ce",
      "updated": 1693063560000,
      "body_original": "\n# React ç†å¿µï¼šå¿«é€Ÿå“åº”\n\n\nä¸¤å¤§åˆ¶çº¦\n\n- CPU çš„ç“¶é¢ˆï¼šJS è„šæœ¬æ‰§è¡Œå’Œæµè§ˆå™¨å¸ƒå±€ã€ç»˜åˆ¶ä¸èƒ½åŒæ—¶æ‰§è¡Œã€‚\n- IO çš„ç“¶é¢ˆï¼šç½‘ç»œå»¶è¿Ÿå®¢è§‚å­˜åœ¨\n\nReact çš„è§£å†³åŠæ³•\n\n- å¯¹äº CPU ç“¶é¢ˆï¼Œæ˜¯éœ€è¦å®ç°æ—¶é—´åˆ‡ç‰‡ï¼Œè€Œæ—¶é—´åˆ‡ç‰‡çš„å…³é”®æ˜¯ï¼šå°†åŒæ­¥çš„æ›´æ–°å˜ä¸ºå¯ä¸­æ–­çš„å¼‚æ­¥æ›´æ–°ã€‚\n- å¯¹äº IO ç“¶é¢ˆï¼Œå°†äººæœºäº¤äº’ç ”ç©¶çš„ç»“æœæ•´åˆåˆ°çœŸå®çš„ UI ä¸­ã€‚React å†…éƒ¨å®ç°äº† Suspense åŠŸèƒ½åŠé…å¥—çš„ hookâ€”â€”useDeferredValueï¼ŒåŒæ ·éœ€è¦å°†åŒæ­¥çš„æ›´æ–°å˜ä¸ºå¯ä¸­æ–­çš„å¼‚æ­¥æ›´æ–°\n\n# è€çš„ React15 æ¶æ„\n\n\nReact15 æ¶æ„å¯ä»¥åˆ†ä¸ºä¸¤å±‚ï¼š\n\n- Reconcilerï¼ˆåè°ƒå™¨ï¼‰â€”â€” è´Ÿè´£æ‰¾å‡ºå˜åŒ–çš„ç»„ä»¶\n- Rendererï¼ˆæ¸²æŸ“å™¨ï¼‰â€”â€” è´Ÿè´£å°†å˜åŒ–çš„ç»„ä»¶æ¸²æŸ“åˆ°é¡µé¢ä¸Š\n\n## Reconcilerï¼ˆåè°ƒå™¨ï¼‰\n\n\nåœ¨ React ä¸­å¯ä»¥é€šè¿‡ this.setStateã€this.forceUpdateã€ReactDOM.render ç­‰ API è§¦å‘æ›´æ–°ã€‚ æ¯å½“æœ‰æ›´æ–°å‘ç”Ÿæ—¶ï¼ŒReconciler ä¼šåšå¦‚ä¸‹å·¥ä½œï¼š\n\n1. è°ƒç”¨å‡½æ•°ç»„ä»¶ã€æˆ– class ç»„ä»¶çš„ render æ–¹æ³•ï¼Œå°†è¿”å›çš„ JSX è½¬åŒ–ä¸ºè™šæ‹Ÿ DOM\n2. å°†è™šæ‹Ÿ DOM å’Œä¸Šæ¬¡æ›´æ–°æ—¶çš„è™šæ‹Ÿ DOM å¯¹æ¯”\n3. é€šè¿‡å¯¹æ¯”æ‰¾å‡ºæœ¬æ¬¡æ›´æ–°ä¸­å˜åŒ–çš„è™šæ‹Ÿ DOM\n4. é€šçŸ¥ Renderer å°†å˜åŒ–çš„è™šæ‹Ÿ DOM æ¸²æŸ“åˆ°é¡µé¢ä¸Š\n\n## Rendererï¼ˆæ¸²æŸ“å™¨ï¼‰\n\n\nç”±äº React æ”¯æŒè·¨å¹³å°ï¼Œæ‰€ä»¥ä¸åŒå¹³å°æœ‰ä¸åŒçš„ Rendererã€‚æˆ‘ä»¬å‰ç«¯æœ€ç†Ÿæ‚‰çš„æ˜¯è´Ÿè´£åœ¨æµè§ˆå™¨ç¯å¢ƒæ¸²æŸ“çš„ Renderer â€”â€” ReactDOMã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ï¼š\n\n- ReactNative (opens new window)æ¸²æŸ“å™¨ï¼Œæ¸²æŸ“ App åŸç”Ÿç»„ä»¶\n- ReactTest (opens new window)æ¸²æŸ“å™¨ï¼Œæ¸²æŸ“å‡ºçº¯ Js å¯¹è±¡ç”¨äºæµ‹è¯•\n- ReactArt (opens new window)æ¸²æŸ“å™¨ï¼Œæ¸²æŸ“åˆ° Canvas, SVG æˆ– VML (IE8)\n\nåœ¨æ¯æ¬¡æ›´æ–°å‘ç”Ÿæ—¶ï¼ŒRenderer æ¥åˆ° Reconciler é€šçŸ¥ï¼Œå°†å˜åŒ–çš„ç»„ä»¶æ¸²æŸ“åœ¨å½“å‰å®¿ä¸»ç¯å¢ƒã€‚\n\n\n## ç¼ºç‚¹\n\n\nåœ¨ Reconciler ä¸­ï¼Œmount çš„ç»„ä»¶ä¼šè°ƒç”¨ mountComponentï¼Œupdate çš„ç»„ä»¶ä¼šè°ƒç”¨ updateComponentã€‚è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½ä¼šé€’å½’æ›´æ–°å­ç»„ä»¶ã€‚ç”±äºé€’å½’æ‰§è¡Œï¼Œæ‰€ä»¥æ›´æ–°ä¸€æ—¦å¼€å§‹ï¼Œä¸­é€”å°±æ— æ³•ä¸­æ–­ã€‚å½“å±‚çº§å¾ˆæ·±æ—¶ï¼Œé€’å½’æ›´æ–°æ—¶é—´è¶…è¿‡äº† 16msï¼Œç”¨æˆ·äº¤äº’å°±ä¼šå¡é¡¿ã€‚åŸºäºä»¥ä¸ŠåŸå› ï¼ŒReact å›¢é˜Ÿå†³å®šé‡å†™æ¶æ„ã€‚\n\n\n# æ–°çš„ React16 æ¶æ„\n\n\nReact16 æ¶æ„å¯ä»¥åˆ†ä¸ºä¸‰å±‚ï¼š\n\n- Schedulerï¼ˆè°ƒåº¦å™¨ï¼‰â€”â€” è°ƒåº¦ä»»åŠ¡çš„ä¼˜å…ˆçº§ï¼Œé«˜ä¼˜ä»»åŠ¡ä¼˜å…ˆè¿›å…¥ Reconciler\n- Reconcilerï¼ˆåè°ƒå™¨ï¼‰â€”â€” è´Ÿè´£æ‰¾å‡ºå˜åŒ–çš„ç»„ä»¶\n- Rendererï¼ˆæ¸²æŸ“å™¨ï¼‰â€”â€” è´Ÿè´£å°†å˜åŒ–çš„ç»„ä»¶æ¸²æŸ“åˆ°é¡µé¢ä¸Š\n\nå¯ä»¥çœ‹åˆ°ï¼Œç›¸è¾ƒäº React15ï¼ŒReact16 ä¸­æ–°å¢äº† Schedulerï¼ˆè°ƒåº¦å™¨ï¼‰ã€‚\n\n\n## Schedulerï¼ˆè°ƒåº¦å™¨ï¼‰\n\n\næ—¢ç„¶æˆ‘ä»¬ä»¥æµè§ˆå™¨æ˜¯å¦æœ‰å‰©ä½™æ—¶é—´ä½œä¸ºä»»åŠ¡ä¸­æ–­çš„æ ‡å‡†ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦ä¸€ç§æœºåˆ¶ï¼Œå½“æµè§ˆå™¨æœ‰å‰©ä½™æ—¶é—´æ—¶é€šçŸ¥æˆ‘ä»¬ã€‚ å…¶å®éƒ¨åˆ†æµè§ˆå™¨å·²ç»å®ç°äº†è¿™ä¸ª APIï¼Œè¿™å°±æ˜¯ requestIdleCallbackã€‚ä½†æ˜¯ç”±äºä»¥ä¸‹å› ç´ ï¼ŒReact æ”¾å¼ƒä½¿ç”¨ï¼š\n\n- æµè§ˆå™¨å…¼å®¹æ€§\n- è§¦å‘é¢‘ç‡ä¸ç¨³å®šï¼Œå—å¾ˆå¤šå› ç´ å½±å“ã€‚æ¯”å¦‚å½“æˆ‘ä»¬çš„æµè§ˆå™¨åˆ‡æ¢ tab åï¼Œä¹‹å‰ tab æ³¨å†Œçš„ requestIdleCallback è§¦å‘çš„é¢‘ç‡ä¼šå˜å¾—å¾ˆä½\n\nåŸºäºä»¥ä¸ŠåŸå› ï¼ŒReact å®ç°äº†åŠŸèƒ½æ›´å®Œå¤‡çš„ requestIdleCallbackpolyfillï¼Œè¿™å°±æ˜¯ Schedulerã€‚é™¤äº†åœ¨ç©ºé—²æ—¶è§¦å‘å›è°ƒçš„åŠŸèƒ½å¤–ï¼ŒScheduler è¿˜æä¾›äº†å¤šç§è°ƒåº¦ä¼˜å…ˆçº§ä¾›ä»»åŠ¡è®¾ç½®ã€‚\n\n\n## Reconcilerï¼ˆåè°ƒå™¨ï¼‰\n\n\nåœ¨ React15 ä¸­ Reconciler æ˜¯é€’å½’å¤„ç†è™šæ‹Ÿ DOM çš„ã€‚è®©æˆ‘ä»¬çœ‹çœ‹ React16 çš„ Reconcilerã€‚\n\n\n```javascript\n/** @noinline */\nfunction workLoopConcurrent() {\n  // Perform work until Scheduler asks us to yield\n  while (workInProgress !== null && !shouldYield()) {\n    workInProgress = performUnitOfWork(workInProgress);\n  }\n}\n```\n\n\næˆ‘ä»¬å¯ä»¥çœ‹è§ï¼Œæ›´æ–°å·¥ä½œä»é€’å½’å˜æˆäº†å¯ä»¥ä¸­æ–­çš„å¾ªç¯è¿‡ç¨‹ã€‚æ¯æ¬¡å¾ªç¯éƒ½ä¼šè°ƒç”¨ shouldYield åˆ¤æ–­å½“å‰æ˜¯å¦æœ‰å‰©ä½™æ—¶é—´ã€‚ é‚£ä¹ˆ React16 æ˜¯å¦‚ä½•è§£å†³ä¸­æ–­æ›´æ–°æ—¶ DOM æ¸²æŸ“ä¸å®Œå…¨çš„é—®é¢˜å‘¢ï¼Ÿ åœ¨ React16 ä¸­ï¼ŒReconciler ä¸ Renderer ä¸å†æ˜¯äº¤æ›¿å·¥ä½œã€‚å½“ Scheduler å°†ä»»åŠ¡äº¤ç»™ Reconciler åï¼ŒReconciler ä¼šä¸ºå˜åŒ–çš„è™šæ‹Ÿ DOM æ‰“ä¸Šä»£è¡¨**å¢/åˆ /æ›´æ–°**çš„æ ‡è®°ã€‚ æ•´ä¸ª Scheduler ä¸ Reconciler çš„å·¥ä½œéƒ½åœ¨å†…å­˜ä¸­è¿›è¡Œã€‚åªæœ‰å½“æ‰€æœ‰ç»„ä»¶éƒ½å®Œæˆ Reconciler çš„å·¥ä½œï¼Œæ‰ä¼šç»Ÿä¸€äº¤ç»™ Rendererã€‚\n\n\n## Rendererï¼ˆæ¸²æŸ“å™¨ï¼‰\n\n\nRenderer æ ¹æ® Reconciler ä¸ºè™šæ‹Ÿ DOM æ‰“çš„æ ‡è®°ï¼Œ\n\n\n**åŒæ­¥**\n\n\næ‰§è¡Œå¯¹åº”çš„ DOM æ“ä½œã€‚ æ›´æ–°æµç¨‹ï¼š\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fhq3GdyJncpUkuH1-oekuXnLv6ip.png)\n\n\n# Fiber æ¶æ„\n\n\nFiber åŒ…å«ä¸‰å±‚å«ä¹‰ï¼š\n\n1. ä½œä¸ºæ¶æ„æ¥è¯´ï¼Œä¹‹å‰ React15 çš„ Reconciler é‡‡ç”¨é€’å½’çš„æ–¹å¼æ‰§è¡Œï¼Œæ•°æ®ä¿å­˜åœ¨é€’å½’è°ƒç”¨æ ˆä¸­ï¼Œæ‰€ä»¥è¢«ç§°ä¸º stack Reconcilerã€‚React16 çš„ Reconciler åŸºäº Fiber èŠ‚ç‚¹å®ç°ï¼Œè¢«ç§°ä¸º Fiber Reconcilerã€‚\n2. ä½œä¸ºé™æ€çš„æ•°æ®ç»“æ„æ¥è¯´ï¼Œæ¯ä¸ª Fiber èŠ‚ç‚¹å¯¹åº”ä¸€ä¸ª React elementï¼Œä¿å­˜äº†è¯¥ç»„ä»¶çš„ç±»å‹ï¼ˆå‡½æ•°ç»„ä»¶/ç±»ç»„ä»¶/åŸç”Ÿç»„ä»¶â€¦ï¼‰ã€å¯¹åº”çš„ DOM èŠ‚ç‚¹ç­‰ä¿¡æ¯ã€‚\n3. ä½œä¸ºåŠ¨æ€çš„å·¥ä½œå•å…ƒæ¥è¯´ï¼Œæ¯ä¸ª Fiber èŠ‚ç‚¹ä¿å­˜äº†æœ¬æ¬¡æ›´æ–°ä¸­è¯¥ç»„ä»¶æ”¹å˜çš„çŠ¶æ€ã€è¦æ‰§è¡Œçš„å·¥ä½œï¼ˆéœ€è¦è¢«åˆ é™¤/è¢«æ’å…¥é¡µé¢ä¸­/è¢«æ›´æ–°â€¦ï¼‰ã€‚\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FqMQIsi5n6zJ52TFFdK-0X-e-tsX.png)\n\n\n## Fiber ç»“æ„\n\n\n```javascript\nfunction FiberNode(\n  tag: WorkTag,\n  pendingProps: mixed,\n  key: null | string,\n  mode: TypeOfMode,\n) {\n  // ä½œä¸ºé™æ€æ•°æ®ç»“æ„çš„å±æ€§\n  this.tag = tag;\n  this.key = key;\n  // åœ¨å‡½æ•°å¼ç»„ä»¶è¢«React.memoåŒ…è£¹æ—¶,elementTypeå’Œtypeä¸åŒ\n  // å¯¹äºå‡½æ•°å¼ç»„ä»¶,typeæ˜¯å‡½æ•°æœ¬èº«,å¯¹äºclassç»„ä»¶,typeæ˜¯class\n  this.elementType = null;\n  this.type = null;\n  // çœŸå®domèŠ‚ç‚¹\n  this.stateNode = null;\n\n  // ç”¨äºè¿æ¥å…¶ä»–FiberèŠ‚ç‚¹å½¢æˆFiberæ ‘\n  this.return = null;\n  this.child = null;\n  this.sibling = null;\n  this.index = 0;\n\n  this.ref = null;\n\n  // ä½œä¸ºåŠ¨æ€çš„å·¥ä½œå•å…ƒçš„å±æ€§\n  this.pendingProps = pendingProps;\n  this.memoizedProps = null;\n  this.updateQueue = null;\n  this.memoizedState = null;\n  this.dependencies = null;\n\n  this.mode = mode;\n\n  this.effectTag = NoEffect;\n  this.nextEffect = null;\n\n  this.firstEffect = null;\n  this.lastEffect = null;\n\n  // è°ƒåº¦ä¼˜å…ˆçº§ç›¸å…³\n  this.lanes = NoLanes;\n  this.childLanes = NoLanes;\n\n  // æŒ‡å‘è¯¥fiberåœ¨å¦ä¸€æ¬¡æ›´æ–°æ—¶å¯¹åº”çš„fiber\n  this.alternate = null;\n}\n```\n\n\n## åŒç¼“å­˜\n\n\nå½“æˆ‘ä»¬ç”¨ canvas ç»˜åˆ¶åŠ¨ç”»ï¼Œæ¯ä¸€å¸§ç»˜åˆ¶å‰éƒ½ä¼šè°ƒç”¨ ctx.clearRect æ¸…é™¤ä¸Šä¸€å¸§çš„ç”»é¢ã€‚ å¦‚æœå½“å‰å¸§ç”»é¢è®¡ç®—é‡æ¯”è¾ƒå¤§ï¼Œå¯¼è‡´æ¸…é™¤ä¸Šä¸€å¸§ç”»é¢åˆ°ç»˜åˆ¶å½“å‰å¸§ç”»é¢ä¹‹é—´æœ‰è¾ƒé•¿é—´éš™ï¼Œå°±ä¼šå‡ºç°ç™½å±ã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å†…å­˜ä¸­ç»˜åˆ¶å½“å‰å¸§åŠ¨ç”»ï¼Œç»˜åˆ¶å®Œæ¯•åç›´æ¥ç”¨å½“å‰å¸§æ›¿æ¢ä¸Šä¸€å¸§ç”»é¢ï¼Œç”±äºçœå»äº†ä¸¤å¸§æ›¿æ¢é—´çš„è®¡ç®—æ—¶é—´ï¼Œä¸ä¼šå‡ºç°ä»ç™½å±åˆ°å‡ºç°ç”»é¢çš„é—ªçƒæƒ…å†µã€‚ è¿™ç§åœ¨å†…å­˜ä¸­æ„å»ºå¹¶ç›´æ¥æ›¿æ¢çš„æŠ€æœ¯å«åš**åŒç¼“å­˜**ã€‚\n\n\nReact ä½¿ç”¨â€œåŒç¼“å­˜â€æ¥å®Œæˆ Fiber æ ‘çš„æ„å»ºä¸æ›¿æ¢â€”â€”å¯¹åº”ç€ DOM æ ‘çš„åˆ›å»ºä¸æ›´æ–°ã€‚\n\n\n## åŒç¼“å­˜ Fiber æ ‘\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FiKZ0eyEtPEFixJB4w8bISFMMeed.png)\n\n\nåœ¨ React ä¸­æœ€å¤šä¼šåŒæ—¶å­˜åœ¨ä¸¤æ£µ Fiber æ ‘ã€‚å½“å‰å±å¹•ä¸Šæ˜¾ç¤ºå†…å®¹å¯¹åº”çš„ Fiber æ ‘ç§°ä¸º current Fiber æ ‘ï¼Œæ­£åœ¨å†…å­˜ä¸­æ„å»ºçš„ Fiber æ ‘ç§°ä¸º workInProgress Fiber æ ‘ã€‚ current Fiber æ ‘ä¸­çš„ Fiber èŠ‚ç‚¹è¢«ç§°ä¸º current fiberï¼ŒworkInProgress Fiber æ ‘ä¸­çš„ Fiber èŠ‚ç‚¹è¢«ç§°ä¸º workInProgress fiberï¼Œä»–ä»¬é€šè¿‡ alternate å±æ€§è¿æ¥ã€‚\n\n\n```javascript\ncurrentFiber.alternate === workInProgressFiber;\nworkInProgressFiber.alternate === currentFiber;\n```\n\n\nReact åº”ç”¨çš„æ ¹èŠ‚ç‚¹é€šè¿‡ä½¿ current æŒ‡é’ˆåœ¨ä¸åŒ Fiber æ ‘çš„ rootFiber é—´åˆ‡æ¢æ¥å®Œæˆ current Fiber æ ‘æŒ‡å‘çš„åˆ‡æ¢ã€‚\n\n\nå³å½“ workInProgress Fiber æ ‘æ„å»ºå®Œæˆäº¤ç»™ Renderer æ¸²æŸ“åœ¨é¡µé¢ä¸Šåï¼Œåº”ç”¨æ ¹èŠ‚ç‚¹çš„ current æŒ‡é’ˆæŒ‡å‘ workInProgress Fiber æ ‘ï¼Œæ­¤æ—¶ workInProgress Fiber æ ‘å°±å˜ä¸º current Fiber æ ‘ã€‚\n\n\næ¯æ¬¡çŠ¶æ€æ›´æ–°éƒ½ä¼šäº§ç”Ÿæ–°çš„ workInProgress Fiber æ ‘ï¼Œé€šè¿‡ current ä¸ workInProgress çš„æ›¿æ¢ï¼Œå®Œæˆ DOM æ›´æ–°ã€‚\n\n\n## Mount æ—¶\n\n\n```javascript\nfunction App() {\n  const [num, add] = useState(0);\n  return (\n    <p onClick={() => add(num + 1)}>{num}</p>\n  )\n}\n\nReactDOM.render(<App/>, document.getElementById('root'));\n```\n\n1. é¦–æ¬¡æ‰§è¡Œ ReactDOM.render ä¼šåˆ›å»º fiberRootNodeï¼ˆæºç ä¸­å« fiberRootï¼‰å’Œ rootFiberã€‚å…¶ä¸­ fiberRootNode æ˜¯æ•´ä¸ªåº”ç”¨çš„æ ¹èŠ‚ç‚¹ï¼ŒrootFiber æ˜¯\n\n\tæ‰€åœ¨ç»„ä»¶æ ‘çš„æ ¹èŠ‚ç‚¹ã€‚\n\n\nä¹‹æ‰€ä»¥è¦åŒºåˆ† fiberRootNode ä¸ rootFiberï¼Œæ˜¯å› ä¸ºåœ¨åº”ç”¨ä¸­æˆ‘ä»¬å¯ä»¥å¤šæ¬¡è°ƒç”¨ ReactDOM.render æ¸²æŸ“ä¸åŒçš„ç»„ä»¶æ ‘ï¼Œä»–ä»¬ä¼šæ‹¥æœ‰ä¸åŒçš„ rootFiberã€‚ä½†æ˜¯æ•´ä¸ªåº”ç”¨çš„æ ¹èŠ‚ç‚¹åªæœ‰ä¸€ä¸ªï¼Œé‚£å°±æ˜¯ fiberRootNodeã€‚\n\n\nfiberRootNode çš„ current ä¼šæŒ‡å‘å½“å‰é¡µé¢ä¸Šå·²æ¸²æŸ“å†…å®¹å¯¹åº” Fiber æ ‘ï¼Œå³ current Fiber æ ‘ã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fo6z4lTvcsAJzL6EewXlzWt4EhZ8.png)\n\n\n```javascript\nfiberRootNode.current = rootFiber;\n```\n\n\nç”±äºæ˜¯é¦–å±æ¸²æŸ“ï¼Œé¡µé¢ä¸­è¿˜æ²¡æœ‰æŒ‚è½½ä»»ä½• DOMï¼Œæ‰€ä»¥ fiberRootNode.current æŒ‡å‘çš„ rootFiber æ²¡æœ‰ä»»ä½•å­ Fiber èŠ‚ç‚¹ï¼ˆå³ current Fiber æ ‘ä¸ºç©ºï¼‰ã€‚\n\n1. æ¥ä¸‹æ¥è¿›å…¥ render é˜¶æ®µï¼Œæ ¹æ®ç»„ä»¶è¿”å›çš„ JSX åœ¨å†…å­˜ä¸­ä¾æ¬¡åˆ›å»º Fiber èŠ‚ç‚¹å¹¶è¿æ¥åœ¨ä¸€èµ·æ„å»º Fiber æ ‘ï¼Œè¢«ç§°ä¸º workInProgress Fiber æ ‘ã€‚ï¼ˆä¸‹å›¾ä¸­å³ä¾§ä¸ºå†…å­˜ä¸­æ„å»ºçš„æ ‘ï¼Œå·¦ä¾§ä¸ºé¡µé¢æ˜¾ç¤ºçš„æ ‘ï¼‰\n\nåœ¨æ„å»º workInProgress Fiber æ ‘æ—¶ä¼šå°è¯•å¤ç”¨ current Fiber æ ‘ä¸­å·²æœ‰çš„ Fiber èŠ‚ç‚¹å†…çš„å±æ€§ï¼Œåœ¨é¦–å±æ¸²æŸ“æ—¶åªæœ‰ rootFiber å­˜åœ¨å¯¹åº”çš„ current fiberï¼ˆå³ rootFiber.alternateï¼‰ã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fkkpy_jFMhTAlAUFDiScPn8qbA4X.png)\n\n1. å›¾ä¸­å³ä¾§å·²æ„å»ºå®Œçš„ workInProgress Fiber æ ‘åœ¨ commit é˜¶æ®µæ¸²æŸ“åˆ°é¡µé¢ã€‚\n\næ­¤æ—¶ DOM æ›´æ–°ä¸ºå³ä¾§æ ‘å¯¹åº”çš„æ ·å­ã€‚fiberRootNode çš„ current æŒ‡é’ˆæŒ‡å‘ workInProgress Fiber æ ‘ä½¿å…¶å˜ä¸º current Fiber æ ‘ã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FnfUByoa0rQqp2jhk1wWqMgtFuq1.png)\n\n\n## Update æ—¶\n\n1. æ¥ä¸‹æ¥æˆ‘ä»¬ç‚¹å‡» p èŠ‚ç‚¹è§¦å‘çŠ¶æ€æ”¹å˜ï¼Œè¿™ä¼šå¼€å¯ä¸€æ¬¡æ–°çš„ render é˜¶æ®µå¹¶æ„å»ºä¸€æ£µæ–°çš„ workInProgress Fiber æ ‘ã€‚\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FlF0VfxFlK7fuFvkoc6IQXGxiXYH.png)\n\n\nå’Œ mount æ—¶ä¸€æ ·ï¼ŒworkInProgress fiber çš„åˆ›å»ºå¯ä»¥å¤ç”¨ current Fiber æ ‘å¯¹åº”çš„èŠ‚ç‚¹æ•°æ®ã€‚è¿™ä¸ªå†³å®šæ˜¯å¦å¤ç”¨çš„è¿‡ç¨‹å°±æ˜¯ Diff ç®—æ³•ã€‚\n\n1. workInProgress Fiber æ ‘åœ¨ render é˜¶æ®µå®Œæˆæ„å»ºåè¿›å…¥ commit é˜¶æ®µæ¸²æŸ“åˆ°é¡µé¢ä¸Šã€‚æ¸²æŸ“å®Œæ¯•åï¼ŒworkInProgress Fiber æ ‘å˜ä¸º current Fiber æ ‘ã€‚\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FruNGLRBbr39ui2nZXe96ZHcTnC0.png)\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2021-12-15",
        "type": "Post",
        "slug": "react",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:26:00.000Z",
        "title": "ç¬¬ä¸€ç«  Reactç†å¿µ",
        "category": "å­¦ä¹ ç¬”è®°",
        "tags": [
          "è‡ªé¡¶å‘ä¸‹å­¦ä¹ Reactæºç ",
          "React"
        ],
        "status": "Draft",
        "urlname": "5a79a465-3cd6-4cd0-be23-29de458313ce",
        "updated": "2023-08-26 15:26:00"
      },
      "body": "",
      "realName": "ç¬¬ä¸€ç«  Reactç†å¿µ",
      "relativePath": "/ç¬¬ä¸€ç«  Reactç†å¿µ.md"
    },
    {
      "id": "43bfb7df-683e-4e53-a9a9-dfe9ab6e67ba",
      "doc_id": "43bfb7df-683e-4e53-a9a9-dfe9ab6e67ba",
      "updated": 1693063560000,
      "body_original": "\n# React ç›®å½•ç»“æ„\n\n\n## é¡¶å±‚ç›®å½•\n\n\né™¤å»é…ç½®æ–‡ä»¶å’Œéšè—æ–‡ä»¶å¤¹ï¼Œæ ¹ç›®å½•çš„æ–‡ä»¶å¤¹åŒ…æ‹¬ä¸‰ä¸ªï¼š\n\n\n```typescript\næ ¹ç›®å½•\nâ”œâ”€â”€ fixtures        # åŒ…å«ä¸€äº›ç»™è´¡çŒ®è€…å‡†å¤‡çš„å°å‹ React æµ‹è¯•é¡¹ç›®\nâ”œâ”€â”€ packages        # åŒ…å«å…ƒæ•°æ®ï¼ˆæ¯”å¦‚ package.jsonï¼‰å’Œ React ä»“åº“ä¸­æ‰€æœ‰ package çš„æºç ï¼ˆå­ç›®å½• srcï¼‰\nâ”œâ”€â”€ scripts         # å„ç§å·¥å…·é“¾çš„è„šæœ¬ï¼Œæ¯”å¦‚gitã€jestã€eslintç­‰\n```\n\n\n## packages ç›®å½•\n\n\n### react æ–‡ä»¶å¤¹\n\n\nReact çš„æ ¸å¿ƒï¼ŒåŒ…å«æ‰€æœ‰å…¨å±€ React APIï¼Œå¦‚ï¼š\n\n- React.createElement\n- React.Component\n- React.Children\n\nè¿™äº› API æ˜¯å…¨å¹³å°é€šç”¨çš„ï¼Œå®ƒä¸åŒ…å« ReactDOMã€ReactNative ç­‰å¹³å°ç‰¹å®šçš„ä»£ç ã€‚åœ¨ NPM ä¸Šä½œä¸ºå•ç‹¬çš„ä¸€ä¸ªåŒ…å‘å¸ƒã€‚\n\n\n### scheduler æ–‡ä»¶å¤¹\n\n\nSchedulerï¼ˆè°ƒåº¦å™¨ï¼‰çš„å®ç°ã€‚\n\n\n### shared æ–‡ä»¶å¤¹\n\n\næºç ä¸­å…¶ä»–æ¨¡å—å…¬ç”¨çš„æ–¹æ³•å’Œå…¨å±€å˜é‡ï¼Œæ¯”å¦‚åœ¨ shared/ReactSymbols.js ä¸­ä¿å­˜ React ä¸åŒç»„ä»¶ç±»å‹çš„å®šä¹‰ã€‚\n\n\n```typescript\n// ...\nexport let REACT_ELEMENT_TYPE = 0xeac7;\nexport let REACT_PORTAL_TYPE = 0xeaca;\nexport let REACT_FRAGMENT_TYPE = 0xeacb;\n// ...\n```\n\n\n### Renderer ç›¸å…³çš„æ–‡ä»¶å¤¹\n\n\nåŒ…å«ä¸åŒå¹³å°çš„æ¸²æŸ“å™¨çš„å®ç°\n\n\n```typescript\n- react-art\n- react-dom                 # æ³¨æ„è¿™åŒæ—¶æ˜¯DOMå’ŒSSRï¼ˆæœåŠ¡ç«¯æ¸²æŸ“ï¼‰çš„å…¥å£\n- react-native-renderer\n- react-noop-renderer       # ç”¨äºdebug fiberï¼ˆåé¢ä¼šä»‹ç»fiberï¼‰\n- react-test-renderer\n```\n\n\n### è¯•éªŒæ€§åŒ…çš„æ–‡ä»¶å¤¹\n\n\nReact å°†è‡ªå·±æµç¨‹ä¸­çš„ä¸€éƒ¨åˆ†æŠ½ç¦»å‡ºæ¥ï¼Œå½¢æˆå¯ä»¥ç‹¬ç«‹ä½¿ç”¨çš„åŒ…ï¼Œç”±äºä»–ä»¬æ˜¯è¯•éªŒæ€§è´¨çš„ï¼Œæ‰€ä»¥ä¸è¢«å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ã€‚åŒ…æ‹¬å¦‚ä¸‹æ–‡ä»¶å¤¹ï¼š\n\n\n```typescript\n- react-server        # åˆ›å»ºè‡ªå®šä¹‰SSRæµ\n- react-client        # åˆ›å»ºè‡ªå®šä¹‰çš„æµ\n- react-fetch         # ç”¨äºæ•°æ®è¯·æ±‚\n- react-interactions  # ç”¨äºæµ‹è¯•äº¤äº’ç›¸å…³çš„å†…éƒ¨ç‰¹æ€§ï¼Œæ¯”å¦‚Reactçš„äº‹ä»¶æ¨¡å‹\n- react-reconciler    # Reconcilerçš„å®ç°ï¼Œä½ å¯ä»¥ç”¨ä»–æ„å»ºè‡ªå·±çš„Renderer\n```\n\n\n### è¾…åŠ©åŒ…çš„æ–‡ä»¶å¤¹\n\n\nReact å°†ä¸€äº›è¾…åŠ©åŠŸèƒ½å½¢æˆå•ç‹¬çš„åŒ…ã€‚åŒ…æ‹¬å¦‚ä¸‹æ–‡ä»¶å¤¹ï¼š\n\n\n```typescript\n- react-is       # ç”¨äºæµ‹è¯•ç»„ä»¶æ˜¯å¦æ˜¯æŸç±»å‹\n- react-client   # åˆ›å»ºè‡ªå®šä¹‰çš„æµ\n- react-fetch    # ç”¨äºæ•°æ®è¯·æ±‚\n- react-refresh  # â€œçƒ­é‡è½½â€çš„Reactå®˜æ–¹å®ç°\n```\n\n\n### react-reconciler æ–‡ä»¶å¤¹\n\n\næˆ‘ä»¬éœ€è¦é‡ç‚¹å…³æ³¨ react-reconcilerï¼Œè™½ç„¶ä»–æ˜¯ä¸€ä¸ªå®éªŒæ€§çš„åŒ…ï¼Œå†…éƒ¨çš„å¾ˆå¤šåŠŸèƒ½åœ¨æ­£å¼ç‰ˆæœ¬ä¸­è¿˜æœªå¼€æ”¾ã€‚ä½†æ˜¯ä»–ä¸€è¾¹å¯¹æ¥ Schedulerï¼Œä¸€è¾¹å¯¹æ¥ä¸åŒå¹³å°çš„ Rendererï¼Œæ„æˆäº†æ•´ä¸ª React16 çš„æ¶æ„ä½“ç³»ã€‚\n\n\n# æ·±å…¥ç†è§£ JSX\n\n\n## React.CreateElement\n\n\nJSX åœ¨ç¼–è¯‘æ—¶ä¼šè¢« Babel ç¼–è¯‘ä¸º React.createElement æ–¹æ³•ï¼ŒæŸ¥çœ‹æºç ï¼š\n\n\n```javascript\n/**\n * Create and return a new ReactElement of the given type.\n * See https://reactjs.org/docs/react-api.html#createelement\n */\nexport function createElement(type, config, children) {\n  let propName;\n\n  // Reserved names are extracted\n  const props = {};\n\n  let key = null;\n  let ref = null;\n  let self = null;\n  let source = null;\n\n  if (config != null) {\n    // èµ‹å€¼ç»™props\n  }\n\n  // Children can be more than one argument, and those are transferred onto\n  // the newly allocated props object.\n  const childrenLength = arguments.length - 2;\n  // å¤„ç† childrenï¼Œä¼šè¢«èµ‹å€¼ç»™props.children\n  \n  // Resolve default props å¤„ç†é»˜è®¤å€¼å¹¶èµ‹å€¼\n  if (type && type.defaultProps) {\n    const defaultProps = type.defaultProps;\n    for (propName in defaultProps) {\n      if (props[propName] === undefined) {\n        props[propName] = defaultProps[propName];\n      }\n    }\n  }\n  return ReactElement(\n    type,\n    key,\n    ref,\n    self,\n    source,\n    ReactCurrentOwner.current,\n    props,\n  );\n}\n```\n\n\næœ€åï¼ŒReact ä¼šè¿”å›ä¸€ä¸ªåŒ…å«ç»„ä»¶æ•°æ®çš„ ReactElement çš„å¯¹è±¡ï¼Œè¯¥å¯¹è±¡æœ‰ä¸€ä¸ªå±æ€§`$$typeof: REACT_ELEMENT_TYPE`æ¥æ ‡è®°ä»–æ˜¯ä¸€ä¸ª ReactElementã€‚\n\n\n```javascript\nconst ReactElement = function(type, key, ref, self, source, owner, props) {\n  const element = {\n    // This tag allows us to uniquely identify this as a React Element\n    $$typeof: REACT_ELEMENT_TYPE,\n\n    // Built-in properties that belong on the element\n    type: type,\n    key: key,\n    ref: ref,\n    props: props,\n\n    // Record the component responsible for creating this element.\n    _owner: owner,\n  };\n\n  return element;\n};\n```\n\n\nåœ¨ React ä¸­æœ‰ä¸€ä¸ªå…¨å±€çš„æ–¹æ³•`isValidElement`æ¥æ ¡éªŒåˆæ³•çš„ ReactElementã€‚\n\n\n```javascript\n/**\n * Verifies the object is a ReactElement.\n * See https://reactjs.org/docs/react-api.html#isvalidelement\n * @param {?object} object\n * @return {boolean} True if `object` is a ReactElement.\n * @final\n */\nexport function isValidElement(object) {\n  return (\n    typeof object === 'object' &&\n    object !== null &&\n    object.$$typeof === REACT_ELEMENT_TYPE\n  );\n}\n```\n\n\nå¯ä»¥å‘ç°`$$typeof === REACT_ELEMENT_TYPE`çš„é null å¯¹è±¡å°±æ˜¯ä¸€ä¸ªåˆæ³•çš„ ReactElementã€‚æ¢è¨€ä¹‹ï¼Œåœ¨ React ä¸­ï¼Œæ‰€æœ‰ JSX åœ¨è¿è¡Œæ—¶çš„è¿”å›ç»“æœï¼ˆå³ React.createElement()çš„è¿”å›å€¼ï¼‰éƒ½æ˜¯ React Elementã€‚\n\n\n## React Component \n\n\nåœ¨ React ä¸­ï¼Œæˆ‘ä»¬å¸¸ä½¿ç”¨ ClassComponent ä¸ FunctionComponent æ„å»ºç»„ä»¶ã€‚\n\n\n```javascript\nclass AppClass extends React.Component {\n  render() {\n    return <p>KaSong</p>\n  }\n}\nconsole.log('è¿™æ˜¯ClassComponentï¼š', AppClass);\nconsole.log('è¿™æ˜¯Elementï¼š', <AppClass/>);\n\n\nfunction AppFunc() {\n  return <p>KaSong</p>;\n}\nconsole.log('è¿™æ˜¯FunctionComponentï¼š', AppFunc);\nconsole.log('è¿™æ˜¯Elementï¼š', <AppFunc/>);\n```\n\n\nClassComponent å¯¹åº”çš„ Element çš„ type å­—æ®µä¸º AppClass è‡ªèº«ã€‚FunctionComponent å¯¹åº”çš„ Element çš„ type å­—æ®µä¸º AppFunc è‡ªèº«ï¼š\n\n\n```javascript\n{\n  $$typeof: Symbol(react.element),\n  key: null,\n  props: {},\n  ref: null,\n  type: Æ’ AppFunc(),\n  _owner: null,\n  _store: {validated: false},\n  _self: null,\n  _source: null \n}\n```\n\n\nä½†æ˜¯ç”±äº class ç»„ä»¶å’Œ function ç»„ä»¶æœ¬è´¨ä¸Šéƒ½æ˜¯ functionï¼Œ æ‰€ä»¥æ— æ³•é€šè¿‡ instanceof åŒºåˆ†ã€‚\n\n\n```javascript\nAppClass instanceof Function === true;\nAppFunc instanceof Function === true;\n```\n\n\nReact é€šè¿‡ ClassComponent å®ä¾‹åŸå‹ä¸Šçš„ isReactComponent å˜é‡åˆ¤æ–­æ˜¯å¦æ˜¯ ClassComponentã€‚\n\n\n```javascript\nClassComponent.prototype.isReactComponent = {};\n```\n\n\n## JSX ä¸ Fiber èŠ‚ç‚¹\n\n\nä»ä¸Šé¢çš„å†…å®¹æˆ‘ä»¬å¯ä»¥å‘ç°ï¼ŒJSX æ˜¯ä¸€ç§æè¿°å½“å‰ç»„ä»¶å†…å®¹çš„æ•°æ®ç»“æ„ï¼Œä»–ä¸åŒ…å«ç»„ä»¶ scheduleã€reconcileã€render æ‰€éœ€çš„ç›¸å…³ä¿¡æ¯ã€‚ æ¯”å¦‚å¦‚ä¸‹ä¿¡æ¯å°±ä¸åŒ…æ‹¬åœ¨ JSX ä¸­ï¼š\n\n- ç»„ä»¶åœ¨æ›´æ–°ä¸­çš„ä¼˜å…ˆçº§\n- ç»„ä»¶çš„ state\n- ç»„ä»¶è¢«æ‰“ä¸Šçš„ç”¨äº Renderer çš„æ ‡è®°\n- è¿™äº›å†…å®¹éƒ½åŒ…å«åœ¨ Fiber èŠ‚ç‚¹ä¸­ã€‚\n\næ‰€ä»¥ï¼Œåœ¨ç»„ä»¶ mount æ—¶ï¼ŒReconciler æ ¹æ® JSX æè¿°çš„ç»„ä»¶å†…å®¹ç”Ÿæˆç»„ä»¶å¯¹åº”çš„ Fiber èŠ‚ç‚¹ã€‚ åœ¨ update æ—¶ï¼ŒReconciler å°† JSX ä¸ Fiber èŠ‚ç‚¹ä¿å­˜çš„æ•°æ®å¯¹æ¯”ï¼Œç”Ÿæˆç»„ä»¶å¯¹åº”çš„ Fiber èŠ‚ç‚¹ï¼Œå¹¶æ ¹æ®å¯¹æ¯”ç»“æœä¸º Fiber èŠ‚ç‚¹æ‰“ä¸Šæ ‡è®°ã€‚\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2021-12-16",
        "type": "Post",
        "slug": "react-jsx",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:26:00.000Z",
        "title": "ç¬¬äºŒç«  Reactæ¶æ„-JSX",
        "category": "å­¦ä¹ ç¬”è®°",
        "tags": [
          "è‡ªé¡¶å‘ä¸‹å­¦ä¹ Reactæºç ",
          "React"
        ],
        "status": "Draft",
        "urlname": "43bfb7df-683e-4e53-a9a9-dfe9ab6e67ba",
        "updated": "2023-08-26 15:26:00"
      },
      "body": "",
      "realName": "ç¬¬äºŒç«  Reactæ¶æ„-JSX",
      "relativePath": "/ç¬¬äºŒç«  Reactæ¶æ„-JSX.md"
    },
    {
      "id": "423e426b-161e-4b67-9c5c-8f82af9f8feb",
      "doc_id": "423e426b-161e-4b67-9c5c-8f82af9f8feb",
      "updated": 1693063560000,
      "body_original": "\n`FiberèŠ‚ç‚¹`æ˜¯å¦‚ä½•è¢«åˆ›å»ºå¹¶æ„å»º Fiber æ ‘ï¼Ÿ\n\n\n`renderé˜¶æ®µ`å¼€å§‹äº`performSyncWorkOnRoot`æˆ–`performConcurrentWorkOnRoot`æ–¹æ³•çš„è°ƒç”¨ã€‚è¿™å–å†³äºæœ¬æ¬¡æ›´æ–°æ˜¯åŒæ­¥æ›´æ–°è¿˜æ˜¯å¼‚æ­¥æ›´æ–°ã€‚\n\n\n```typescript\n/ performSyncWorkOnRootä¼šè°ƒç”¨è¯¥æ–¹æ³•\nfunction workLoopSync() {\n  while (workInProgress !== null) {\n    performUnitOfWork(workInProgress);\n  }\n}\n\n// performConcurrentWorkOnRootä¼šè°ƒç”¨è¯¥æ–¹æ³•\nfunction workLoopConcurrent() {\n  while (workInProgress !== null && !shouldYield()) {\n    performUnitOfWork(workInProgress);\n  }\n}\n```\n\n\nå¯ä»¥çœ‹åˆ°ï¼Œä»–ä»¬å”¯ä¸€çš„åŒºåˆ«æ˜¯æ˜¯å¦è°ƒç”¨`shouldYield`ã€‚å¦‚æœå½“å‰æµè§ˆå™¨å¸§æ²¡æœ‰å‰©ä½™æ—¶é—´ï¼Œ`shouldYield`ä¼šä¸­æ­¢å¾ªç¯ï¼Œç›´åˆ°æµè§ˆå™¨æœ‰ç©ºé—²æ—¶é—´åå†ç»§ç»­éå†ã€‚ `workInProgress`ä»£è¡¨å½“å‰å·²åˆ›å»ºçš„`workInProgress fiber`ã€‚ `performUnitOfWork`æ–¹æ³•ä¼šåˆ›å»ºä¸‹ä¸€ä¸ª`FiberèŠ‚ç‚¹`å¹¶èµ‹å€¼ç»™`workInProgress`ï¼Œå¹¶å°†`workInProgress`ä¸å·²åˆ›å»ºçš„`FiberèŠ‚ç‚¹`è¿æ¥èµ·æ¥æ„æˆ`Fiberæ ‘`ã€‚ `Fiber Reconciler`æ˜¯ä»`Stack Reconciler`é‡æ„è€Œæ¥ï¼Œé€šè¿‡éå†çš„æ–¹å¼å®ç°å¯ä¸­æ–­çš„é€’å½’ï¼Œæ‰€ä»¥`performUnitOfWork`çš„å·¥ä½œå¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šâ€œé€’â€å’Œâ€œå½’â€ã€‚\n\n\n# â€œé€’â€é˜¶æ®µ\n\n\né¦–å…ˆä»`rootFiber`å¼€å§‹å‘ä¸‹æ·±åº¦ä¼˜å…ˆéå†ã€‚ä¸ºéå†åˆ°çš„æ¯ä¸ª`FiberèŠ‚ç‚¹`è°ƒç”¨[beginWork](https://github.com/facebook/react/blob/970fa122d8188bafa600e9b5214833487fbf1092/packages/react-reconciler/src/ReactFiberBeginWork.new.js#L3058)æ–¹æ³•ã€‚ è¯¥æ–¹æ³•ä¼šæ ¹æ®ä¼ å…¥çš„`FiberèŠ‚ç‚¹`åˆ›å»º`å­FiberèŠ‚ç‚¹`ï¼Œå¹¶å°†è¿™ä¸¤ä¸ª`FiberèŠ‚ç‚¹`è¿æ¥èµ·æ¥ã€‚ å½“éå†åˆ°å¶å­èŠ‚ç‚¹ï¼ˆå³æ²¡æœ‰å­ç»„ä»¶çš„ç»„ä»¶ï¼‰æ—¶å°±ä¼šè¿›å…¥â€œå½’â€é˜¶æ®µã€‚\n\n\n# â€œå½’â€é˜¶æ®µ\n\n\nåœ¨â€œå½’â€é˜¶æ®µä¼šè°ƒç”¨[completeWork](https://github.com/facebook/react/blob/970fa122d8188bafa600e9b5214833487fbf1092/packages/react-reconciler/src/ReactFiberCompleteWork.new.js#L652)å¤„ç†`FiberèŠ‚ç‚¹`ã€‚ å½“æŸä¸ª`FiberèŠ‚ç‚¹`æ‰§è¡Œå®Œ`completeWork`ï¼Œå¦‚æœå…¶å­˜åœ¨`å…„å¼ŸFiberèŠ‚ç‚¹`ï¼ˆå³`fiber.sibling !== null`ï¼‰ï¼Œä¼šè¿›å…¥å…¶`å…„å¼ŸFiber`çš„â€œé€’â€é˜¶æ®µã€‚ å¦‚æœä¸å­˜åœ¨`å…„å¼ŸFiber`ï¼Œä¼šè¿›å…¥`çˆ¶çº§Fiber`çš„â€œå½’â€é˜¶æ®µã€‚ â€œé€’â€å’Œâ€œå½’â€é˜¶æ®µä¼šäº¤é”™æ‰§è¡Œç›´åˆ°â€œå½’â€åˆ° rootFiberã€‚è‡³æ­¤ï¼Œrender é˜¶æ®µçš„å·¥ä½œå°±ç»“æŸäº†ã€‚\n\n\n# ä¸¾ä¸ª ğŸŒ°\n\n\n```javascript\nfunction App() {\n  return (\n    <div>\n      i am\n      <span>1874</span>\n    </div>\n  );\n}\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n```\n\n\nå¯¹åº”çš„`Fiber`æ ‘ç»“æ„ï¼š\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fr1PqG_iJcm7n6aZtHFfEHK4VuKT.png)\n\n\n```text\nrenderé˜¶æ®µ\n```\n\n\nä¼šä¾æ¬¡æ‰§è¡Œï¼š\n\n\n```shell\n1. rootFiber beginWork2. App Fiber beginWork3. div Fiber beginWork4. \"i am\" Fiber beginWork5. \"i am\" Fiber completeWork6. span Fiber beginWork7. span Fiber completeWork8. div Fiber completeWork9. App Fiber completeWork10. rootFiber completeWork\n```\n\n\n> æ³¨æ„ ä¹‹æ‰€ä»¥æ²¡æœ‰ â€œ1874â€ Fiber çš„ beginWork/completeWorkï¼Œæ˜¯å› ä¸ºä½œä¸ºä¸€ç§æ€§èƒ½ä¼˜åŒ–æ‰‹æ®µï¼Œé’ˆå¯¹åªæœ‰å•ä¸€æ–‡æœ¬å­èŠ‚ç‚¹çš„Fiberï¼ŒReactä¼šç‰¹æ®Šå¤„ç†ã€‚\n\n\n# beginWork\n\n\n## æµç¨‹æ¦‚è¿°\n\n\nå¯ä»¥ä»[æºç è¿™é‡Œ](https://github.com/facebook/react/blob/1fb18e22ae66fdb1dc127347e169e73948778e5a/packages/react-reconciler/src/ReactFiberBeginWork.new.js#L3075)çœ‹åˆ° beginWork çš„å®šä¹‰ã€‚æ•´ä¸ªæ–¹æ³•å¤§æ¦‚æœ‰ 500 è¡Œä»£ç ã€‚beginWork çš„å·¥ä½œæ˜¯ä¼ å…¥å½“å‰ Fiber èŠ‚ç‚¹ï¼Œåˆ›å»ºå­ Fiber èŠ‚ç‚¹ã€‚\n\n\n```typescript\n// ä»ä¼ å‚çœ‹æ–¹æ³•æ‰§è¡Œ\nfunction beginWork(\n  current: Fiber | null,\n  workInProgress: Fiber,\n  renderLanes: Lanes\n): Fiber | null {\n  // ...çœç•¥å‡½æ•°ä½“\n}\n```\n\n\nå…¶ä¸­ä¼ å‚ï¼š\n\n- currentï¼šå½“å‰ç»„ä»¶å¯¹åº”çš„`FiberèŠ‚ç‚¹`åœ¨ä¸Šä¸€æ¬¡æ›´æ–°æ—¶çš„`FiberèŠ‚ç‚¹`ï¼Œå³`workInProgress.alternate`\n- workInProgressï¼šå½“å‰ç»„ä»¶å¯¹åº”çš„`FiberèŠ‚ç‚¹`\n- renderLanesï¼šä¼˜å…ˆçº§ç›¸å…³\n\né™¤`rootFiber`ä»¥å¤–ï¼Œ ç»„ä»¶`mount`æ—¶ï¼Œç”±äºæ˜¯é¦–æ¬¡æ¸²æŸ“ï¼Œæ˜¯ä¸å­˜åœ¨å½“å‰ç»„ä»¶å¯¹åº”çš„`FiberèŠ‚ç‚¹`åœ¨ä¸Šä¸€æ¬¡æ›´æ–°æ—¶çš„`FiberèŠ‚ç‚¹`ï¼Œå³`mount`æ—¶`current === null`ã€‚ ç»„ä»¶`update`æ—¶ï¼Œç”±äºä¹‹å‰å·²ç»`mount`è¿‡ï¼Œæ‰€ä»¥`current !== null`ã€‚ æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡`current === null ?`æ¥åŒºåˆ†ç»„ä»¶æ˜¯å¤„äº`mount`è¿˜æ˜¯`update`ã€‚ åŸºäºæ­¤åŸå› ï¼Œ`beginWork`çš„å·¥ä½œå¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š\n\n- `update`æ—¶ï¼šå¦‚æœ`current`å­˜åœ¨ï¼Œåœ¨æ»¡è¶³ä¸€å®šæ¡ä»¶æ—¶å¯ä»¥å¤ç”¨`current`èŠ‚ç‚¹ï¼Œè¿™æ ·å°±èƒ½å…‹éš†`current.child`ä½œä¸º`workInProgress.child`ï¼Œè€Œä¸éœ€è¦æ–°å»º`workInProgress.child`ã€‚\n- `mount`æ—¶ï¼šé™¤`fiberRootNode`ä»¥å¤–ï¼Œ`current === null`ã€‚ä¼šæ ¹æ®`fiber.tag`ä¸åŒï¼Œåˆ›å»ºä¸åŒç±»å‹çš„`å­FiberèŠ‚ç‚¹`\n\n```typescript\nfunction beginWork(\n  current: Fiber | null,\n  workInProgress: Fiber,\n  renderLanes: Lanes\n): Fiber | null {\n  // updateæ—¶ï¼šå¦‚æœcurrentå­˜åœ¨å¯èƒ½å­˜åœ¨ä¼˜åŒ–è·¯å¾„ï¼Œå¯ä»¥å¤ç”¨currentï¼ˆå³ä¸Šä¸€æ¬¡æ›´æ–°çš„FiberèŠ‚ç‚¹ï¼‰\n  if (current !== null) {\n    // ...çœç•¥\n\n    // å¤ç”¨current\n    return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);\n  } else {\n    didReceiveUpdate = false;\n  }\n\n  // mountæ—¶ï¼šæ ¹æ®tagä¸åŒï¼Œåˆ›å»ºä¸åŒçš„å­FiberèŠ‚ç‚¹\n  switch (workInProgress.tag) {\n    case IndeterminateComponent:\n    // ...çœç•¥\n    case LazyComponent:\n    // ...çœç•¥\n    case FunctionComponent:\n    // ...çœç•¥\n    case ClassComponent:\n    // ...çœç•¥\n    case HostRoot:\n    // ...çœç•¥\n    case HostComponent:\n    // ...çœç•¥\n    case HostText:\n    // ...çœç•¥\n    // ...çœç•¥å…¶ä»–ç±»å‹\n  }\n}\n```\n\n\n## update æ—¶\n\n\nå¯ä»¥çœ‹åˆ°ï¼Œæ»¡è¶³å¦‚ä¸‹æƒ…å†µæ—¶`didReceiveUpdate === false`ï¼ˆå³å¯ä»¥ç›´æ¥å¤ç”¨å‰ä¸€æ¬¡æ›´æ–°çš„`å­Fiber`ï¼Œä¸éœ€è¦æ–°å»º`å­Fiber`ï¼‰\n\n- `oldProps === newProps && workInProgress.type === current.type`ï¼Œå³`props`ä¸`fiber.type`ä¸å˜\n- `!includesSomeLane(renderLanes, updateLanes)`ï¼Œå³å½“å‰`FiberèŠ‚ç‚¹`ä¼˜å…ˆçº§ä¸å¤Ÿã€‚\n\n## mount æ—¶\n\n\nå½“ä¸æ»¡è¶³ä¼˜åŒ–è·¯å¾„æ—¶ï¼Œå°±ä¼šæ–°å»º`å­Fiber`ã€‚æ ¹æ®`fiber.tag`ä¸åŒï¼Œè¿›å…¥ä¸åŒç±»å‹`Fiber`çš„åˆ›å»ºé€»è¾‘ã€‚\n\n\n> å¯ä»¥ä»[è¿™é‡Œ](https://github.com/facebook/react/blob/1fb18e22ae66fdb1dc127347e169e73948778e5a/packages/react-reconciler/src/ReactWorkTags.js)çœ‹åˆ°tagå¯¹åº”çš„ç»„ä»¶ç±»å‹\n\n\n```typescript\n// mountæ—¶ï¼šæ ¹æ®tagä¸åŒï¼Œåˆ›å»ºä¸åŒçš„FiberèŠ‚ç‚¹\nswitch (workInProgress.tag) {\n  case IndeterminateComponent:\n  // ...çœç•¥\n  case LazyComponent:\n  // ...çœç•¥\n  case FunctionComponent:\n  // ...çœç•¥\n  case ClassComponent:\n  // ...çœç•¥\n  case HostRoot:\n  // ...çœç•¥\n  case HostComponent:\n  // ...çœç•¥\n  case HostText:\n  // ...çœç•¥\n  // ...çœç•¥å…¶ä»–ç±»å‹\n}\n```\n\n\nå¯¹äºæˆ‘ä»¬å¸¸è§çš„ç»„ä»¶ç±»å‹ï¼Œå¦‚`FunctionComponent/ClassComponent/HostComponent`ï¼Œæœ€ç»ˆä¼šè¿›å…¥[reconcileChildren](https://github.com/facebook/react/blob/1fb18e22ae66fdb1dc127347e169e73948778e5a/packages/react-reconciler/src/ReactFiberBeginWork.new.js#L233)æ–¹æ³•ã€‚\n\n\n## reconcileChildren\n\n\nä»è¯¥å‡½æ•°åå°±èƒ½çœ‹å‡ºè¿™æ˜¯`Reconciler`æ¨¡å—çš„æ ¸å¿ƒéƒ¨åˆ†ã€‚é‚£ä¹ˆä»–ç©¶ç«Ÿåšäº†ä»€ä¹ˆå‘¢ï¼Ÿ\n\n- å¯¹äº`mount`çš„ç»„ä»¶ï¼Œä»–ä¼šåˆ›å»ºæ–°çš„`å­FiberèŠ‚ç‚¹`\n- å¯¹äº`update`çš„ç»„ä»¶ï¼Œä»–ä¼šå°†å½“å‰ç»„ä»¶ä¸è¯¥ç»„ä»¶åœ¨ä¸Šæ¬¡æ›´æ–°æ—¶å¯¹åº”çš„`FiberèŠ‚ç‚¹`æ¯”è¾ƒï¼ˆä¹Ÿå°±æ˜¯ä¿—ç§°çš„`Diffç®—æ³•`ï¼‰ï¼Œå°†æ¯”è¾ƒçš„ç»“æœç”Ÿæˆ`æ–°FiberèŠ‚ç‚¹`\n\n```typescript\nexport function reconcileChildren(\n  current: Fiber | null,\n  workInProgress: Fiber,\n  nextChildren: any,\n  renderLanes: Lanes\n) {\n  if (current === null) {\n    // å¯¹äºmountçš„ç»„ä»¶\n    workInProgress.child = mountChildFibers(\n      workInProgress,\n      null,\n      nextChildren,\n      renderLanes\n    );\n  } else {\n    // å¯¹äºupdateçš„ç»„ä»¶\n    workInProgress.child = reconcileChildFibers(\n      workInProgress,\n      current.child,\n      nextChildren,\n      renderLanes\n    );\n  }\n}\n```\n\n\nä»ä»£ç å¯ä»¥çœ‹å‡ºï¼Œå’Œ`beginWork`ä¸€æ ·ï¼Œä»–ä¹Ÿæ˜¯é€šè¿‡`current === null ?`åŒºåˆ†`mount`ä¸`update`ã€‚ ä¸è®ºèµ°å“ªä¸ªé€»è¾‘ï¼Œæœ€ç»ˆä»–ä¼šç”Ÿæˆæ–°çš„`å­FiberèŠ‚ç‚¹`å¹¶èµ‹å€¼ç»™`workInProgress.child`ï¼Œä½œä¸ºæœ¬æ¬¡`beginWork`[è¿”å›å€¼](https://github.com/facebook/react/blob/1fb18e22ae66fdb1dc127347e169e73948778e5a/packages/react-reconciler/src/ReactFiberBeginWork.new.js#L1158)ï¼Œå¹¶ä½œä¸ºä¸‹æ¬¡`performUnitOfWork`æ‰§è¡Œæ—¶`workInProgress`çš„[ä¼ å‚](https://github.com/facebook/react/blob/1fb18e22ae66fdb1dc127347e169e73948778e5a/packages/react-reconciler/src/ReactFiberWorkLoop.new.js#L1702)ã€‚\n\n\n> æ³¨æ„ å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒmountChildFibersä¸reconcileChildFibersè¿™ä¸¤ä¸ªæ–¹æ³•çš„é€»è¾‘åŸºæœ¬ä¸€è‡´ã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼šreconcileChildFibersä¼šä¸ºç”Ÿæˆçš„FiberèŠ‚ç‚¹å¸¦ä¸ŠeffectTagå±æ€§ï¼Œè€ŒmountChildFibersä¸ä¼šã€‚\n\n\n## effectTag\n\n\næˆ‘ä»¬çŸ¥é“ï¼Œ`render`é˜¶æ®µçš„å·¥ä½œæ˜¯åœ¨å†…å­˜ä¸­è¿›è¡Œï¼Œå½“å·¥ä½œç»“æŸåä¼šé€šçŸ¥`Renderer`éœ€è¦æ‰§è¡Œçš„`DOM`æ“ä½œã€‚è¦æ‰§è¡Œ`DOM`æ“ä½œçš„å…·ä½“ç±»å‹å°±ä¿å­˜åœ¨`fiber.effectTag`ä¸­ã€‚\n\n\n> ä½ å¯ä»¥ä»[è¿™é‡Œ](https://github.com/facebook/react/blob/1fb18e22ae66fdb1dc127347e169e73948778e5a/packages/react-reconciler/src/ReactSideEffectTags.js)çœ‹åˆ°`effectTag`å¯¹åº”çš„`DOM`æ“ä½œ\n\n\næ¯”å¦‚ï¼š\n\n\n```typescript\n// é€šè¿‡äºŒè¿›åˆ¶è¡¨ç¤ºeffectTagï¼Œå¯ä»¥æ–¹ä¾¿çš„ä½¿ç”¨ä½æ“ä½œä¸ºfiber.effectTagèµ‹å€¼å¤šä¸ªeffectã€‚\n\n// DOMéœ€è¦æ’å…¥åˆ°é¡µé¢ä¸­\nexport const Placement = /*                */ 0b00000000000010;\n// DOMéœ€è¦æ›´æ–°\nexport const Update = /*                   */ 0b00000000000100;\n// DOMéœ€è¦æ’å…¥åˆ°é¡µé¢ä¸­å¹¶æ›´æ–°\nexport const PlacementAndUpdate = /*       */ 0b00000000000110;\n// DOMéœ€è¦åˆ é™¤\nexport const Deletion = /*                 */ 0b00000000001000;\n```\n\n\né‚£ä¹ˆï¼Œå¦‚æœè¦é€šçŸ¥`Renderer`å°†`FiberèŠ‚ç‚¹`å¯¹åº”çš„`DOM`èŠ‚ç‚¹æ’å…¥é¡µé¢ä¸­ï¼Œéœ€è¦æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼š\n\n1. `fiber.stateNode`å­˜åœ¨ï¼Œå³`FiberèŠ‚ç‚¹`ä¸­ä¿å­˜äº†å¯¹åº”çš„`DOM`èŠ‚ç‚¹\n2. `(fiber.effectTag & Placement) !== 0`ï¼Œå³`FiberèŠ‚ç‚¹`å­˜åœ¨`Placement effectTag`\n\næˆ‘ä»¬çŸ¥é“ï¼Œ`mount`æ—¶ï¼Œ`fiber.stateNode === null`ï¼Œä¸”åœ¨`reconcileChildren`ä¸­è°ƒç”¨çš„`mountChildFibers`ä¸ä¼šä¸º`FiberèŠ‚ç‚¹`èµ‹å€¼`effectTag`ã€‚é‚£ä¹ˆé¦–å±æ¸²æŸ“å¦‚ä½•å®Œæˆå‘¢ï¼Ÿ é’ˆå¯¹ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œ`fiber.stateNode`ä¼šåœ¨`completeWork`ä¸­åˆ›å»ºã€‚ç¬¬äºŒä¸ªé—®é¢˜çš„ç­”æ¡ˆååˆ†å·§å¦™ï¼šå‡è®¾`mountChildFibers`ä¹Ÿä¼šèµ‹å€¼`effectTag`ï¼Œé‚£ä¹ˆå¯ä»¥é¢„è§`mount`æ—¶æ•´æ£µ Fiber æ ‘æ‰€æœ‰èŠ‚ç‚¹éƒ½ä¼šæœ‰`Placement effectTag`ã€‚é‚£ä¹ˆ`commit`é˜¶æ®µåœ¨æ‰§è¡Œ`DOM`æ“ä½œæ—¶æ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šæ‰§è¡Œä¸€æ¬¡æ’å…¥æ“ä½œï¼Œè¿™æ ·å¤§é‡çš„`DOM`æ“ä½œæ˜¯æä½æ•ˆçš„ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåœ¨`mount`æ—¶åªæœ‰`rootFiber`ä¼šèµ‹å€¼`Placement effectTag`ï¼Œåœ¨`commit`é˜¶æ®µåªä¼šæ‰§è¡Œä¸€æ¬¡æ’å…¥æ“ä½œã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FuLcsbmdRwcZCodGOlPpjfxxuSdi.png)\n\n\n# completeWork\n\n\nç±»ä¼¼`beginWork`ï¼Œ`completeWork`ä¹Ÿæ˜¯é’ˆå¯¹ä¸åŒ`fiber.tag`è°ƒç”¨ä¸åŒçš„å¤„ç†é€»è¾‘ã€‚\n\n\n```typescript\nfunction completeWork(\n  current: Fiber | null,\n  workInProgress: Fiber,\n  renderLanes: Lanes,\n): Fiber | null {\n  const newProps = workInProgress.pendingProps;\n\n  switch (workInProgress.tag) {\n    case IndeterminateComponent:\n    case LazyComponent:\n    case SimpleMemoComponent:\n    case FunctionComponent:\n    case ForwardRef:\n    case Fragment:\n    case Mode:\n    case Profiler:\n    case ContextConsumer:\n    case MemoComponent:\n      return null;\n    case ClassComponent: {\n      // ...çœç•¥\n      return null;\n    }\n    case HostRoot: {\n      // ...çœç•¥\n      updateHostContainer(workInProgress);\n      return null;\n    }\n    case HostComponent: {\n      // ...çœç•¥\n      return null;\n    }\n  // ...çœç•¥\n```\n\n\nå…ˆé‡ç‚¹å…³æ³¨é¡µé¢æ¸²æŸ“æ‰€å¿…é¡»çš„`HostComponent`ï¼ˆå³åŸç”Ÿ`DOM`ç»„ä»¶å¯¹åº”çš„`FiberèŠ‚ç‚¹`ï¼‰ã€‚\n\n\n## å¤„ç† HostComponent\n\n\nå’Œ`beginWork`ä¸€æ ·ï¼Œæ˜¯æ ¹æ®`current === null ?`åˆ¤æ–­æ˜¯`mount`è¿˜æ˜¯`update`ã€‚ åŒæ—¶é’ˆå¯¹`HostComponent`ï¼Œåˆ¤æ–­`update`æ—¶æˆ‘ä»¬è¿˜éœ€è¦è€ƒè™‘`workInProgress.stateNode != null ?`ï¼ˆå³è¯¥`FiberèŠ‚ç‚¹`æ˜¯å¦å­˜åœ¨å¯¹åº”çš„`DOM`èŠ‚ç‚¹ï¼‰ã€‚\n\n\n```typescript\ncase HostComponent: {\n  popHostContext(workInProgress);\n  const rootContainerInstance = getRootHostContainer();\n  const type = workInProgress.type;\n\n  if (current !== null && workInProgress.stateNode != null) {\n    // updateçš„æƒ…å†µ\n    // ...çœç•¥\n  } else {\n    // mountçš„æƒ…å†µ\n    // ...çœç•¥\n  }\n  return null;\n}\n```\n\n\n## update æ—¶\n\n\nå½“`update`æ—¶ï¼Œ`FiberèŠ‚ç‚¹`å·²ç»å­˜åœ¨å¯¹åº”`DOM`èŠ‚ç‚¹ï¼Œæ‰€ä»¥ä¸éœ€è¦ç”Ÿæˆ`DOM`èŠ‚ç‚¹ã€‚éœ€è¦åšçš„ä¸»è¦æ˜¯å¤„ç†`props`ï¼Œæ¯”å¦‚ï¼š\n\n- `onClick`ã€`onChange`ç­‰å›è°ƒå‡½æ•°çš„æ³¨å†Œ\n- å¤„ç†`style prop`\n- å¤„ç†`DANGEROUSLY_SET_INNER_HTML prop`\n- å¤„ç†`children prop`\n\nå»æ‰ä¸€äº›å½“å‰ä¸éœ€è¦å…³æ³¨çš„åŠŸèƒ½ï¼ˆæ¯”å¦‚`ref`ï¼‰ã€‚å¯ä»¥çœ‹åˆ°æœ€ä¸»è¦çš„é€»è¾‘æ˜¯è°ƒç”¨`updateHostComponent`æ–¹æ³•ã€‚\n\n\n```typescript\nif (current !== null && workInProgress.stateNode != null) {\n  // updateçš„æƒ…å†µ\n  updateHostComponent(\n    current,\n    workInProgress,\n    type,\n    newProps,\n    rootContainerInstance\n  );\n}\n```\n\n\n```typescript\nupdateHostComponent = function(\n    current: Fiber,\n    workInProgress: Fiber,\n    type: Type,\n    newProps: Props,\n    rootContainerInstance: Container,\n  ) {\n    // If we have an alternate, that means this is an update and we need to\n    // schedule a side-effect to do the updates.\n    const oldProps = current.memoizedProps;\n    if (oldProps === newProps) {\n      // In mutation mode, this is sufficient for a bailout because\n      // we won't touch this node even if children changed.\n      return;\n    }\n\n    // If we get updated because one of our children updated, we don't\n    // have newProps so we'll have to reuse them.\n    // TODO: Split the update API as separate for the props vs. children.\n    // Even better would be if children weren't special cased at all tho.\n    const instance: Instance = workInProgress.stateNode;\n    const currentHostContext = getHostContext();\n    // TODO: Experiencing an error where oldProps is null. Suggests a host\n    // component is hitting the resume path. Figure out why. Possibly\n    // related to `hidden`.\n    const updatePayload = prepareUpdate(\n      instance,\n      type,\n      oldProps,\n      newProps,\n      rootContainerInstance,\n      currentHostContext,\n    );\n    // TODO: Type this specific to this type of component.\n    workInProgress.updateQueue = (updatePayload: any);\n    // If the update payload indicates that there is a change or if there\n    // is a new ref we mark this as an update. All the work is done in commitWork.\n    if (updatePayload) {\n      markUpdate(workInProgress);\n    }\n  };\n```\n\n\nåœ¨`updateHostComponent`å†…éƒ¨ï¼Œè¢«å¤„ç†å®Œçš„`props`ä¼šè¢«èµ‹å€¼ç»™`workInProgress.updateQueue`ï¼Œå¹¶æœ€ç»ˆä¼šåœ¨`commit`é˜¶æ®µè¢«æ¸²æŸ“åœ¨é¡µé¢ä¸Šã€‚\n\n\n```typescript\nworkInProgress.updateQueue = (updatePayload: any);\n```\n\n\nå…¶ä¸­`updatePayload`ä¸ºæ•°ç»„å½¢å¼ï¼Œä»–çš„å¶æ•°ç´¢å¼•çš„å€¼ä¸ºå˜åŒ–çš„`prop key`ï¼Œå¥‡æ•°ç´¢å¼•çš„å€¼ä¸ºå˜åŒ–çš„`prop value`ã€‚\n\n\n## mount æ—¶\n\n\nåŒæ ·ï¼Œæˆ‘ä»¬çœç•¥äº†ä¸ç›¸å…³çš„é€»è¾‘ã€‚å¯ä»¥çœ‹åˆ°ï¼Œ`mount`æ—¶çš„ä¸»è¦é€»è¾‘åŒ…æ‹¬ä¸‰ä¸ªï¼š\n\n- ä¸º`FiberèŠ‚ç‚¹`ç”Ÿæˆå¯¹åº”çš„`DOM`èŠ‚ç‚¹\n- å°†`å­å­™DOMèŠ‚ç‚¹`æ’å…¥åˆšç”Ÿæˆçš„`DOM`èŠ‚ç‚¹ä¸­\n- ä¸`update`é€»è¾‘ä¸­çš„`updateHostComponent`ç±»ä¼¼çš„å¤„ç†`props`çš„è¿‡ç¨‹\n\n```typescript\n// mountçš„æƒ…å†µ\n\n// ...çœç•¥æœåŠ¡ç«¯æ¸²æŸ“ç›¸å…³é€»è¾‘\n\nconst currentHostContext = getHostContext();\n// ä¸ºfiberåˆ›å»ºå¯¹åº”DOMèŠ‚ç‚¹\nconst instance = createInstance(\n  type,\n  newProps,\n  rootContainerInstance,\n  currentHostContext,\n  workInProgress\n);\n// å°†å­å­™DOMèŠ‚ç‚¹æ’å…¥åˆšç”Ÿæˆçš„DOMèŠ‚ç‚¹ä¸­\nappendAllChildren(instance, workInProgress, false, false);\n// DOMèŠ‚ç‚¹èµ‹å€¼ç»™fiber.stateNode\nworkInProgress.stateNode = instance;\n\n// ä¸updateé€»è¾‘ä¸­çš„updateHostComponentç±»ä¼¼çš„å¤„ç†propsçš„è¿‡ç¨‹\nif (\n  finalizeInitialChildren(\n    instance,\n    type,\n    newProps,\n    rootContainerInstance,\n    currentHostContext\n  )\n) {\n  markUpdate(workInProgress);\n}\n```\n\n\nç”±äº`mount`æ—¶åªä¼šåœ¨`rootFiber`å­˜åœ¨`Placement effectTag`ã€‚é‚£ä¹ˆ`commit`é˜¶æ®µæ˜¯å¦‚ä½•é€šè¿‡ä¸€æ¬¡æ’å…¥`DOM`æ“ä½œï¼ˆå¯¹åº”ä¸€ä¸ª`Placement effectTag`ï¼‰å°†æ•´æ£µ`DOM`æ ‘æ’å…¥é¡µé¢çš„å‘¢ï¼Ÿ åŸå› å°±åœ¨äº`completeWork`ä¸­çš„`appendAllChildren`æ–¹æ³•ã€‚ ç”±äº`completeWork`å±äºâ€œå½’â€é˜¶æ®µè°ƒç”¨çš„å‡½æ•°ï¼Œæ¯æ¬¡è°ƒç”¨`appendAllChildren`æ—¶éƒ½ä¼šå°†å·²ç”Ÿæˆçš„å­å­™`DOM`èŠ‚ç‚¹æ’å…¥å½“å‰ç”Ÿæˆçš„`DOM`èŠ‚ç‚¹ä¸‹ã€‚é‚£ä¹ˆå½“â€œå½’â€åˆ°`rootFiber`æ—¶ï¼Œæˆ‘ä»¬å·²ç»æœ‰ä¸€ä¸ªæ„å»ºå¥½çš„ç¦»å±`DOM`æ ‘ã€‚\n\n\n## effectList\n\n\nè‡³æ­¤`render`é˜¶æ®µçš„ç»å¤§éƒ¨åˆ†å·¥ä½œå°±å®Œæˆäº†ã€‚ è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼šä½œä¸º`DOM`æ“ä½œçš„ä¾æ®ï¼Œ`commit`é˜¶æ®µéœ€è¦æ‰¾åˆ°æ‰€æœ‰æœ‰`effectTag`çš„`Fiber`èŠ‚ç‚¹å¹¶ä¾æ¬¡æ‰§è¡Œ`effectTag`å¯¹åº”æ“ä½œã€‚éš¾é“éœ€è¦åœ¨`commit`é˜¶æ®µå†éå†ä¸€æ¬¡`Fiberæ ‘`å¯»æ‰¾`effectTag !== null`çš„`Fiber`èŠ‚ç‚¹ä¹ˆï¼Ÿ è¿™æ˜¾ç„¶æ˜¯å¾ˆä½æ•ˆçš„ã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåœ¨`completeWork`çš„ä¸Šå±‚å‡½æ•°`completeUnitOfWork`ä¸­ï¼Œæ¯ä¸ªæ‰§è¡Œå®Œ`completeWork`ä¸”å­˜åœ¨`effectTag`çš„`Fiber`èŠ‚ç‚¹ä¼šè¢«ä¿å­˜åœ¨ä¸€æ¡è¢«ç§°ä¸º`effectList`çš„å•å‘é“¾è¡¨ä¸­ã€‚ `effectList`ä¸­ç¬¬ä¸€ä¸ª`Fiber`èŠ‚ç‚¹ä¿å­˜åœ¨`fiber.firstEffect`ï¼Œæœ€åä¸€ä¸ªå…ƒç´ ä¿å­˜åœ¨`fiber.lastEffect`ã€‚ ç±»ä¼¼`appendAllChildren`ï¼Œåœ¨â€œå½’â€é˜¶æ®µï¼Œæ‰€æœ‰æœ‰`effectTag`çš„`Fiber`èŠ‚ç‚¹éƒ½ä¼šè¢«è¿½åŠ åœ¨`effectList`ä¸­ï¼Œæœ€ç»ˆå½¢æˆä¸€æ¡ä»¥`rootFiber.firstEffect`ä¸ºèµ·ç‚¹çš„å•å‘é“¾è¡¨ã€‚\n\n\n```typescript\n                       nextEffect         nextEffect\nrootFiber.firstEffect -----------> fiber -----------> fiber\n```\n\n\nè¿™æ ·ï¼Œåœ¨`commit`é˜¶æ®µåªéœ€è¦éå†`effectList`å°±èƒ½æ‰§è¡Œæ‰€æœ‰ effect äº†ã€‚\n\n\n> ä½ å¯ä»¥åœ¨[è¿™é‡Œ](https://github.com/facebook/react/blob/1fb18e22ae66fdb1dc127347e169e73948778e5a/packages/react-reconciler/src/ReactFiberWorkLoop.new.js#L1744)çœ‹åˆ°è¿™æ®µä»£ç é€»è¾‘ã€‚\n\n\n## æµç¨‹ç»“å°¾\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FqfSwmibF4takmueZ3r0RWASaKS3.png)\n\n\nè‡³æ­¤ï¼Œ`render`é˜¶æ®µå…¨éƒ¨å·¥ä½œå®Œæˆã€‚åœ¨`performSyncWorkOnRoot`å‡½æ•°ä¸­`fiberRootNode`è¢«ä¼ é€’ç»™`commitRoot`æ–¹æ³•ï¼Œå¼€å¯`commit`é˜¶æ®µå·¥ä½œæµç¨‹ã€‚\n\n\n```text\ncommitRoot(root);\n```\n\n\n> ä»£ç è§è¿™é‡Œã€‚\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2022-02-09",
        "type": "Post",
        "slug": "react-render",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:26:00.000Z",
        "title": "ç¬¬ä¸‰ç«  Reactæ¶æ„-renderé˜¶æ®µ",
        "category": "å­¦ä¹ ç¬”è®°",
        "tags": [
          "è‡ªé¡¶å‘ä¸‹å­¦ä¹ Reactæºç ",
          "React"
        ],
        "status": "Draft",
        "urlname": "423e426b-161e-4b67-9c5c-8f82af9f8feb",
        "updated": "2023-08-26 15:26:00"
      },
      "body": "",
      "realName": "ç¬¬ä¸‰ç«  Reactæ¶æ„-renderé˜¶æ®µ",
      "relativePath": "/ç¬¬ä¸‰ç«  Reactæ¶æ„-renderé˜¶æ®µ.md"
    },
    {
      "id": "31d9494b-7c68-4d94-a407-7625e31421fb",
      "doc_id": "31d9494b-7c68-4d94-a407-7625e31421fb",
      "updated": 1693063440000,
      "body_original": "\n# å¼•è¨€\n\n\nSpring Security æ˜¯ä¸€ä¸ªèƒ½å¤Ÿä¸ºåŸºäº Spring çš„ä¼ä¸šåº”ç”¨ç³»ç»Ÿæä¾›å£°æ˜å¼çš„å®‰å…¨è®¿é—®æ§åˆ¶è§£å†³æ–¹æ¡ˆçš„å®‰å…¨æ¡†æ¶ã€‚å®ƒæä¾›äº†ä¸€ç»„å¯ä»¥åœ¨ Spring åº”ç”¨ä¸Šä¸‹æ–‡ä¸­é…ç½®çš„ Beanï¼Œå……åˆ†åˆ©ç”¨äº† Spring IOCï¼ˆInversion of Control æ§åˆ¶åè½¬ï¼‰ï¼ŒDIï¼ˆDependency Injection ä¾èµ–æ³¨å…¥ï¼‰å’Œ AOPï¼ˆAspect Oriented Programming é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰åŠŸèƒ½ï¼Œä¸ºåº”ç”¨ç³»ç»Ÿæä¾›å£°æ˜å¼çš„å®‰å…¨è®¿é—®æ§åˆ¶åŠŸèƒ½ï¼Œå‡å°‘äº†ä¸ºä¼ä¸šç³»ç»Ÿå®‰å…¨æ§åˆ¶ç¼–å†™å¤§é‡é‡å¤ä»£ç çš„å·¥ä½œã€‚\n\n\n## pom.xml\n\n\nåœ¨ spring framework å¸¸è§„ä¾èµ–çš„åŸºç¡€ä¸Šæ·»åŠ ä»¥ä¸‹ä¾èµ–ï¼š\n\n\n```xml\n<dependency>\n\t<groupId>org.springframework.security</groupId>\n\t<artifactId>spring-security-config</artifactId>\n\t<version>4.1.0.RELEASE</version>\n</dependency>\n<dependency>\n\t<groupId>javax.servlet</groupId>\n\t<artifactId>servlet-api</artifactId>\n\t<version>2.5</version>\n\t<scope>provided</scope>\n</dependency>\n```\n\n\n## web.xml\n\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\txmlns=\"http://java.sun.com/xml/ns/javaee\"\n\txsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee\n                        http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n         version=\"2.5\">\n    <!-- securityå®‰å…¨æ¡†æ¶ -->\n\t<context-param>\n        <param-name>contextConfigLocation</param-name>\n        <param-value>classpath:spring-security.xml</param-value>\n\t</context-param>\n\t<listener>\n        <listener-class>\n            org.springframework.web.context.ContextLoaderListener\n        </listener-class>\n\t</listener>\t\n\t<filter>  \n        <filter-name>springSecurityFilterChain</filter-name>\n        <filter-class>\n            org.springframework.web.filter.DelegatingFilterProxy\n        </filter-class>\n\t</filter>  \n\t<filter-mapping>  \n        <filter-name>springSecurityFilterChain</filter-name>  \n        <url-pattern>/*</url-pattern>  \n\t</filter-mapping>\t\n</web-app>\n```\n\n\n## spring-security.xml(é™æ€è®¾ç½®è´¦å·å¯†ç )\n\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans:beans xmlns=\"http://www.springframework.org/schema/security\"\nxmlns:beans=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans\n    http://www.springframework.org/schema/beans/spring-beans.xsd\n    http://www.springframework.org/schema/security\n    http://www.springframework.org/schema/security/spring-security.xsd\">\n\n    <!-- ä»¥ä¸‹é¡µé¢ä¸è¢«æ‹¦æˆª -->\n\t<http pattern=\"/login.html\" security=\"none\"></http>\n\t<!-- é¡µé¢æ‹¦æˆªè§„åˆ™ -->\n\t<http use-expressions=\"false\">\n        <!-- intercept-urlè¡¨ç¤ºéœ€è¦æ‹¦æˆªçš„ -->\n        <!-- /**è¡¨ç¤ºæ‹¦æˆªæ‰€æœ‰,accessä¸­å¿…é¡»ä»¥\"ROLE_\"å¼€å¤´,åé¢çš„æ˜¯è‡ªå®šçš„ç”¨æˆ·-->\n\t\t<intercept-url pattern=\"/**\" access=\"ROLE_TEST\" />\n        <!-- \n\t\t\tlogin-pageï¼šæŒ‡å®šç™»å½•é¡µé¢ã€‚\n\t\t\tauthentication-failure-urlï¼šæŒ‡å®šäº†èº«ä»½éªŒè¯å¤±è´¥æ—¶è·³è½¬åˆ°çš„é¡µé¢ã€‚\n\t\t\tdefault-target-urlï¼šæŒ‡å®šäº†æˆåŠŸè¿›è¡Œèº«ä»½éªŒè¯å’Œæˆæƒåé»˜è®¤å‘ˆç°ç»™ç”¨æˆ·çš„é¡µé¢ã€‚\n \t\t-->\n        <form-login login-page=\"/login.html\" default-target-url=\"/index.html\" authentication-failure-url=\"/error.html\"/>\n        <!-- å…³é—­CSRF,å¦‚æœä¸åŠ ä¼šå‡ºç°é”™è¯¯ -->\n        <!-- CSRFï¼ˆCross-site request forgeryï¼‰è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼Œä¹Ÿè¢«ç§°ä¸ºâ€œOne Click Attackâ€æˆ–è€…Session Ridingï¼Œé€šå¸¸ç¼©å†™ä¸ºCSRFæˆ–è€…XSRFï¼Œæ˜¯ä¸€ç§å¯¹ç½‘ç«™çš„æ¶æ„åˆ©ç”¨ã€‚-->\n\t\t<csrf disabled=\"true\"/>\n        <!-- å¦‚æœä½ åœ¨ç³»ç»Ÿä¸­ä½¿ç”¨äº†æ¡†æ¶é¡µï¼Œéœ€è¦è®¾ç½®æ¡†æ¶é¡µçš„ç­–ç•¥ä¸ºSAMEORIGIN -->\n        <headers>\n\t\t\t<frame-options policy=\"SAMEORIGIN\"/>\n\t\t</headers>\n\t</http>\n\n\t<!-- è®¤è¯ç®¡ç†å™¨ -->\n\t<authentication-manager>\n\t\t<authentication-provider>\n\t\t\t<user-service>\n                <!-- ä¸ºæ–¹ä¾¿æµ‹è¯•,å°†è´¦å·å¯†ç å›ºå®šäº† -->\n\t\t\t\t<user name=\"admin\" password=\"123456\" authorities=\"ROLE_TEST\"/>\n\t\t\t</user-service>\t\t\n\t\t</authentication-provider>\t\n\t</authentication-manager>\n</beans:beans>\n```\n\n\n## åŠ¨æ€ä»æ•°æ®åº“ä¸­è·å–è´¦å·å¯†ç \n\n\n### åˆ›å»º UserDetailsServiceImpl.java å¹¶å®ç° UserDetailsService æ¥å£\n\n\n```java\npackage cn.letttgaco.service;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\n\nimport cn.letttgaco.pojo.LoginUser;\n\npublic class UserDetailServiceImpl implements UserDetailsService {\n\n\tprivate SellerService sellerService;\n\n\tpublic void setSellerService(SellerService sellerService) {\n\t\tthis.sellerService = sellerService;\n\t}\n\n\tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n\t\tSystem.out.println(\"é€šè¿‡UserDetailServiceImpl\");\n\t\t// æ„å»ºè§’è‰²åˆ—è¡¨\n\t\tList<GrantedAuthority> grantAuths = new ArrayList<GrantedAuthority>();\n\t\t// æ·»åŠ è§’è‰²\n\t\tgrantAuths.add(new SimpleGrantedAuthority(\"ROLE_SELLER\"));\n\t\t//å¾—åˆ°ç”¨æˆ·å¯¹è±¡\t\t\n\t\tLoginUser user = userService.login(username);\n\t\tif (user != null) {\n\t\t\t// è¿”å›å…·æœ‰ä¸€å®šè§’è‰²å¯¹è±¡çš„ç”¨æˆ·å¯¹è±¡\n\t\t\treturn new User(username, user.getPassword(), grantAuths);\n\t\t\treturn null;\n\t\t}else {\n\t\t\treturn null;\n\t\t}\n\t}\n}\n```\n\n\n### spring-security.xml\n\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans:beans xmlns=\"http://www.springframework.org/schema/security\"\n\txmlns:beans=\"http://www.springframework.org/schema/beans\" \n\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\txmlns:dubbo=\"http://code.alibabatech.com/schema/dubbo\"\n\txsi:schemaLocation=\"http://www.springframework.org/schema/beans \n\thttp://www.springframework.org/schema/beans/spring-beans.xsd\n\thttp://www.springframework.org/schema/security \n\thttp://www.springframework.org/schema/security/spring-security.xsd\n\thttp://code.alibabatech.com/schema/dubbo \n\thttp://code.alibabatech.com/schema/dubbo/dubbo.xsd\">\n\n\n\t<!-- è®¾ç½®ä¸ç™»å½•ä¹Ÿå¯ä»¥è®¿é—®çš„é¡µé¢ -->\n\t<http pattern=\"/*.html\" security=\"none\"></http>\n\t<http pattern=\"/css/**\" security=\"none\"></http>\n\t<http pattern=\"/img/**\" security=\"none\"></http>\n\t<http pattern=\"/js/**\" security=\"none\"></http>\n\t<!-- æ”¾å¼€ç”¨æˆ·æ³¨å†Œå…¥å£ -->\n\t<http pattern=\"/user/register.do\" security=\"none\"></http>\n\n\t<!-- é¡µé¢æ‹¦æˆªè§„åˆ™ use-expressions:æ˜¯å¦å¯ç”¨SPELè¡¨è¾¾å¼,é»˜è®¤ä¸ºtrue -->\n\t<http use-expressions=\"false\">\n\t\t<!-- å½“å‰ç”¨æˆ·å¿…é¡»æœ‰ROLE_USERçš„è§’è‰²æ‰å¯è®¿é—®æ ¹ç›®å½•åŠæ‰€å±å­ç›®å½•çš„èµ„æº -->\n\t\t<intercept-url pattern=\"/**\" access=\"ROLE_SELLER\" />\n\t\t<!-- å¼€å¯è¡¨å•ç™»å½•åŠŸèƒ½ -->\n\t\t<form-login login-page=\"/login.html\"\n\t\t\tdefault-target-url=\"/index.html\" authentication-failure-url=\"/login.html\"\n\t\t\talways-use-default-target=\"true\" />\n\t\t<!-- å…³é—­csrf -->\n\t\t<csrf disabled=\"true\" />\n\t\t<!-- é…ç½®ç­–ç•¥,ä½¿ç”¨æ¡†æ¶é¡µé¢ -->\n\t\t<headers>\n\t\t\t<frame-options policy=\"SAMEORIGIN\" />\n\t\t</headers>\n\t\t<logout />\n\t</http>\n\n\t<!-- æ·»åŠ è®¤è¯ç±» -->\n\t<beans:bean id=\"userDetailService\" class=\"cn.letttgaco.service.UserDetailServiceImpl\">\n\t\t<beans:property name=\"userService\" ref=\"userService\"></beans:property>\n\t</beans:bean>\n\n\t<!-- è®¤è¯ç®¡ç†å™¨ -->\n\t<authentication-manager>\n\t\t<!-- è®¤è¯çš„æä¾›è€… -->\n\t\t<authentication-provider user-service-ref=\"userDetailService\"/>\n\t</authentication-manager>\n</beans:beans>\n```\n\n\né€šè¿‡ä»¥ä¸Šé…ç½®ï¼Œç”¨æˆ·åœ¨ç™»é™†é¡µè¾“å…¥ç”¨æˆ·åå’Œå¯†ç ä¸æ•°æ®åº“ä¸€è‡´å³å¯ç™»é™†ã€‚\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2019-02-17",
        "type": "Post",
        "slug": "fh1na3",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:24:00.000Z",
        "title": "Spring Securityå®‰å…¨æ¡†æ¶å…¥é—¨",
        "category": "å­¦ä¹ ç¬”è®°",
        "tags": [
          "Java"
        ],
        "status": "Archived",
        "urlname": "31d9494b-7c68-4d94-a407-7625e31421fb",
        "updated": "2023-08-26 15:24:00"
      },
      "body": "",
      "realName": "Spring Securityå®‰å…¨æ¡†æ¶å…¥é—¨",
      "relativePath": "/Spring Securityå®‰å…¨æ¡†æ¶å…¥é—¨.md"
    },
    {
      "id": "0feb7c90-7c54-4806-9ade-d9ae5bab5946",
      "doc_id": "0feb7c90-7c54-4806-9ade-d9ae5bab5946",
      "updated": 1693063440000,
      "body_original": "\n# å¼•è¨€\n\n\nä¹‹å‰åœ¨åšé¡¹ç›®æ—¶ä¸€ç›´ç”¨çš„éƒ½æ˜¯ dubbo çš„ xml é…ç½®ï¼Œåœ¨è°ƒè¯•æ—¶æœªé˜²æ­¢è¿æ¥è¶…æ—¶ï¼Œä¸€èˆ¬ä¼šåœ¨ xml ä¸­è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œä½†æ˜¯æœ€è¿‘çš„é¡¹ç›®è¯•äº†ä¸‹ dubbo çš„æ³¨è§£é…ç½®ï¼Œä½†æ˜¯ä¸€æ—¶åŠä¼šæ²¡æ‰¾åˆ°åˆ©ç”¨æ³¨è§£é…ç½®æ¥è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œäºæ˜¯æ‰¾äº†æ‰¾èµ„æ–™ï¼Œæ•´ç†å‡ºå¸¸ç”¨çš„ dubbo çš„é…ç½®æ–‡ä»¶ä»¥åŠæ³¨è§£é…ç½®è®¾ç½®è¶…æ—¶æ—¶é—´ç­‰å±æ€§ã€‚\n\n\n# æœåŠ¡æä¾›è€…\n\n\n## applicationContext-service.xml é…ç½®æ–‡ä»¶\n\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:p=\"http://www.springframework.org/schema/p\"\n\txmlns:context=\"http://www.springframework.org/schema/context\"\n\txmlns:dubbo=\"http://code.alibabatech.com/schema/dubbo\"\n    xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n\txsi:schemaLocation=\"http://www.springframework.org/schema/beans \n        http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/mvc\n        http://www.springframework.org/schema/mvc/spring-mvc.xsd\n        http://code.alibabatech.com/schema/dubbo\n        http://code.alibabatech.com/schema/dubbo/dubbo.xsd\n        http://www.springframework.org/schema/context \n        http://www.springframework.org/schema/context/spring-context.xsd\">\n        \n\t<!--å‘å¸ƒdubboæœåŠ¡ -->\n\t<!--æä¾›æ–¹åº”ç”¨ä¿¡æ¯,ç”¨äºè®¡ç®—ä¾èµ–å…³ç³»-->\n\t<dubbo:application name=\"tiramisu-sellergoods-service\" />\n\t<!--æ³¨å†Œä¸­å¿ƒçš„åœ°å€-->\n\t<dubbo:registry protocol=\"zookeeper\" address=\"xxx.xxx.xxx.xxx:2181\" />\n\t<!--ç”¨äºdubboåè®®åœ¨20881ç«¯å£æš´éœ²æœåŠ¡-->\n\t<dubbo:protocol name=\"dubbo\" port=\"20881\"/>\n    <!--é…ç½®dubboæ³¨è§£æ‰«æåŒ…è·¯å¾„-->\n\t<dubbo:annotation package=\"cn.tiramisu.sellergoods.service.impl\"/>\n</beans>\n```\n\n\n## @Service å®ç°ç±»\n\n\n```java\nimport com.alibaba.dubbo.config.annotation.Service;\n\n//æ³¨æ„ä¸æ˜¯springframeworkçš„service\n@Service\npublic class TiramisuServiceImpl implements TiramisuService {\n    \n}\n```\n\n\n# æœåŠ¡æ¶ˆè´¹è€…\n\n\n## springmvc.xml é…ç½®æ–‡ä»¶\n\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:p=\"http://www.springframework.org/schema/p\"\n\txmlns:context=\"http://www.springframework.org/schema/context\"\n\txmlns:dubbo=\"http://code.alibabatech.com/schema/dubbo\" \n\txmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n\txsi:schemaLocation=\"http://www.springframework.org/schema/beans\n\thttp://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/mvc \n        http://www.springframework.org/schema/mvc/spring-mvc.xsd\n        http://code.alibabatech.com/schema/dubbo \n        http://code.alibabatech.com/schema/dubbo/dubbo.xsd\n        http://www.springframework.org/schema/context \n        http://www.springframework.org/schema/context/spring-context.xsd\">\n\n\t<!-- å¼•ç”¨dubboæœåŠ¡ -->\n\t<dubbo:application name=\"tiramisu-manager-web\" />\n    <!--æ³¨å†Œä¸­å¿ƒçš„åœ°å€-->\n\t<dubbo:registry address=\"zookeeper://xxx.xxx.xxx.xxx:2181\"/>\n    <!--é…ç½®dubboæ³¨è§£æ‰«æåŒ…è·¯å¾„-->\n\t<dubbo:annotation package=\"cn.letttgaco.manager.controller\" />  \t\n</beans>\n```\n\n\n## @Reference æ³¨è§£\n\n\n```java\nimport com.alibaba.dubbo.config.annotation.Reference;@RestController\n\n@Controller\npublic class BrandController {\n    //ä½¿ç”¨dubboæä¾›çš„referenceæ³¨è§£ï¼Œå¼•ç”¨dubboæœåŠ¡\n\t@Reference\n\tprivate TiramisuService tiramisuService; \n}\n```\n\n\n## @Service å’Œ@Reference çš„å±æ€§é…ç½®\n\n\nåœ¨å¹³æ—¶æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œç”±äº dubbo é»˜è®¤çš„è¶…æ—¶æ—¶é—´ä¸º 5000 æ¯«ç§’ï¼Œæ— æ³•å¾ˆæ–¹ä¾¿çš„è¿›è¡Œæµ‹è¯•ï¼Œå®¹æ˜“æŠ¥è¶…æ—¶å¼‚å¸¸ï¼Œè€Œåœ¨ä»¥å‰çš„ xml é…ç½® dubbo æ—¶ï¼Œç»å¸¸è¿™æ ·é…ç½®å®¢æˆ·ç«¯çš„è¶…æ—¶æ—¶é—´ï¼š\n\n\n```xml\n<!--è®¾ç½®è¶…æ—¶æ—¶é—´ä¸º30ç§’-->\n<dubbo:service interface=\"cn.letttgaco.order.service.OrderService\" ref=\"orderServiceImpl\" timeout=\"300000\"/>\n```\n\n\nä½†æ˜¯ç°åœ¨ç”¨çš„æ˜¯ dubbo çš„æ³¨è§£å½¢å¼ï¼Œè®¾ç½®æ³¨è§£å½¢å¼çš„è¶…æ—¶æ—¶é—´æ˜¯ç›´æ¥åœ¨æ³¨è§£ä¸­å£°æ˜çš„ï¼š\n\n\n```java\n//éƒ½è¦è®¾ç½®è¶…æ—¶æ—¶é—´ä¸º30ç§’\n//æœåŠ¡æä¾›æ–¹\n@Service(timeout=300000)\n//æœåŠ¡æ¶ˆè´¹è€…\n@Reference(timeout=300000)\n```\n\n\nå½“ç„¶è¿˜æœ‰æ›´å¤šçš„å±æ€§éƒ½å¯ä»¥è®¾ç½®ï¼Œå¦‚æœæœ‰éœ€è¦çš„å¯ä»¥ç ”ç©¶ä¸‹ã€‚\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2019-02-09",
        "type": "Post",
        "slug": "oelsu8",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:24:00.000Z",
        "title": "æ³¨è§£å¼é…ç½®dubboæœåŠ¡",
        "category": "å­¦ä¹ ç¬”è®°",
        "tags": [
          "Java"
        ],
        "status": "Archived",
        "urlname": "0feb7c90-7c54-4806-9ade-d9ae5bab5946",
        "updated": "2023-08-26 15:24:00"
      },
      "body": "",
      "realName": "æ³¨è§£å¼é…ç½®dubboæœåŠ¡",
      "relativePath": "/æ³¨è§£å¼é…ç½®dubboæœåŠ¡.md"
    },
    {
      "id": "d9d157b7-9c7f-4375-8d60-d4b58d51882a",
      "doc_id": "d9d157b7-9c7f-4375-8d60-d4b58d51882a",
      "updated": 1693063440000,
      "body_original": "\næŸ¥çœ‹ç«¯å£ï¼šnetstat -ntulp\n\n\n# canal\n\n\n```text\nè·¯å¾„ï¼š/root/canal\né…ç½®æ–‡ä»¶ï¼švim /root/canal/conf/example/instance.properties\nå¯åŠ¨ï¼šsh /root/canal/bin/startup.sh\nå…³é—­ï¼šsh /root/canal/bin/stop.sh\nserveræ—¥å¿—ï¼štail -100f logs/canal/canal.log\nnstanceæ—¥å¿—ï¼štail -100f logs/example/example.log\nåˆ é™¤æ—¥å¿—ï¼šrm -rf logs/canal/canal.log logs/example/example.log\nç«¯å£ï¼š119.27.172.40:11111\n```\n\n\n# zookeeper\n\n\n```text\nè·¯å¾„ï¼š/usr/local/zookeeper\né…ç½®æ–‡ä»¶ï¼švim conf/zoo.cfg\nå¯åŠ¨ï¼šbin/zkServer.sh start\nå…³é—­ï¼šbin/zkServer.sh stop\nçŠ¶æ€ï¼šzkServer.sh status\néªŒè¯ï¼štelnet 127.0.0.1 2181\n         stat\nå…³é—­ï¼š./zkServer.sh stop\nç«¯å£ï¼š119.27.172.40:2181\n```\n\n\n# zkui\n\n\n```text\nè·¯å¾„ï¼š/root/zkui\né…ç½®æ–‡ä»¶ï¼švim config.cfg\né…ç½®æ–‡ä»¶ï¼švim target/config.cfg\nå‰å°å¯åŠ¨ï¼šjava -jar target/zkui-2.0-SNAPSHOT-jar-with-dependencies.jar\nåå°å¯åŠ¨ï¼šnohup java -jar target/zkui-2.0-SNAPSHOT-jar-with-dependencies.jar &\nç«¯å£ï¼š119.27.172.40:9090\n```\n\n\n# kafka\n\n\n```text\nè·¯å¾„ï¼š/usr/local/kafka/kafka_2.11-1.1.1\né…ç½®æ–‡ä»¶ï¼švim config/server.properties\nå¯åŠ¨serverï¼šbin/kafka-server-start.sh  -daemon  config/server.properties &\nå…³é—­serverï¼šbin/kafka-server-stop.sh\næŸ¥çœ‹æ‰€æœ‰topicï¼šbin/kafka-topics.sh --list --zookeeper 119.27.172.40:2181\næŸ¥çœ‹æŒ‡å®štopicä¸‹é¢çš„æ•°æ®ï¼š\nbin/kafka-console-consumer.sh --bootstrap-server 119.27.172.40:9092  --from-beginning --topic example_t\nç«¯å£ï¼š119.27.172.40:9092\n```\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2020-04-15",
        "type": "Post",
        "slug": "ymxk6u",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:24:00.000Z",
        "title": "é˜¿é‡Œcanalæ•°æ®åº“å‘½ä»¤æ€»ç»“",
        "category": "å­¦ä¹ ç¬”è®°",
        "tags": [
          "Java"
        ],
        "status": "Archived",
        "urlname": "d9d157b7-9c7f-4375-8d60-d4b58d51882a",
        "updated": "2023-08-26 15:24:00"
      },
      "body": "",
      "realName": "é˜¿é‡Œcanalæ•°æ®åº“å‘½ä»¤æ€»ç»“",
      "relativePath": "/é˜¿é‡Œcanalæ•°æ®åº“å‘½ä»¤æ€»ç»“.md"
    },
    {
      "id": "51cd7a47-863b-49a3-8064-8797159d298e",
      "doc_id": "51cd7a47-863b-49a3-8064-8797159d298e",
      "updated": 1693063440000,
      "body_original": "\nè®°å½•å­¦ä¹ ä¸€ä¸‹æ¯å¤©éƒ½åœ¨ä½¿ç”¨çš„ Git æ“ä½œå‘½ä»¤ï¼Œä»¥åŠ å¿«å·¥ä½œæ•ˆç‡ã€åº”å¯¹æ„å¤–æƒ…å†µçš„å‘ç”Ÿä¸ºç›®æ ‡ã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FlWMWzIX9WE7PW-7eyeq8uaEJ_3p.png)\n\n\n```text\n  - Workspaceï¼šå·¥ä½œåŒº\n  - Index / Stageï¼šæš‚å­˜åŒº\n  - Repositoryï¼šä»“åº“åŒºï¼ˆæˆ–æœ¬åœ°ä»“åº“ï¼‰\n  - Remoteï¼šè¿œç¨‹ä»“åº“\n```\n\n\n# git stash\n\n\n`git stash`çš„åº”ç”¨åœºæ™¯æœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µï¼Œæˆ‘éƒ½é‡åˆ°è¿‡ï¼Œä»¥å¾€æˆ‘éƒ½æ˜¯æŠŠä»£ç å¤åˆ¶å‡ºæ¥å†æ”¹ BUGï¼Œä»Šå¤©æ‰å‘ç°è¿™ä¹ˆåšç®€ç›´å¾ˆè ¢ QAQã€‚\n\n- å‘ç°æœ‰ä¸€ä¸ªç±»æ˜¯å¤šä½™çš„ï¼Œæƒ³åˆ æ‰å®ƒåˆæ‹…å¿ƒä»¥åéœ€è¦æŸ¥çœ‹å®ƒçš„ä»£ç ï¼Œæƒ³ä¿å­˜å®ƒä½†åˆä¸æƒ³å¢åŠ ä¸€ä¸ªè„çš„æäº¤ã€‚è¿™æ—¶å°±å¯ä»¥è€ƒè™‘`git stash`ã€‚\n- ä½¿ç”¨ git çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¾€å¾€ä½¿ç”¨åˆ†æ”¯ï¼ˆbranchï¼‰è§£å†³ä»»åŠ¡åˆ‡æ¢é—®é¢˜ï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šå»ºä¸€ä¸ªè‡ªå·±çš„åˆ†æ”¯å»ä¿®æ”¹å’Œè°ƒè¯•ä»£ç , å¦‚æœåˆ«äººæˆ–è€…è‡ªå·±å‘ç°åŸæœ‰çš„åˆ†æ”¯ä¸Šæœ‰ä¸ªä¸å¾—ä¸ä¿®æ”¹çš„ bugï¼Œæˆ‘ä»¬å¾€å¾€ä¼šæŠŠå®Œæˆä¸€åŠçš„ä»£ç `commit`æäº¤åˆ°æœ¬åœ°ä»“åº“ï¼Œç„¶ååˆ‡æ¢åˆ†æ”¯å»ä¿®æ”¹ bugï¼Œæ”¹å¥½ä¹‹åå†åˆ‡æ¢å›æ¥ã€‚è¿™æ ·çš„è¯å¾€å¾€ log ä¸Šä¼šæœ‰å¤§é‡ä¸å¿…è¦çš„è®°å½•ã€‚å…¶å®å¦‚æœæˆ‘ä»¬ä¸æƒ³æäº¤å®Œæˆä¸€åŠæˆ–è€…ä¸å®Œå–„çš„ä»£ç ï¼Œä½†æ˜¯å´ä¸å¾—ä¸å»ä¿®æ”¹ä¸€ä¸ªç´§æ€¥ Bugï¼Œé‚£ä¹ˆä½¿ç”¨`git stash`å°±å¯ä»¥å°†ä½ å½“å‰æœªæäº¤åˆ°æœ¬åœ°ï¼ˆå’ŒæœåŠ¡å™¨ï¼‰çš„ä»£ç æ¨å…¥åˆ° Git çš„æ ˆä¸­ï¼Œè¿™æ—¶å€™ä½ çš„å·¥ä½œåŒºé—´å’Œä¸Šä¸€æ¬¡æäº¤çš„å†…å®¹æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œæ‰€ä»¥ä½ å¯ä»¥æ”¾å¿ƒçš„ä¿® Bugï¼Œç­‰åˆ°ä¿®å®Œ Bugï¼Œæäº¤åˆ°æœåŠ¡å™¨ä¸Šåï¼Œå†ä½¿ç”¨`git stash apply`å°†ä»¥å‰ä¸€åŠçš„å·¥ä½œåº”ç”¨å›æ¥ã€‚\n- ç»å¸¸æœ‰è¿™æ ·çš„äº‹æƒ…å‘ç”Ÿï¼Œå½“ä½ æ­£åœ¨è¿›è¡Œé¡¹ç›®ä¸­æŸä¸€éƒ¨åˆ†çš„å·¥ä½œï¼Œé‡Œé¢çš„ä¸œè¥¿å¤„äºä¸€ä¸ªæ¯”è¾ƒæ‚ä¹±çš„çŠ¶æ€ï¼Œè€Œä½ æƒ³è½¬åˆ°å…¶ä»–åˆ†æ”¯ä¸Šè¿›è¡Œä¸€äº›å·¥ä½œã€‚é—®é¢˜æ˜¯ï¼Œä½ ä¸æƒ³æäº¤è¿›è¡Œäº†ä¸€åŠçš„å·¥ä½œï¼Œå¦åˆ™ä»¥åä½ æ— æ³•å›åˆ°è¿™ä¸ªå·¥ä½œç‚¹ã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„åŠæ³•å°±æ˜¯`git stash`å‘½ä»¤ã€‚å‚¨è—(stash)å¯ä»¥è·å–ä½ å·¥ä½œç›®å½•çš„ä¸­é—´çŠ¶æ€â€”â€”ä¹Ÿå°±æ˜¯ä½ ä¿®æ”¹è¿‡çš„è¢«è¿½è¸ªçš„æ–‡ä»¶å’Œæš‚å­˜çš„å˜æ›´â€”â€”å¹¶å°†å®ƒä¿å­˜åˆ°ä¸€ä¸ªæœªå®Œç»“å˜æ›´çš„å †æ ˆä¸­ï¼Œéšæ—¶å¯ä»¥é‡æ–°åº”ç”¨ã€‚\n\n`git stash`ä¼šæŠŠæ‰€æœ‰æœªæäº¤çš„ä¿®æ”¹ï¼ˆåŒ…æ‹¬æš‚å­˜çš„å’Œéæš‚å­˜çš„ï¼‰éƒ½ä¿å­˜èµ·æ¥ï¼Œç”¨äºåç»­æ¢å¤å½“å‰å·¥ä½œç›®å½•ã€‚ æ¯”å¦‚ä¸‹é¢çš„ä¸­é—´çŠ¶æ€ï¼Œé€šè¿‡ git stash å‘½ä»¤æ¨é€ä¸€ä¸ªæ–°çš„å‚¨è—ï¼Œå½“å‰çš„å·¥ä½œç›®å½•å°±å¹²å‡€äº†ã€‚è€Œä¸”`git stash`æ˜¯æœ¬åœ°å­˜å‚¨ï¼Œå¹¶ä¸ä¼šæ¨é€åˆ°æœåŠ¡å™¨ã€‚\n\n\n```bash\n$ git status\nOn branch master\nChanges not staged for commit:\n  (use \"git add <file>...\" to update what will be committed)\n  (use \"git restore <file>...\" to discard changes in working directory)\n        modified:   index.html\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\n\n$ git stash\nSaved working directory and index state WIP on master: e4f060f add readme\n\n$ git status\nOn branch master\nnothing to commit, working tree clean\n```\n\n\n## git stash save\n\n\nå®é™…åº”ç”¨ä¸­æ¨èç»™æ¯ä¸ª stash åŠ ä¸€ä¸ª messageï¼Œç”¨äºè®°å½•ç‰ˆæœ¬ï¼Œä½¿ç”¨`git stash save`å–ä»£`git stash`å‘½ä»¤ã€‚\n\n\n```bash\n$ git status\nOn branch master\nChanges not staged for commit:\n  (use \"git add <file>...\" to update what will be committed)\n  (use \"git restore <file>...\" to discard changes in working directory)\n        modified:   index.html\n\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\n\n$ git stash save 'æ”¹äº†indexçš„æ ‡é¢˜'\nSaved working directory and index state On master: æ”¹äº†indexçš„æ ‡é¢˜\n\n$ git status\nOn branch master\nnothing to commit, working tree clean\n\n$ git stash list\nstash@{0}: On master: æ”¹äº†indexçš„æ ‡é¢˜\nstash@{1}: WIP on master: e4f060f add readme\nstash@{2}: WIP on master: e4f060f add readme\n```\n\n\n## git stash apply\n\n\ngit stash apply ç”¨äºå°†ç¼“å­˜å †æ ˆä¸­çš„ stash æ¢å¤åˆ°å·¥ä½œç›®å½•ä¸­ï¼Œä½†å¹¶ä¸åˆ é™¤ stash æ‹·è´ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨`git stash apply stash@{1}` æŒ‡å®šæ¢å¤æŸä¸ª`stash`ï¼Œä¸åŠ å‚æ•°é»˜è®¤æœ€è¿‘çš„ä¸€ä¸ª stashï¼Œå³`git stash apply stash@{0}`\n\n\n```bash\n$ git stash list\nstash@{0}: On master: æ”¹äº†indexçš„æ ‡é¢˜\nstash@{1}: WIP on master: e4f060f add readme\nstash@{2}: WIP on master: e4f060f add readme\n\n$ git stash apply stash@{1}\nOn branch master\nChanges not staged for commit:\n  (use \"git add <file>...\" to update what will be committed)\n  (use \"git restore <file>...\" to discard changes in working directory)\n        modified:   index.html\n\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\n```\n\n\n## git stash pop\n\n\nå’Œ`apply`ä½œç”¨ç±»ä¼¼ï¼Œè¿™ä¸ªæŒ‡ä»¤å¯ä»¥å°†ç¼“å­˜å †æ ˆä¸­çš„ç¬¬ä¸€ä¸ª`stash`åˆ é™¤ï¼Œå¹¶å°†å¯¹åº”ä¿®æ”¹åº”ç”¨åˆ°å½“å‰çš„å·¥ä½œç›®å½•ä¸‹ã€‚\n\n\n```bash\n$ git stash list\nstash@{0}: WIP on master: e4f060f add readme\nstash@{1}: On master: æ”¹äº†indexçš„æ ‡é¢˜\nstash@{2}: WIP on master: e4f060f add readme\nstash@{3}: WIP on master: e4f060f add readme\n\n$ git stash pop\nOn branch master\nChanges not staged for commit:\n  (use \"git add <file>...\" to update what will be committed)\n  (use \"git restore <file>...\" to discard changes in working directory)\n        modified:   index.html\n\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\nDropped refs/stash@{0} (91bfd4fd55e0e3f90a480dfc5bebe0394a393860)\n\n$ git stash list\nstash@{0}: On master: æ”¹äº†indexçš„æ ‡é¢˜\nstash@{1}: WIP on master: e4f060f add readme\nstash@{2}: WIP on master: e4f060f add readme\n```\n\n\n## git stash drop\n\n\nç”¨äºç§»é™¤ç¼“å­˜å †æ ˆä¸­çš„ç¬¬ä¸€ä¸ª`stash`ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šåˆ é™¤æŸä¸€ä¸ª`stash`\n\n\n```bash\n$ git stash list\nstash@{0}: WIP on master: e4f060f add readme\nstash@{1}: On master: æ”¹äº†indexçš„æ ‡é¢˜\nstash@{2}: WIP on master: e4f060f add readme\nstash@{3}: WIP on master: e4f060f add readme\n\n$ git stash drop\nDropped refs/stash@{0} (22b04ba90a37fb36d5f8e7228e7d8cee324a148b)\n\n$ git stash list\nstash@{0}: On master: æ”¹äº†indexçš„æ ‡é¢˜\nstash@{1}: WIP on master: e4f060f add readme\nstash@{2}: WIP on master: e4f060f add readme\n\n$ git stash drop stash@{2}\nDropped stash@{2} (33d9570595f16bc5f4a07247551377e10a0a6ce1)\n\n$ git stash  list\nstash@{0}: On master: æ”¹äº†indexçš„æ ‡é¢˜\nstash@{1}: WIP on master: e4f060f add readme\n```\n\n\n## git stash show\n\n\nç”¨äºæŸ¥çœ‹æœ€è¿‘ä¸€ä¸ªæˆ–è€…æŒ‡å®š`stash`çš„ diffï¼Œè²Œä¼¼ç”¨åˆ°çš„ä¸å¤šï¼Œè®°å½•ä¸‹ã€‚`git stash show -p`å¯ä»¥æŸ¥çœ‹ç‰¹å®š`stash`çš„å…¨éƒ¨`diff`ä»¥åŠæ›´äººæ€§åŒ–ä¸€ç‚¹ï¼Œ\n\n\n```text\n$ git stash  list\nstash@{0}: WIP on master: e4f060f add readme\nstash@{1}: On master: æ”¹äº†indexçš„æ ‡é¢˜\nstash@{2}: WIP on master: e4f060f add readme\n\n$ git stash show\n index.html | 6 +++---\n 1 file changed, 3 insertions(+), 3 deletions(-)\n\n$ git stash show stash@{2}\n index.html | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\n$ git stash show -p\ndiff --git a/index.html b/index.html\nindex 79c2914..47be827 100644\n--- a/index.html\n+++ b/index.html\n@@ -5,9 +5,9 @@\n......\n```\n\n\n## git stash branch\n\n\nè¿™æ¡å‘½ä»¤ä¼šæ ¹æ®æœ€è¿‘çš„ `stash` åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯ï¼Œç„¶ååˆ é™¤æœ€è¿‘çš„ `stash`ï¼ˆå’Œ `stash pop` ä¸€æ ·ï¼‰ã€‚å¦‚æœä½ éœ€è¦æŸä¸ª `stash`ï¼Œä½ å¯ä»¥æŒ‡æ˜ `stash id`ã€‚\n\n\n```text\n# git_learning (master)\n$ git stash\nSaved working directory and index state WIP on master: e4f060f add readme\n\n# git_learning (master)\n$ git stash list\nstash@{0}: WIP on master: e4f060f add readme\n\n# git_learning (master)\n$ git stash branch testbranch\n# æˆ–è€…æŒ‡å®šid\n#$ git stash branch testbranch stash@{0}\nSwitched to a new branch 'testbranch'\nOn branch testbranch\nChanges not staged for commit:\n  (use \"git add <file>...\" to update what will be committed)\n  (use \"git restore <file>...\" to discard changes in working directory)\n        modified:   index.html\n\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\nDropped refs/stash@{0} (e943a81398f2f01a2d64b227488af67a49b78e57)\n\n# git_learning (testbranch)\n$ git stash list\n# æ— ,è¢«åˆ é™¤äº†\n```\n\n\n## å°ç»“\n\n\né»˜è®¤æƒ…å†µä¸‹ï¼Œ`git stash`ä¼šç¼“å­˜ä¸‹åˆ—æ–‡ä»¶ï¼š\n\n- æ·»åŠ åˆ°æš‚å­˜åŒºçš„ä¿®æ”¹ï¼ˆ`staged changes`ï¼‰\n- Git è·Ÿè¸ªçš„ä½†å¹¶æœªæ·»åŠ åˆ°æš‚å­˜åŒºçš„ä¿®æ”¹ï¼ˆ`unstaged changes`ï¼‰ï¼Œå³`git add` ä½†æœª `git commit`\n\nä½†ä¸ä¼šç¼“å­˜ä¸€ä¸‹æ–‡ä»¶ï¼š\n\n- åœ¨å·¥ä½œç›®å½•ä¸­æ–°çš„æ–‡ä»¶ï¼ˆ`untracked files`ï¼‰\n- è¢«å¿½ç•¥çš„æ–‡ä»¶ï¼ˆ`ignored files`ï¼‰\n\n`git stash`å‘½ä»¤æä¾›äº†å‚æ•°ç”¨äºç¼“å­˜ä¸Šé¢ä¸¤ç§ç±»å‹çš„æ–‡ä»¶ã€‚ä½¿ç”¨`-u`æˆ–è€…`--include-untracked`å¯ä»¥ç¼“å­˜`stash untracked`æ–‡ä»¶ã€‚ä½¿ç”¨`-a`æˆ–è€…`--all`å‘½ä»¤å¯ä»¥ stash å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ä¿®æ”¹ã€‚\n\n\n# git checkout\n\n\n## åŸºç¡€ç”¨æ³•\n\n\n`checkout`æœ€å¸¸ç”¨çš„ç”¨æ³•è«è¿‡äºå¯¹äºå·¥ä½œåˆ†æ”¯çš„åˆ‡æ¢äº†ï¼š `git checkout branchName`åªæ˜¯å°†é¡¹ç›®åˆ‡æ¢åˆ°ä»»æ„åˆ†æ”¯ï¼Œä¸åˆ›å»ºåˆ†æ”¯ã€‚ é™¤éå†`git clone` ä¸€ä¸ªæ–°çš„é¡¹ç›®åï¼Œå› ä¸ºåªä¼šé»˜è®¤åœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ª`master`åˆ†æ”¯ï¼Œè¿™ä¸ªæ—¶å€™æƒ³è¦åˆ‡æ¢åˆ°è¿œç¨‹åˆ†æ”¯çš„è¯ï¼Œä¸€èˆ¬æ˜¯åˆ›å»ºè¯¥åˆ†æ”¯çš„æœ¬åœ°åˆ†æ”¯å¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ã€‚\n\n\n```text\nåˆ›å»ºæ–°åˆ†æ”¯ï¼šgit branch branchName\n\nåˆ‡æ¢åˆ°æ–°åˆ†æ”¯ï¼šgit checkout branchName\n```\n\n\nä½†æ˜¯å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ˜¯åˆ›å»ºåˆ†æ”¯çš„æ—¶å€™åˆ‡æ¢åˆ†æ”¯ã€‚æ‰€ä»¥ä»¥ä¸Šè¯­å¥å¯ä»¥åˆæˆä¸€å¥è¯ï¼š `git checkout -b branchName`\n\n\n## è¿›é˜¶\n\n\nè¦æƒ³æ›´æ·±å…¥çš„äº†è§£`checkout`ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£`checkout`çš„ä½œç”¨æœºåˆ¶ã€‚è¯¥å‘½ä»¤çš„ä¸»è¦å…³è”ç›®æ ‡å…¶å®æ˜¯`.git` æ–‡ä»¶å¤¹ä¸‹çš„`HEAD`æ–‡ä»¶ã€‚ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°`HEAD`å¤´æ–‡ä»¶æ˜¯ä¸€ä¸ªå¼•ç”¨ï¼ŒæŒ‡å‘çš„æ˜¯å½“å‰çš„åˆ†æ”¯ï¼Œå¦‚æœå˜æ›´åˆ†æ”¯ï¼Œè¯¥`HEAD`ä¼šå˜æ›´ã€‚\n\n\n```text\n# git_learning (master)\n$ cd .git/\n\n# git_learning/.git (GIT_DIR!)\n$ ls\nCOMMIT_EDITMSG  description  gitk.cache  hooks/  info/  objects/   refs/\nconfig          FETCH_HEAD   HEAD        index   logs/  ORIG_HEAD\n\n# git_learning/.git (GIT_DIR!)\n$ cat HEAD\nref: refs/heads/master\n\n# git_learning/.git (GIT_DIR!)\n$ cd refs/heads/\n\n# git_learning/.git/refs/heads (GIT_DIR!)\n$ ls\n111  master  new_branch  testbranch\n\n# git_learning/.git/refs/heads (GIT_DIR!)\n$  cat master\ne4f060f544371c8adab70af931ba008024bdc2e1\n\n# git_learning (master)\n$ git checkout 111\nSwitched to branch '111'\n\n# git_learning (111)\n$ cat .git/HEAD\nref: refs/heads/111\n```\n\n\nâ€¦â€¦æŒç»­è®°å½•ä¸­ QAQ\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2020-03-01",
        "type": "Post",
        "slug": "vkdsce",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:24:00.000Z",
        "title": "Gitå¸¸ç”¨å‘½ä»¤",
        "category": "å­¦ä¹ ç¬”è®°",
        "tags": [
          "Git"
        ],
        "status": "Archived",
        "urlname": "51cd7a47-863b-49a3-8064-8797159d298e",
        "updated": "2023-08-26 15:24:00"
      },
      "body": "",
      "realName": "Gitå¸¸ç”¨å‘½ä»¤",
      "relativePath": "/Gitå¸¸ç”¨å‘½ä»¤.md"
    },
    {
      "id": "6c0aa69b-7ec6-47ac-b2fd-4984e2f4e020",
      "doc_id": "6c0aa69b-7ec6-47ac-b2fd-4984e2f4e020",
      "updated": 1693063440000,
      "body_original": "\n# å¼•è¨€\n\n\nåœ¨ Notion æˆä¸ºæˆ‘çš„å”¯ä¸€ç”Ÿäº§åŠ›å·¥å…·ä¹‹åï¼Œæˆ‘å°è¯•æŠŠæ—¥å¸¸ç”Ÿæ´»ã€å·¥ä½œä¸­çš„ç‚¹ç‚¹æ»´æ»´éƒ½ç”¨Notion è®°å½•ä¸‹æ¥ã€‚ä¸ºæ­¤æˆ‘ä¸“é—¨å»ºç«‹äº†ä¸ªäººä¸»é¡µï¼ŒæŠŠæ‰“é€ ä¸ªäººä¸»é¡µçš„è¿‡ç¨‹ç”¨ä¸€ä¸ªç³»åˆ—è®°å½•ä¸‹æ¥ã€‚\n\n\næœ¬æ¬¡åˆ†äº«çš„å°±æ˜¯æ‰“é€ è‡ªå·±çš„TODO Listï¼ˆå¾…åŠäº‹é¡¹æ¸…å•ï¼‰\n\n\n![](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/e18097a7-2412-467f-962a-30ea84b2ca92/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230927%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20230927T015944Z&X-Amz-Expires=3600&X-Amz-Signature=79f61006b6d9c72dcab3c0115007d48a29f8f2312e420ddfc4a00c8d08c2b560&X-Amz-SignedHeaders=host&x-id=GetObject)\n\n\n# çœ‹æ¿\n\n- å¤´è„‘é£æš´çœ‹æ¿ï¼šå°†å¹³æ—¶çš„çµæ„Ÿã€æš‚å®šçš„å¾…åŠäº‹é¡¹éƒ½è®°å½•åˆ°è¿™é‡Œ\n- ä»Šæ—¥ä»»åŠ¡ï¼šæŠŠä»Šå¤©è¦åšçš„ä»»åŠ¡ç½—åˆ—åœ¨æ­¤ï¼Œå¹¶æŒ‰æ—¶è°ƒæ•´ä»»åŠ¡çŠ¶æ€\n- æ˜æ—¥ä»»åŠ¡ï¼šæŠŠæ˜å¤©è¦åšçš„TODOç½—åˆ—åœ¨æ­¤\n- æ¯å‘¨çœ‹æ¿ï¼šå›é¡¾æœ¬å‘¨ï¼ˆå‘¨ä¸€åˆ°å‘¨æ—¥ï¼‰çš„ä»»åŠ¡\n- ä¸Šå‘¨çœ‹æ¿ï¼šå›é¡¾ä¸Šå‘¨çš„ä»»åŠ¡\n- æ±‡æ€»ï¼šæŸ¥çœ‹æ‰€æœ‰ä»»åŠ¡çš„çŠ¶æ€\n\n# æ•°æ®åº“å±æ€§\n\n- ä»»åŠ¡çŠ¶æ€ï¼ˆStatusï¼‰\n\t- Todoï¼šå¾…åŠ\n\t- Doingï¼šæ­£åœ¨åš\n\t- Doneï¼šå·²å®Œæˆ\n- ç±»å‹\n\t- ä¸ªäºº\n\t- å·¥ä½œ\n- æœªå®Œæˆï¼šä»Šå¤©ä»¥å‰çŠ¶æ€æœªæ‰­è½¬åˆ°`Done`çš„ä»»åŠ¡\n- æœ¬å‘¨ä¸€ï¼šæ ¹æ®å½“å‰æ—¶é—´è·å–æœ¬å‘¨ä¸€çš„00:00\n- æœ¬å‘¨æ—¥ï¼šæ ¹æ®å½“å‰æ—¶é—´è·å–æœ¬å‘¨æ—¥çš„23:59\n- ä¸Šå‘¨ä¸€ï¼šæ ¹æ®å½“å‰æ—¶é—´è·å–ä¸Šå‘¨ä¸€çš„00:00\n- æœ¬å‘¨æ—¥ï¼šæ ¹æ®å½“å‰æ—¶é—´è·å–ä¸Šå‘¨æ—¥çš„23:59\n\n## Notion æ•°æ®åº“å‡½æ•°å®è·µ\n\n\n## æœ¬å‘¨çœ‹æ¿ï¼ˆå‘¨ä¸€åˆ°å‘¨å¤©ï¼‰\n\n\n![](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/7514f7ff-79d8-4baf-b8be-b6f9d25aced8/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230927%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20230927T015944Z&X-Amz-Expires=3600&X-Amz-Signature=dd38e73c61337f2adb65a59268556381a6b6a761b5c306facf1ba9936a7966d9&X-Amz-SignedHeaders=host&x-id=GetObject)\n\n\n```javascript\n// 1. è·å–æœ¬å‘¨èµ·å§‹æ—¶é—´ï¼ˆç›¸å¯¹äºç°åœ¨æ—¶é—´çš„å‘¨ä¸€çš„00:00ï¼‰\n// 1.1 è·å–ä»Šå¤©çš„00:00\n// 1.1.1 è·å–ä»Šå¤©çš„xx:00\nconst time1 = dateSubtract(now(), minute(now()), \"minutes\")\n// 1.1.2 è·å–ä»Šå¤©çš„00:00\nconst time2 = dateSubtract(time1, hour(now()), \"hours\")\n// 1.2 è·å–å‘¨ä¸€çš„00:00\n// çŸ«æ­£æ˜ŸæœŸ\nif(equal(day(now()), 0), 7, day(now()))\nconst æœ¬å‘¨ä¸€ = dateSubtract(time2, if(equal(day(now()), 0), 7, day(now())) - 1, \"days\")\n// å‡½æ•°\ndateSubtract(dateSubtract(dateSubtract(now(), minute(now()), \"minutes\"), hour(now()), \"hours\"), if(equal(day(now()), 0), 7, day(now())), \"days\")\n\n// 2. è·å–æœ¬å‘¨çš„ç»“æŸæ—¶é—´ï¼ˆç›¸å¯¹äºç°åœ¨æ—¶é—´çš„å‘¨æ—¥çš„23:59ï¼‰\n// 2.1 è·å–ä»Šå¤©çš„23:59\n// 2.1.1 è·å–ä»Šå¤©çš„xx:59\nconst time1 = dateAdd(dateAdd(now(), 59 - minute(now()), \"minutes\")\n// 2.1.2 è·å–ä»Šå¤©çš„23:59\nconst time2 = dateAdd(time1, 23 - hour(now()), \"hours\")\n// 2.2 è·å–å‘¨å¤©çš„23:59\n// çŸ«æ­£æ˜ŸæœŸ\nif(equal(day(now()), 0), 7, day(now()))\nconst æœ¬å‘¨å¤© = dateAdd(time2, 7 - if(equal(day(now()), 0), 7, day(now())), \"days\")\n// å‡½æ•°\ndateAdd(dateAdd(dateAdd(now(), 59 - minute(now()), \"minutes\"), 23 - hour(now()), \"hours\"), 7 - if(equal(day(now()), 0), 7, day(now())), \"days\")\n\n// 3. åˆ¤æ–­æ˜¯å¦æ˜¯æœ¬å‘¨\nconst æ˜¯å¦æ˜¯æœ¬å‘¨ = and(largerEq(prop(\"æ—¥æœŸ\"), prop(\"æœ¬å‘¨ä¸€\")), smallerEq(prop(\"æ—¥æœŸ\"), prop(\"æœ¬å‘¨å¤©\")))\n```\n\n\n## ä¸Šå‘¨çœ‹æ¿\n\n\n### å¦‚ä½•åˆ¤æ–­ä»»åŠ¡å¤„äºä¸Šå‘¨å†…\n\n\n```javascript\n// 1. è·å–ä¸Šå‘¨èµ·å§‹æ—¶é—´ï¼ˆç›¸å¯¹äºç°åœ¨æ—¶é—´çš„ä¸Šå‘¨ä¸€çš„00:00ï¼‰\n// 1.1 è·å–æœ¬å‘¨ä¸€çš„æ—¶é—´\n// çŸ«æ­£æ˜ŸæœŸ\nif(equal(day(now()), 0), 7, day(now()))\nconst time1 = dateSubtract(now(), if(equal(day(now()), 0), 7, day(now())) - 1, \"days\")\n// 1.2 è·å–ä¸Šå‘¨ä¸€çš„æ—¶é—´\nconst time2 = dateSubtract(time1, 7, \"days\")\n// 1.3 è·å–ä¸Šå‘¨ä¸€çš„xx:00\nconst time3 = dateSubtract(time2, minute(time2), \"minutes\")\n// 1.4 è·å–ä¸Šå‘¨ä¸€çš„00:00\nconst ä¸Šå‘¨ä¸€ = dateSubtract(time3, hour(time2), \"hours\")\n// å‡½æ•°\ndateSubtract(dateSubtract(dateSubtract(dateSubtract(now(), if(equal(day(now()), 0), 7, day(now())) - 1, \"days\"), 7, \"days\"), minute(dateSubtract(dateSubtract(now(), if(equal(day(now()), 0), 7, day(now())) - 1, \"days\"), 7, \"days\")), \"minutes\"), hour(dateSubtract(dateSubtract(now(), if(equal(day(now()), 0), 7, day(now())) - 1, \"days\"), 7, \"days\")), \"hours\")\n\n// 2. è·å–ä¸Šå‘¨çš„ç»“æŸæ—¶é—´ï¼ˆç›¸å¯¹äºç°åœ¨æ—¶é—´çš„ä¸Šå‘¨æ—¥çš„23:59ï¼‰\n// 2.1 è·å–æœ¬å‘¨æ—¥çš„æ—¶é—´\n// çŸ«æ­£æ˜ŸæœŸ\nif(equal(day(now()), 0), 7, day(now()))\nconst time1 = dateAdd(now(), 7 - if(equal(day(now()), 0), 7, day(now())), \"days\")\n// 2.2 è·å–ä¸Šå‘¨æ—¥çš„æ—¶é—´\nconst time2 = dateSubtract(time1, 7, \"days\")\n// 2.3 è·å–ä¸Šå‘¨æ—¥çš„xx:59\nconst time3 = dateAdd(time2, 59 - minute(time2), \"minutes\")\n// 2.4 è·å–ä¸Šå‘¨æ—¥çš„23:59\nconst ä¸Šå‘¨æ—¥ = dateAdd(time3, 23 - hour(time2), \"hours\")\n// å‡½æ•°\ndateAdd(dateAdd(dateSubtract(dateAdd(now(), 7 - if(equal(day(now()), 0), 7, day(now())), \"days\"), 7, \"days\"), 59 - minute(dateSubtract(dateAdd(now(), 7 - if(equal(day(now()), 0), 7, day(now())), \"days\"), 7, \"days\")), \"minutes\"), 23 - hour(dateSubtract(dateAdd(now(), 7 - if(equal(day(now()), 0), 7, day(now())), \"days\"), 7, \"days\")), \"hours\")\n\n// 3. åˆ¤æ–­æ˜¯å¦æ˜¯ä¸Šå‘¨\nconst æ˜¯å¦æ˜¯ä¸Šå‘¨ = and(largerEq(prop(\"æ—¥æœŸ\"), prop(\"ä¸Šå‘¨ä¸€\")), smallerEq(prop(\"æ—¥æœŸ\"), prop(\"ä¸Šå‘¨æ—¥\")))\n```\n\n\n# é«˜çº§ç­›é€‰\n\n\n## è‡ªåŠ¨è°ƒæ•´æŒ‡å®šå±æ€§å€¼\n\n\nå½“å­˜åœ¨è¿‡æœŸä»»åŠ¡ï¼ˆè¯¥ä»»åŠ¡åœ¨ä»Šå¤©ä¹‹å‰å¤„äºæœªå®Œæˆï¼ˆTodo/Doingï¼‰çŠ¶æ€ï¼‰æ—¶ï¼Œéœ€è¦åœ¨`ä»Šæ—¥ä»»åŠ¡`ä¸­å±•ç¤ºå‡ºæ¥ã€‚è€Œä¸”å½“æˆ‘åœ¨ä»Šå¤©å°†è¿‡æœŸæ‰­è½¬åˆ°Doneæ—¶ï¼Œè¯¥ä»»åŠ¡çš„å®Œæˆæ—¶é—´åº”è¯¥æ˜¯ä»Šå¤©ï¼Œè€ŒéåŸæœ¬çš„è¿‡æœŸæ—¶é—´ï¼Œä»¥ä¾¿åœ¨`æœ¬å‘¨çœ‹æ¿`ä¸­èƒ½çœ‹åˆ°è¿™äº›ä»»åŠ¡ã€‚\n\n\næ‰€ä»¥éœ€è¦è¿™äº›è¿‡æœŸä»»åŠ¡åœ¨æ‰­è½¬åˆ°DoneçŠ¶æ€æ—¶ï¼Œæ—¶é—´è‡ªåŠ¨è°ƒæ•´ä¸ºä»Šå¤©ã€‚\n\n\n![](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/f4ae0953-19f7-43fe-b089-1bf553e57b87/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230927%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20230927T015944Z&X-Amz-Expires=3600&X-Amz-Signature=79ec5379cddfe40cb91b90f5d920dc2af959a713ee3f90f84e62245f5dcd13e3&X-Amz-SignedHeaders=host&x-id=GetObject)\n\n\nå¥½åœ¨Notionç›¸å½“æ™ºèƒ½ï¼Œåªéœ€è¦å°†ç­›é€‰æ¡ä»¶å˜ä¸ºé«˜çº§ç­›é€‰ï¼Œå¹¶è®¾ç½®ä¸ºä»¥ä¸Šæ¡ä»¶ã€‚åœ¨æŠŠè¿‡æœŸä»»åŠ¡æ‹–æ‹½åˆ°DoneçŠ¶æ€æ—¶ï¼ŒNotionä¼šå°†æ—¶é—´ä¼šè‡ªåŠ¨è°ƒæ•´ä¸ºä»Šå¤©ä»¥ç¬¦åˆå½“å‰çš„ç­›é€‰æ¡ä»¶ã€‚\n\n\n# Notionæ¨¡ç‰ˆåˆ†äº«\n\n\n[bookmark](https://1874.notion.site/6fe9704466f3475b95ed03cd4f3250c1?v=36f35706926f4960af8b076c505cf16b)\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-14T18:04:00.000Z",
        "date": "2023-04-15",
        "type": "Post",
        "slug": "notion-weekly-board",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•åœ¨Notionä¸­æ‰“é€ TODO Listï¼ŒåŒ…æ‹¬çœ‹æ¿å’Œæ•°æ®åº“å±æ€§çš„è®¾ç½®ï¼Œä»¥åŠé«˜çº§ç­›é€‰å’Œå‡½æ•°çš„ä½¿ç”¨ã€‚æ­¤å¤–ï¼Œè¿˜åˆ†äº«äº†Notionæ¨¡æ¿ã€‚",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:24:00.000Z",
        "title": "ç©è½¬Notionç³»åˆ—â€”â€”TODO List",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Notion"
        ],
        "status": "Archived",
        "urlname": "6c0aa69b-7ec6-47ac-b2fd-4984e2f4e020",
        "updated": "2023-08-26 15:24:00"
      },
      "body": "",
      "realName": "ç©è½¬Notionç³»åˆ—â€”â€”TODO List",
      "relativePath": "/ç©è½¬Notionç³»åˆ—â€”â€”TODO List.md"
    },
    {
      "id": "02209783-f54d-4d2e-9a4e-508c42e43ad9",
      "doc_id": "02209783-f54d-4d2e-9a4e-508c42e43ad9",
      "updated": 1693063440000,
      "body_original": "\n# å¼•è¨€\n\n\nåœ¨[è¯­é›€äº‘ç«¯å†™ä½œ Hexo+Github Actions+COS æŒç»­é›†æˆ](https://1874.cool/roeayv)ä¸­æˆ‘éœ€è¦ä¸€ä¸ª Node é¡¹ç›®æ¥ä½œä¸ºä¸­è½¬ç«™æ›¿æ¢åŸæ¥çš„è…¾è®¯äº‘å‡½æ•°ï¼Œè°ƒç”¨`Github Actions`çš„æ¥å£è§¦å‘æ„å»ºæµç¨‹ï¼Œè¿™é‡Œè®°å½•ä¸‹æ­å»ºè¿‡ç¨‹ã€‚\n\n\n# åˆå§‹åŒ– Midway\n\n\n> [Midway å®˜æ–¹æ–‡æ¡£](https://www.midwayjs.org/docs/intro)\n\n\næˆ‘åŸºæœ¬éƒ½æ˜¯æŒ‰ç…§å®˜æ–¹æ–‡æ¡£æ¥æ­å»ºçš„ï¼Œåˆå§‹åŒ–çš„è¿‡ç¨‹ä¹Ÿå¾ˆç®€å•ï¼Œåˆå§‹åŒ–ä¹‹åæŠŠä¸éœ€è¦ç”¨åˆ°çš„æ–‡ä»¶åˆ é™¤ï¼ŒåŸºæœ¬ä¸ç”¨é…ç½®å°±å¯ä»¥ç›´æ¥å°±å¯ä»¥å†™ä»£ç äº†ã€‚\n\n\n# æ¥å£æµç¨‹\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FgaQOwsx7NXJi2YH3J7Gb_k9mrUS.jpeg)\n\n\n# ä»£ç ç¼–å†™\n\n\n## GithubController\n\n\n```typescript\nimport { Controller, Inject, Post } from \"@midwayjs/decorator\";\nimport { Context } from \"egg\";\nimport { GithubService } from \"../service/github\";\n\n@Controller(\"/github\")\nexport class GithubController {\n  @Inject()\n  ctx: Context;\n\n  @Inject()\n  githubService: GithubService;\n\n  @Post(\"/action/:repo/:event_type\")\n  async deploy() {\n    const { repo, event_type } = this.ctx.params;\n    return await this.githubService.action(repo, event_type);\n  }\n}\n```\n\n\næ ¹æ®è¯­é›€çš„[webhooks ä»‹ç»](https://www.yuque.com/yuque/developer/doc-webhook#4da6e742)ï¼Œè¯­é›€çš„å›è°ƒå‡½æ•°æ˜¯ä¸€ä¸ª Post æ¥å£\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FiolJEozqoDDhLhUp3ebRyctkYD7.png)\n\n\næ‰€ä»¥å¯ä»¥æœ‰ä»¥ä¸‹ä¸¤ç§å¤„ç†æ–¹æ³•ä¼ å‚æ•°\n\n- å°†éœ€è¦çš„å‚æ•°æ‹¼æ¥åœ¨è°ƒç”¨é“¾æ¥ä¸Šï¼Œé€šè¿‡`@Query()`æ‹¿åˆ°å‚æ•°\n- åˆ©ç”¨åŠ¨æ€è·¯ç”±ä¼ å‚æ•°ï¼Œé€šè¿‡`this.ctx.params`æ‹¿åˆ°å‚æ•°\n\n## GithubService\n\n\n```typescript\nimport { Provide } from \"@midwayjs/decorator\";\nimport axios from \"axios\";\n\n@Provide()\nexport class GithubService {\n  /**\n   * è§¦å‘Github Actions\n   * @param repo\n   * @param event_type\n   */\n  async action(repo: string, event_type: string): Promise<any> {\n    try {\n      const res = await axios.post(\n        `https://api.github.com/repos/LetTTGACO/${repo}/dispatches`,\n        { event_type },\n        {\n          headers: {\n            Accept: \"*/*\",\n            Authorization: \"token Githubè®¿é—®Token\",\n          },\n        }\n      );\n      if (res.status === 204) {\n        return \"This is OK!\";\n      }\n    } catch (e) {\n      return e.message;\n    }\n  }\n}\n```\n\n\n# Done!\n\n\nå¤§åŠŸå‘Šæˆï¼Œæ¥ä¸‹æ¥å°±æ˜¯æ„å»ºå’Œéƒ¨ç½²é˜¶æ®µäº†ï¼Œè¯¦æƒ…è¯·çœ‹\n\n\n[bookmark](https://1874.cool/ovugli)\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2022-07-16",
        "type": "Post",
        "slug": "zbbxv0",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "æœ¬æ–‡è®°å½•äº†åœ¨è¯­é›€äº‘ç«¯å†™ä½œ Hexo+Github Actions+COS æŒç»­é›†æˆä¸­ï¼Œæ­å»º Node é¡¹ç›®ä½œä¸ºä¸­è½¬ç«™çš„è¿‡ç¨‹ã€‚é€šè¿‡åˆå§‹åŒ– Midwayï¼Œç¼–å†™ GithubController å’Œ GithubServiceï¼Œå®ç°äº†é€šè¿‡ Github Actions çš„æ¥å£è§¦å‘æ„å»ºæµç¨‹ã€‚è¯¦ç»†å†…å®¹è¯·è§æ–‡ç« ã€‚",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:24:00.000Z",
        "title": "Midwayé¡¹ç›®æ­å»ºè®°å½•",
        "category": "å­¦ä¹ ç¬”è®°",
        "tags": [
          "Node",
          "Midway"
        ],
        "status": "Archived",
        "urlname": "02209783-f54d-4d2e-9a4e-508c42e43ad9",
        "updated": "2023-08-26 15:24:00"
      },
      "body": "",
      "realName": "Midwayé¡¹ç›®æ­å»ºè®°å½•",
      "relativePath": "/Midwayé¡¹ç›®æ­å»ºè®°å½•.md"
    },
    {
      "id": "c28edc25-f869-45dd-875e-0e7396067ac4",
      "doc_id": "c28edc25-f869-45dd-875e-0e7396067ac4",
      "updated": 1693063320000,
      "body_original": "\n# å¼•è¨€\n\n\nå‰æ®µæ—¶é—´å†™äº† [yuque-hexo æ’ä»¶è¯­é›€å›¾ç‰‡é˜²ç›—é“¾çš„è§£å†³æ–¹æ¡ˆ](https://www.yuque.com/1874w/1874.cool/osar7h)ã€‚å½“æ—¶ä½¿ç”¨çš„æ˜¯è…¾è®¯äº‘å›¾åºŠï¼Œåæ¥è€ƒè™‘åˆ°å¯ä»¥æ”¯æŒæ›´å¤šçš„å›¾åºŠé€‰æ‹©ã€‚è¿™æ¬¡çš„æ”¹é€ æ–°å¢äº†é˜¿é‡Œäº‘å›¾åºŠå’Œä¸ƒç‰›äº‘å›¾åºŠã€‚\n\n\n## é˜¿é‡Œäº‘å›¾åºŠ\n\n\né˜¿é‡Œäº‘å›¾åºŠç›®å‰å„å¤§å…¬å¸ä¹Ÿéƒ½åœ¨ç”¨ï¼ŒæŠ€æœ¯æˆç†Ÿç¨³å®šï¼Œä½†ä¹Ÿå’Œè…¾è®¯äº‘å›¾åºŠä¸€æ ·ï¼Œæ˜¯æ”¶è´¹çš„ã€‚ä½†æ˜¯ä½œä¸ºä¸ªäººåšå®¢å›¾åºŠçš„è¯ï¼Œè…¾è®¯äº‘ COS å’Œé˜¿é‡Œäº‘ OSS çš„è´¹ç”¨éƒ½ç›¸å½“çš„ä¾¿å®œï¼Œä¸€ä¸ªæœˆçš„è´¹ç”¨å¤§æ¦‚éƒ½åœ¨å‡ åˆ†é’±åˆ°å‡ æ¯›é’±çš„èŒƒå›´ã€‚\n\n\n## ä¸ƒç‰›äº‘å›¾åºŠ\n\n\nä¸ƒç‰›äº‘å›¾åºŠä¸ºä¸ªäººæä¾› 10G çš„å…è´¹å­˜å‚¨ç©ºé—´å’Œå®Œå…¨å¤Ÿç”¨çš„å…è´¹è¯»å†™æµé‡ï¼Œç”¨æ¥ä½œä¸ºåšå®¢å›¾åºŠå†åˆé€‚ä¸è¿‡äº†ã€‚ç¼ºç‚¹å°±æ˜¯ä¸ƒç‰›äº‘å›¾åºŠé»˜è®¤ä½¿ç”¨ CDN åŸŸåè¿›è¡Œå¤–é“¾è®¿é—®ï¼Œè€Œä¸”æ˜¯ 30 å¤©çš„ä¸´æ—¶åŸŸåï¼Œæ‰€ä»¥å»ºè®®ç»‘å®šä¸€ä¸ªå¤‡æ¡ˆåŸŸåä½œä¸ºæ°¸ä¹… CND åŸŸåè¿›è¡Œè®¿é—®ã€‚\n\n\n# æ”¹é€ æ€è·¯\n\n\nç”±äºå„å¤§å›¾åºŠçš„ API ä½¿ç”¨æ–¹å¼ä¸å°½ç›¸åŒï¼Œæ‰€ä»¥éœ€è¦æŠ½ç¦»å‡ºä¸€ä¸ªé€‚é…å±‚è¿›è¡Œæ¥å£è°ƒç”¨çš„ç»Ÿä¸€ï¼Œé€šè¿‡ä¸åŒçš„é…ç½®è·å–ä¸åŒçš„å›¾åºŠå®ä¾‹è¿›è¡Œ API æ“ä½œã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fhhlf0McPMjB-ly-QqWXkn9W3tG-.jpeg)\n\n\n# å…·ä½“å®ç°\n\n\n## ç›®å½•ç»“æ„\n\n\n```typescript\n|--imageBeds\n|  |--index                 //æ¥å£ç»Ÿä¸€é€‚é…å±‚\n|  |--cos.js            //è…¾è®¯äº‘å›¾åºŠAPIæ“ä½œå±‚\n|  |--oss.js            //é˜¿é‡Œäº‘å›¾åºŠAPIæ“ä½œå±‚\n|  |--qiniu.js          //ä¸ƒç‰›äº‘å›¾åºŠAPIæ“ä½œå±‚\n\n```\n\n\n## ä»£ç å®ç°\n\n\n### æ¥å£ç»Ÿä¸€é€‚é…å±‚\n\n\n```javascript\n// imageBeds/index.js\n// æ¥å£ç»Ÿä¸€é€‚é…å±‚\n\n\"use strict\";\n// å¼•å…¥å›¾åºŠå®ä¾‹\nconst CosClient = require(\"./cos\");\nconst OssClient = require(\"./oss\");\nconst QiniuClient = require(\"./qiniu\");\nconst out = require(\"../../lib/out\");\n\n// ç›®å‰å·²é€‚é…å›¾åºŠåˆ—è¡¨\nconst imageBedList = [\"qiniu\", \"cos\", \"oss\"];\n\nclass ImageBeds {\n  constructor(config) {\n    // å®ä¾‹åŒ–æ—¶å…ˆèµ‹å€¼ä¿å­˜configé…ç½®\n    this.config = config;\n    // è·å–å›¾åºŠå®ä¾‹\n    this.imageBedInstance = this.getImageBedInstance(config.imageBed);\n  }\n  // å•ä¾‹æ¨¡å¼\n  static getInstance(config) {\n    if (!this.instance) {\n      this.instance = new ImageBeds(config);\n    }\n    return this.instance;\n  }\n\n  /**\n   * è·å–å›¾åºŠå¯¹è±¡çš„å®ä¾‹\n   *\n   * @param {string} imageBed å›¾åºŠç±»å‹: cos | oss\n   * @return {any} å›¾åºŠå®ä¾‹\n   */\n  getImageBedInstance(imageBed) {\n    if (!imageBedList.includes(imageBed)) {\n      out.error(`imageBedé…ç½®é”™è¯¯ï¼Œç›®å‰åªæ”¯æŒ${imageBedList.toString()}`);\n      process.exit(-1);\n    }\n    switch (imageBed) {\n      case \"cos\":\n        return CosClient.getInstance(this.config);\n      case \"oss\":\n        return OssClient.getInstance(this.config);\n      case \"qiniu\":\n        return QiniuClient.getInstance(this.config);\n      default:\n        return QiniuClient.getInstance(this.config);\n    }\n  }\n\n  /**\n   * æ£€æŸ¥å›¾åºŠæ˜¯å¦å·²ç»å­˜åœ¨å›¾ç‰‡ï¼Œå­˜åœ¨åˆ™è¿”å›url\n   *\n   * @param {string} fileName æ–‡ä»¶å\n   * @return {Promise<string>} å›¾ç‰‡url\n   */\n  async hasImage(fileName) {\n    return await this.imageBedInstance.hasImage(fileName);\n  }\n\n  /**\n   * ä¸Šä¼ å›¾ç‰‡åˆ°å›¾åºŠ\n   *\n   * @param {Buffer} imgBuffer æ–‡ä»¶buffer\n   * @param {string} fileName æ–‡ä»¶å\n   * @return {Promise<string>} å›¾åºŠçš„å›¾ç‰‡url\n   */\n  async uploadImg(imgBuffer, fileName) {\n    return await this.imageBedInstance.uploadImg(imgBuffer, fileName);\n  }\n}\n\nmodule.exports = ImageBeds;\n```\n\n\n### è…¾è®¯äº‘å›¾åºŠ API æ“ä½œå±‚\n\n\n```javascript\n// imageBeds/cos.js\n// è…¾è®¯äº‘å›¾åºŠAPIæ“ä½œå±‚\n// å¼€å‘æ–‡æ¡£: https://cloud.tencent.com/document/product/436/8629\n\n\"use strict\";\n\n// è…¾è®¯äº‘å›¾åºŠ\nconst COS = require(\"cos-nodejs-sdk-v5\");\nconst out = require(\"../../lib/out\");\n\nconst secretId = process.env.SECRET_ID;\nconst secretKey = process.env.SECRET_KEY;\n\nclass CosClient {\n  constructor(config) {\n    this.config = config;\n    // å®ä¾‹åŒ–è…¾è®¯äº‘COS\n    this.imageBedInstance = new COS({\n      SecretId: secretId, // èº«ä»½è¯†åˆ«ID\n      SecretKey: secretKey, // èº«ä»½ç§˜é’¥\n    });\n  }\n  // å•ä¾‹æ¨¡å¼\n  static getInstance(config) {\n    if (!this.instance) {\n      this.instance = new CosClient(config);\n    }\n    return this.instance;\n  }\n\n  /**\n   * æ£€æŸ¥å›¾åºŠæ˜¯å¦å·²ç»å­˜åœ¨å›¾ç‰‡ï¼Œå­˜åœ¨åˆ™è¿”å›url,ä¸å­˜åœ¨è¿”å›ç©º\n   *\n   * @param {string} fileName æ–‡ä»¶å\n   * @return {Promise<string>} å›¾ç‰‡url\n   */\n  async hasImage(fileName) {\n    try {\n      await this.imageBedInstance.headObject({\n        Bucket: this.config.bucket, // å­˜å‚¨æ¡¶åå­—ï¼ˆå¿…é¡»ï¼‰\n        Region: this.config.region, // å­˜å‚¨æ¡¶æ‰€åœ¨åœ°åŸŸï¼Œå¿…é¡»å­—æ®µ\n        Key: `${this.config.prefixKey}/${fileName}`, //  æ–‡ä»¶å  å¿…é¡»\n      });\n      return `https://${this.config.bucket}.cos.${this.config.region}.myqcloud.com/${this.config.prefixKey}/${fileName}`;\n    } catch (e) {\n      return \"\";\n    }\n  }\n\n  /**\n   * ä¸Šä¼ å›¾ç‰‡åˆ°å›¾åºŠ\n   *\n   * @param {Buffer} imgBuffer æ–‡ä»¶buffer\n   * @param {string} fileName æ–‡ä»¶å\n   * @return {Promise<string>} å›¾åºŠçš„å›¾ç‰‡url\n   */\n  async uploadImg(imgBuffer, fileName) {\n    try {\n      const res = await this.imageBedInstance.putObject({\n        Bucket: this.config.bucket, // å­˜å‚¨æ¡¶åå­—ï¼ˆå¿…é¡»ï¼‰\n        Region: this.config.region, // å­˜å‚¨æ¡¶æ‰€åœ¨åœ°åŸŸï¼Œå¿…é¡»å­—æ®µ\n        Key: `${this.config.prefixKey}/${fileName}`, //  æ–‡ä»¶å  å¿…é¡»\n        StorageClass: \"STANDARD\", // ä¸Šä¼ æ¨¡å¼ï¼ˆæ ‡å‡†æ¨¡å¼ï¼‰\n        Body: imgBuffer, // ä¸Šä¼ æ–‡ä»¶å¯¹è±¡\n      });\n      return `https://${res.Location}`;\n    } catch (e) {\n      out.error(`ä¸Šä¼ å›¾ç‰‡å¤±è´¥ï¼Œè¯·æ£€æŸ¥: ${e}`);\n      process.exit(-1);\n    }\n  }\n}\n\nmodule.exports = CosClient;\n```\n\n\n### é˜¿é‡Œäº‘å›¾åºŠ API æ“ä½œå±‚\n\n\n```javascript\n// imageBeds/oss.js\n// é˜¿é‡Œäº‘å›¾åºŠAPIæ“ä½œå±‚\n// å¼€å‘æ–‡æ¡£: https://help.aliyun.com/document_detail/32067.html\n\n\"use strict\";\n\n// é˜¿é‡Œäº‘å›¾åºŠ\nconst OSS = require(\"ali-oss\");\nconst out = require(\"../../lib/out\");\n\nconst secretId = process.env.SECRET_ID;\nconst secretKey = process.env.SECRET_KEY;\n\nclass OssClient {\n  constructor(config) {\n    this.config = config;\n    this.imageBedInstance = new OSS({\n      bucket: config.bucket,\n      // yourRegionå¡«å†™Bucketæ‰€åœ¨åœ°åŸŸã€‚ä»¥åä¸œ1ï¼ˆæ­å·ï¼‰ä¸ºä¾‹ï¼ŒRegionå¡«å†™ä¸ºoss-cn-hangzhouã€‚\n      region: config.region,\n      // é˜¿é‡Œäº‘è´¦å·AccessKeyæ‹¥æœ‰æ‰€æœ‰APIçš„è®¿é—®æƒé™ï¼Œé£é™©å¾ˆé«˜ã€‚å¼ºçƒˆå»ºè®®æ‚¨åˆ›å»ºå¹¶ä½¿ç”¨RAMç”¨æˆ·è¿›è¡ŒAPIè®¿é—®æˆ–æ—¥å¸¸è¿ç»´ï¼Œè¯·ç™»å½•RAMæ§åˆ¶å°åˆ›å»ºRAMç”¨æˆ·ã€‚\n      accessKeyId: secretId,\n      accessKeySecret: secretKey,\n    });\n  }\n  // å•ä¾‹æ¨¡å¼\n  static getInstance(config) {\n    if (!this.instance) {\n      this.instance = new OssClient(config);\n    }\n    return this.instance;\n  }\n\n  /**\n   * æ£€æŸ¥å›¾åºŠæ˜¯å¦å·²ç»å­˜åœ¨å›¾ç‰‡ï¼Œå­˜åœ¨åˆ™è¿”å›url,ä¸å­˜åœ¨è¿”å›ç©º\n   *\n   * @param {string} fileName æ–‡ä»¶å\n   * @return {Promise<string>} å›¾ç‰‡url\n   */\n  async hasImage(fileName) {\n    try {\n      await this.imageBedInstance.head(`${this.config.prefixKey}/${fileName}`);\n      return `https://${this.config.bucket}.${this.config.region}.aliyuncs.com/${this.config.prefixKey}/${fileName}`;\n    } catch (e) {\n      return \"\";\n    }\n  }\n\n  /**\n   * ä¸Šä¼ å›¾ç‰‡åˆ°å›¾åºŠ\n   *\n   * @param {Buffer} imgBuffer æ–‡ä»¶buffer\n   * @param {string} fileName æ–‡ä»¶å\n   * @return {Promise<string>} å›¾åºŠçš„å›¾ç‰‡url\n   */\n  async uploadImg(imgBuffer, fileName) {\n    try {\n      const res = await this.imageBedInstance.put(\n        `${this.config.prefixKey}/${fileName}`,\n        imgBuffer\n      );\n      return res.url;\n    } catch (e) {\n      out.error(`ä¸Šä¼ å›¾ç‰‡å¤±è´¥ï¼Œè¯·æ£€æŸ¥: ${e}`);\n      process.exit(-1);\n    }\n  }\n}\n\nmodule.exports = OssClient;\n```\n\n\n### ä¸ƒç‰›äº‘å›¾åºŠ API æ“ä½œå±‚\n\n\n```javascript\n// imageBeds/qiniu.js\n// ä¸ƒç‰›äº‘å›¾åºŠAPIæ“ä½œå±‚\n// ä¸ƒç‰›äº‘çš„ä¸Šä¼ ç¨‹åºç›¸å¯¹æ¯”è¾ƒå¤æ‚ï¼Œè¯¦æƒ…è¯·æŸ¥çœ‹sdkæ–‡æ¡£https://developer.qiniu.com/kodo/1289/nodejs\n\n\"use strict\";\n\n// ä¸ƒç‰›äº‘å›¾åºŠ\nconst qiniu = require(\"qiniu\");\nconst out = require(\"../../lib/out\");\n\nconst secretId = process.env.SECRET_ID;\nconst secretKey = process.env.SECRET_KEY;\n\nclass QiniuClient {\n  constructor(config) {\n    this.config = config;\n    this.init();\n  }\n\n  init() {\n    if (!this.config.host) {\n      out.error(\"ä½¿ç”¨ä¸ƒç‰›äº‘æ—¶ï¼Œéœ€è¦åœ¨imgCdnä¸­æŒ‡å®šåŸŸåhost\");\n      process.exit(-1);\n    }\n    const mac = new qiniu.auth.digest.Mac(secretId, secretKey);\n    // é…ç½®\n    const putPolicy = new qiniu.rs.PutPolicy({ scope: this.config.bucket });\n    // è·å–ä¸Šä¼ å‡­è¯\n    this.uploadToken = putPolicy.uploadToken(mac);\n    const config = new qiniu.conf.Config();\n    // ç©ºé—´å¯¹åº”çš„æœºæˆ¿\n    config.zone = qiniu.zone[this.config.region];\n    this.formUploader = new qiniu.form_up.FormUploader(config);\n    this.bucketManager = new qiniu.rs.BucketManager(mac, config);\n    this.putExtra = new qiniu.form_up.PutExtra();\n  }\n\n  static getInstance(config) {\n    if (!this.instance) {\n      this.instance = new QiniuClient(config);\n    }\n    return this.instance;\n  }\n\n  /**\n   * æ£€æŸ¥å›¾åºŠæ˜¯å¦å·²ç»å­˜åœ¨å›¾ç‰‡ï¼Œå­˜åœ¨åˆ™è¿”å›url,ä¸å­˜åœ¨è¿”å›ç©º\n   *\n   * @param {string} fileName æ–‡ä»¶å\n   * @return {Promise<string>} å›¾ç‰‡url\n   */\n  async hasImage(fileName) {\n    return await new Promise((resolve) => {\n      this.bucketManager.stat(\n        this.config.bucket,\n        `${this.config.prefixKey}/${fileName}`,\n        (err, respBody, respInfo) => {\n          if (err) {\n            out.error(`ä¸Šä¼ å›¾ç‰‡å¤±è´¥ï¼Œè¯·æ£€æŸ¥: ${err}`);\n            process.exit(-1);\n          } else {\n            if (respInfo.statusCode === 200) {\n              resolve(\n                `${this.config.host}/${this.config.prefixKey}/${fileName}`\n              );\n            } else {\n              resolve(\"\");\n            }\n          }\n        }\n      );\n    });\n  }\n\n  /**\n   * ä¸Šä¼ å›¾ç‰‡åˆ°å›¾åºŠ\n   *\n   * @param {Buffer} imgBuffer æ–‡ä»¶buffer\n   * @param {string} fileName æ–‡ä»¶å\n   * @return {Promise<string>} å›¾åºŠçš„å›¾ç‰‡url\n   */\n  async uploadImg(imgBuffer, fileName) {\n    return await new Promise((resolve) => {\n      this.formUploader.put(\n        this.uploadToken,\n        `${this.config.prefixKey}/${fileName}`,\n        imgBuffer,\n        this.putExtra,\n        (respErr, respBody, respInfo) => {\n          if (respErr) {\n            out.error(`ä¸Šä¼ å›¾ç‰‡å¤±è´¥ï¼Œè¯·æ£€æŸ¥: ${respErr}`);\n            process.exit(-1);\n          }\n          if (respInfo.statusCode === 200) {\n            resolve(`${this.config.host}/${this.config.prefixKey}/${fileName}`);\n          } else {\n            out.error(`ä¸Šä¼ å›¾ç‰‡å¤±è´¥ï¼Œè¯·æ£€æŸ¥: ${respInfo}`);\n            process.exit(-1);\n          }\n        }\n      );\n    });\n  }\n}\n\nmodule.exports = QiniuClient;\n```\n\n\n# å¤§åŠŸå‘Šæˆï¼\n\n\nä½¿ç”¨æ—¶ï¼Œåªéœ€è¦åœ¨ä¸Šå±‚ä¼ å…¥ config é…ç½®ï¼Œè·å–æ¥å£é€‚é…å±‚å®ä¾‹ï¼Œå¹¶æ›¿æ¢åŸæœ‰çš„ä¸Šä¼ å›¾ç‰‡æ¥å£å³å¯ã€‚\n\n\næ›´å¤šæºä»£ç è¯¦æƒ…ï¼Œè¯·æŸ¥çœ‹[yuqe-hexo-with-cdn](https://github.com/LetTTGACO/yuque-hexo-with-cdn)\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2022-02-12",
        "type": "Post",
        "slug": "nvikqw",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "è¿™æ˜¯ä¸€ä¸ªæ”¯æŒå¤šä¸ªå›¾åºŠçš„æ’ä»¶ï¼Œç”¨äºåœ¨åšå®¢ä¸­ä¸Šä¼ å›¾ç‰‡ã€‚ç›®å‰å·²é€‚é…çš„å›¾åºŠåŒ…æ‹¬è…¾è®¯äº‘ã€é˜¿é‡Œäº‘å’Œä¸ƒç‰›äº‘ã€‚è¯¥æ’ä»¶æä¾›äº†ä¸€ä¸ªæ¥å£é€‚é…å±‚ï¼Œä½¿å¾—ä¸Šå±‚åœ¨ä½¿ç”¨æ—¶å¯ä»¥ä¼ å…¥ä¸åŒçš„é…ç½®å‚æ•°é€‰æ‹©ä¸åŒçš„å›¾åºŠã€‚æ›´å¤šè¯¦æƒ…è¯·æŸ¥çœ‹yuqe-hexo-with-cdnã€‚",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:22:00.000Z",
        "title": "yuqe-hexo-with-cdnæ’ä»¶æ”¯æŒå¤šå›¾åºŠ",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Hexo"
        ],
        "status": "Archived",
        "urlname": "c28edc25-f869-45dd-875e-0e7396067ac4",
        "updated": "2023-08-26 15:22:00"
      },
      "body": "",
      "realName": "yuqe-hexo-with-cdnæ’ä»¶æ”¯æŒå¤šå›¾åºŠ",
      "relativePath": "/yuqe-hexo-with-cdnæ’ä»¶æ”¯æŒå¤šå›¾åºŠ.md"
    },
    {
      "id": "8e09392b-f4ba-4969-8f3f-d47d779f6ff3",
      "doc_id": "8e09392b-f4ba-4969-8f3f-d47d779f6ff3",
      "updated": 1693063320000,
      "body_original": "\n# å¼•è¨€\n\n\nåœ¨æˆ‘æ¥è§¦å‰ç«¯ä»¥æ¥ï¼Œç”¨çš„éƒ½æ˜¯è„šæ‰‹æ¶æˆ–è€…æ˜¯åˆ«äººå°è£…å¥½çš„å‰ç«¯æ¡†æ¶ã€‚å¯¹äº`webpack`ï¼Œæˆ‘ä¸€ç›´å¤„äºä¸€çŸ¥åŠè§£çš„çŠ¶æ€ï¼Œå»å¹´åœ¨æ­å»ºå¤šé¡µé¢æ„å»ºçš„æ—¶å€™ï¼Œä¸€ç›´æå®šä¸äº†å¤šé¡µé¢æ„å»ºçš„é—®é¢˜ã€‚è€ƒè™‘åˆ°åé¢è¿˜ä¼šæ¥æ­å»º`webpack`ï¼Œæ‰€ä»¥æœ€è¿‘å­¦å­¦`webpack`ï¼Œç»“æœä¸€ä¸Šæ¥å°±å‡ºé”™ï¼Œä¸€è„¸æ‡µé€¼ã€‚\n\n\n# å‡ºç°å¼‚å¸¸\n\n\nå®‰è£…çš„éƒ½æ˜¯æœ€æ–°ç‰ˆæœ¬çš„`webpack`åŠç›¸å…³ä¾èµ–ã€‚\n\n\n```text\n\"devDependencies\": {\n    \"@babel/core\": \"^7.12.10\",\n    \"@babel/preset-env\": \"^7.12.11\",\n    \"@babel/preset-react\": \"^7.12.10\",\n    \"babel-loader\": \"^8.2.2\",\n    \"css-loader\": \"^5.0.1\",\n    \"file-loader\": \"^6.2.0\",\n    \"html-webpack-plugin\": \"^4.5.1\",\n    \"less\": \"^4.0.0\",\n    \"less-loader\": \"^7.2.1\",\n    \"react\": \"^17.0.1\",\n    \"react-dom\": \"^17.0.1\",\n    \"style-loader\": \"^2.0.0\",\n    \"url-loader\": \"^4.1.1\",\n    \"webpack\": \"^5.11.1\",\n    \"webpack-cli\": \"^4.3.1\",\n    \"webpack-dev-server\": \"^3.11.1\"\n  }\n```\n\n\nåœ¨è¿è¡Œ `webpack-dev-server --open` æ—¶ï¼ŒæŠ¥é”™å¦‚ä¸‹ï¼š\n\n\n```text\n> webpack-dev-server --open\n\ninternal/modules/cjs/loader.js:979\n  throw err;\n  ^\nError: Cannot find module 'webpack-cli/bin/config-yargs'\nRequire stack:\n- /Users/xxx/workSpace/webpack/node_modules/webpack-dev-server/bin/webpack-dev-server.js\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:976:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:859:27)\n    at Module.require (internal/modules/cjs/loader.js:1036:19)\n    at require (internal/modules/cjs/helpers.js:72:18)\n    at Object.<anonymous> (/Users/fangpengfei/workSpace/webpack/node_modules/webpack-dev-server/bin/webpack-dev-server.js:65:1)\n    at Module._compile (internal/modules/cjs/loader.js:1147:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1167:10)\n    at Module.load (internal/modules/cjs/loader.js:996:32)\n    at Function.Module._load (internal/modules/cjs/loader.js:896:14)\n    at Function.executeUserEntryPoint [as runMain] (internal/modules/run_main.js:71:12) {\n  code: 'MODULE_NOT_FOUND',\n  requireStack: [\n    '/Users/xxx/workSpace/webpack/node_modules/webpack-dev-server/bin/webpack-dev-server.js'\n  ]\n}\n```\n\n\n# å¼‚å¸¸åŸå› \n\n\nå»`Google`åå‘ç°éƒ½æ˜¯è®©é‡æ–°å®‰è£…ä½ç‰ˆæœ¬çš„`webpack-cli`ï¼Œå› ä¸ºç‰ˆæœ¬ä¸å…¼å®¹ï¼æƒ³äº†æƒ³ä¸å¯¹åŠ²å•Šï¼Œæ—¢ç„¶ç‰ˆæœ¬ä¸å…¼å®¹ï¼Œä¸ºä»€ä¹ˆä¸è§£å†³å‘¢ï¼Œçœ‹äº†ä¸‹å‡ºç°é—®é¢˜çš„æ—¶é—´éƒ½æ˜¯å»å¹´ç”šè‡³å‰å¹´äº†ï¼Œéš¾é“å®˜æ–¹å°±ä¸è€ƒè™‘è§£å†³å—ï¼Ÿè¿™ä¸ªè§£å†³åŠæ³•æˆ‘ä¸æ¥å—ã€‚æŒ‰ç…§å›½é™…æƒ¯ä¾‹ï¼Œæˆ‘å»`Github`ä¸Šçš„[webpack-dev-server Issues](https://github.com/webpack/webpack-dev-server/issues/2759)å»å¯»æ‰¾ç­”æ¡ˆï¼Œæœç„¶ä¸å‡ºæˆ‘æ‰€æ–™ï¼š\n\n\n```text\nYes - webpack-dev-server does not work with webpack-cli v4\nCan you try ? webpack serve\n```\n\n\nåœ¨`webpack-cli v4` ä¸­å·²ç»ä¸æ”¯æŒç”¨`webpack-dev-server`ç›´æ¥è°ƒç”¨äº†ï¼ åº”è¯¥ Â  ç”¨`webpack serve`æ¥æ›¿æ¢`webpack-dev-server`\n\n\n# è§£å†³åŠæ³•\n\n\nå½“ç„¶æ˜¯ä½¿ç”¨æ–°ç‰ˆæœ¬çš„å¯åŠ¨æ–¹æ³•å•Šï¼\n\n\n```text\n\"scripts\": {\n    \"build\": \"webpack\",\n    \"watch\": \"webpack --watch\",\n    \"dev\": \"webpack serve --open\", // ç›¸å½“äºæ—§ç‰ˆæœ¬çš„webpack-dev-server --open\n  },\n```\n\n\n> æ³¨æ„ï¼šæ˜¯webpack serve è€Œä¸æ˜¯webpack serverï¼Œä¸è¦å¤šä¸€ä¸ª r é¡ºå¸¦é™„ä¸Šwebpack-dev-serverçš„æ–°ç‰ˆæœ¬æ–‡æ¡£ï¼Œæ–‡æ¡£é‡Œé¢ä¹Ÿæ¢æˆäº†æ–°çš„å¯åŠ¨æ–¹å¼ã€‚\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2021-01-09",
        "type": "Post",
        "slug": "fqx1vy",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:22:00.000Z",
        "title": "webpack-dev-serverå¯åŠ¨æ‰¾ä¸åˆ°config-yargs",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Webpack"
        ],
        "status": "Archived",
        "urlname": "8e09392b-f4ba-4969-8f3f-d47d779f6ff3",
        "updated": "2023-08-26 15:22:00"
      },
      "body": "",
      "realName": "webpack-dev-serverå¯åŠ¨æ‰¾ä¸åˆ°config-yargs",
      "relativePath": "/webpack-dev-serverå¯åŠ¨æ‰¾ä¸åˆ°config-yargs.md"
    },
    {
      "id": "506adb06-6632-4133-be32-171a4ec0af21",
      "doc_id": "506adb06-6632-4133-be32-171a4ec0af21",
      "updated": 1693063320000,
      "body_original": "\n## å¼•è¨€\n\n\nå‰ç«¯ä»£ç è§„èŒƒå·²ç»æŠ˜éº½æˆ‘æ— æ•°æ¬¡äº†ï¼Œæ¯æ¬¡æ¥åˆ«äººçš„é¡¹ç›®ï¼Œä¸€æ‰“å¼€é¡¹ç›®ä¸€ç‰‡çº¢ï¼Œæ›´è¦å‘½çš„æ˜¯ç”¨`eslint --fix` ä¹Ÿæ— æµäºäº‹ï¼Œä¸æ˜¯å’Œ Prettier å†²çªï¼Œå°±æ˜¯å’Œ Editorconfig å†²çªï¼Œæ ¼å¼åŒ–å‡ºæ¥çš„ä»£ç ä¾ç„¶æŠ¥é”™ã€‚ååé¡¹ç›®è¿˜ä½¿ç”¨äº†`lint-staged`ï¼Œå¯¼è‡´ç»å¸¸ä»£ç ç»å¸¸å› ä¸ºä»£ç æ ¼å¼é—®é¢˜æäº¤ä¸ä¸Šå»ï¼\n\n\næˆ‘è‡ªå·±ä¸€ç›´ä»¥æ¥éƒ½ä¹ æƒ¯ç”¨ WebStorm æ¥å¼€å‘ï¼Œå…¶ä»–å¤§éƒ¨åˆ†äººéƒ½ç”¨çš„ VSCode ï¼Œå› ä¸ºå¼€å‘å·¥å…·çš„é…ç½®å·®å¼‚ï¼Œå¯¼è‡´åˆ«äººçš„ VSCode ä»£ç æ£€æŸ¥ä¸æŠ¥é”™ï¼Œè€Œåˆ°äº†æˆ‘çš„æ‰‹ä¸Šå°±ä¸€ç‰‡çº¢ã€‚\n\n\næ¥æ¥å›å›æŠ˜è…¾äº†å‡ ä¸ªé¡¹ç›®åï¼Œæˆ‘å†³å®šç»Ÿä¸€å›¢é˜Ÿçš„å¼€å‘è§„èŒƒï¼Œå¹¶é€‚é…å› ä¸ºå¼€å‘å·¥å…·è€Œå¯¼è‡´ä»£ç æ£€æŸ¥å·®å¼‚ï¼\n\n\nåœ¨è¸©å‘äº†å‡ ä¸ªæ—¥å¤œåï¼Œç»ˆäºæå‡ºäº†ä¸€å¥—ä»£ç è§„èŒƒï¼Œä¸ä»…èƒ½é€‚é…å„ä¸ªå¼€å‘å·¥å…·ï¼Œä¹Ÿèƒ½åœ¨æ­¤åŸºç¡€ä¸Šè§„èŒƒå›¢é˜Ÿçš„ä»£ç è§„èŒƒã€‚\n\n\n## ä»£ç é£æ ¼\n\n\næ­¤æ¬¡é‡‡ç”¨çš„æ–¹æ¡ˆæ˜¯ Eslint + Prettier çš„ç»„åˆï¼Œ Eslint é‡‡ç”¨çš„æ˜¯è…¾è®¯ Â AlloyTeam åˆ›ç«‹çš„ä¸€å¥— Â ESLint Â  è§„åˆ™[eslint-config-alloy](https://github.com/AlloyTeam/eslint-config-alloy) ï¼Œè‡ª 2017 å¹´ 8 æœˆå‘å¸ƒç¬¬ä¸€ä¸ªç‰ˆæœ¬ä»¥æ¥ï¼Œä¸çŸ¥ä¸è§‰ä¸­å·²ç»æ”¶è·åˆ° `1.8k stars`ï¼Œè¶…è¿‡äº† [eslint-config-google](https://github.com/google/eslint-config-google)ï¼Œæˆä¸ºäº†ä¸–ç•Œä¸Šæ’åç¬¬ä¸‰çš„ Â ESLint Â  è§„èŒƒã€‚\n\n\n### \n\n\n### è®¾è®¡ç†å¿µ\n\n- æ ·å¼ç›¸å…³çš„è§„åˆ™äº¤ç»™ [Prettier](https://prettier.io/) ç®¡ç†\n- ä¼ æ‰¿ ESLint çš„ç†å¿µï¼Œå¸®åŠ©å¤§å®¶å»ºç«‹è‡ªå·±çš„è§„åˆ™\n\n### æ ·å¼ç›¸å…³çš„è§„åˆ™äº¤ç»™ [Prettier](https://prettier.io/) ç®¡ç†\n\n\nPrettier æ˜¯ä¸€ä¸ªä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œç›¸æ¯”äº ESLint ä¸­çš„ä»£ç æ ¼å¼è§„åˆ™ï¼Œå®ƒæä¾›äº†æ›´å°‘çš„é€‰é¡¹ï¼Œä½†æ˜¯å´æ›´åŠ ä¸“ä¸šã€‚\n\n\nå¦‚ä»Š Prettier å·²ç»æˆä¸ºå‰ç«¯é¡¹ç›®ä¸­çš„å¿…å¤‡å·¥å…·ï¼Œeslint-config-alloy ä¹Ÿæ²¡æœ‰å¿…è¦å†å»ç»´æŠ¤ ESLint ä¸­çš„ä»£ç æ ¼å¼ç›¸å…³çš„è§„åˆ™äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ v3 ç‰ˆæœ¬ä¸­å½»åº•å»æ‰äº†æ‰€æœ‰ Prettier ç›¸å…³çš„è§„åˆ™ï¼Œç”¨ ESLint æ¥æ£€æŸ¥å®ƒæ›´æ“…é•¿çš„é€»è¾‘é”™è¯¯ã€‚\n\n\nè‡³äºç¼©è¿›è¦ä¸¤ä¸ªç©ºæ ¼è¿˜æ˜¯å››ä¸ªç©ºæ ¼ï¼Œæœ«å°¾è¦ä¸è¦åˆ†å·ï¼Œå¯ä»¥åœ¨é¡¹ç›®çš„ `.prettierrc.js` ä¸­å»é…ç½®ï¼Œå½“ç„¶ä¹Ÿæä¾›äº†ä¸€ä»½æ¨èçš„ Prettier é…ç½®ä¾›å¤§å®¶å‚è€ƒã€‚\n\n\n### ä¼ æ‰¿ [ESLint çš„ç†å¿µ](https://eslint.org/docs/about/#philosophy)ï¼Œå¸®åŠ©å¤§å®¶å»ºç«‹è‡ªå·±çš„è§„åˆ™\n\n\nå¤§å®¶è¿˜è®°å¾— ESLint æ˜¯æ€ä¹ˆæ‰“è´¥ JSHint æˆä¸ºæœ€å—æ¬¢è¿çš„ js ä»£ç æ£€æŸ¥å·¥å…·å—ï¼Ÿå°±æ˜¯å› ä¸º ESLint æ¨å´‡çš„æ’ä»¶åŒ–ã€é…ç½®åŒ–ï¼Œæ»¡è¶³äº†ä¸åŒå›¢é˜Ÿä¸åŒæŠ€æœ¯æ ˆçš„ä¸ªæ€§çš„éœ€æ±‚ã€‚\n\n\næ‰€ä»¥ eslint-config-alloy ä¹Ÿä¼ æ‰¿äº† ESLint çš„è®¾è®¡ç†å¿µï¼Œä¸ä¼šå¼ºè°ƒå¿…é¡»è¦ä½¿ç”¨æˆ‘ä»¬è¿™å¥—è§„åˆ™ï¼Œè€Œæ˜¯é€šè¿‡æ–‡æ¡£ã€ç¤ºä¾‹ã€æµ‹è¯•ã€ç½‘ç«™ç­‰æ–¹ä¾¿å¤§å®¶å‚è€ƒ alloy çš„è§„åˆ™ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šåšå‡ºè‡ªå·±çš„ä¸ªæ€§åŒ–ã€‚\n\n\nç”±äº React/Vue/TypeScript æ’ä»¶çš„æ–‡æ¡£æ²¡æœ‰ä¸­æ–‡åŒ–ï¼ˆæˆ–ä¸­æ–‡çš„ç‰ˆæœ¬å¾ˆæ»åï¼‰ï¼Œæ‰€ä»¥ alloy çš„æ–‡æ¡£å¾ˆå¤§ç¨‹åº¦ä¸Šå¸®åŠ©äº†å›½å†…å¼€å‘è€…ç†è§£å’Œé…ç½®ä¸ªæ€§åŒ–çš„è§„åˆ™ã€‚\n\n\nå®é™…ä¸Šå›½å†…æœ‰å¾ˆå¤šå›¢é˜Ÿæˆ–ä¸ªäººå…¬å¼€çš„ ESLint é…ç½®ï¼Œéƒ½å‚è€ƒäº† alloy çš„æ–‡æ¡£ã€‚\n\n\n### ä¸ºä»€ä¹ˆè¦é‡å¤é€ è½®å­\n\n\nå…¶å®æˆ‘ä»¬å›¢é˜Ÿæœ€å¼€å§‹ä½¿ç”¨ airbnb è§„åˆ™ï¼Œä½†æ˜¯ç”±äºå®ƒè¿‡äºä¸¥æ ¼ï¼Œéƒ¨åˆ†è§„åˆ™è¿˜æ˜¯éœ€è¦ä¸ªæ€§åŒ–ï¼Œå¯¼è‡´åæ¥è¶Šæ”¹è¶Šå¤šï¼Œæœ€åå†³å®šé‡æ–°ç»´æŠ¤ä¸€å¥—ã€‚ç»è¿‡ä¸¤å¹´å¤šçš„æ‰“ç£¨ï¼Œç°åœ¨ eslint-config-alloy å·²ç»éå¸¸æˆç†Ÿä¸å…ˆè¿›ï¼Œä¹Ÿå—åˆ°äº†å…¬å¸å†…å¤–å¾ˆå¤šå›¢é˜Ÿçš„æ¬¢è¿ã€‚\n\n\n### ä¸ºä»€ä¹ˆä¸ç”¨ standard\n\n\nstandard è§„èŒƒè®¤ä¸ºå¤§å®¶ä¸åº”è¯¥æµªè´¹æ—¶é—´åœ¨ä¸ªæ€§åŒ–çš„è§„èŒƒäº†ï¼Œè€Œåº”è¯¥æ•´ä¸ªç¤¾åŒºç»Ÿä¸€ä¸€ä»½è§„èŒƒã€‚è¿™ç§è¯´æ³•æœ‰ä¸€å®šé“ç†ï¼Œä½†æ˜¯å®ƒæ˜¯ä¸ ESLint çš„è®¾è®¡ç†å¿µèƒŒé“è€Œé©°çš„ã€‚\n\n\n### ç›¸æ¯”äº airbnb è§„åˆ™æœ‰ä»€ä¹ˆä¼˜åŠ¿\n\n- eslint-config-alloy æ‹¥æœ‰å®˜æ–¹ç»´æŠ¤çš„ vueã€typescriptã€react+typescript è§„åˆ™ï¼Œç›¸æ¯”ä¹‹ä¸‹ airbnb çš„ vue å’Œ typescript éƒ½æ˜¯ç¬¬ä¸‰æ–¹ç»´æŠ¤çš„\n- å…ˆè¿›æ€§ï¼Œä¿è¯èƒ½å¤Ÿä¸æ—¶ä¿±è¿›ï¼Œå‰é¢å·²ç»é‡ç‚¹æåˆ°äº†\n- æ–¹ä¾¿ä¸ªæ€§åŒ–å®šåˆ¶ï¼ŒåŒ…å«ä¸­æ–‡è®²è§£å’Œç½‘ç«™ç¤ºä¾‹\n\n### ä½ è¿™ä¸ªç¡®å®å¾ˆå¥½ï¼Œæˆ‘è¿˜æ˜¯ä¼šé€‰æ‹© airbnb\n\n\næ²¡å…³ç³»ï¼Œeslint-config-alloy ä»è®¾è®¡ç†å¿µä¸Šå°±ç›¸ä¿¡ä¸åŒå›¢é˜Ÿä¸åŒé¡¹ç›®å¯ä»¥æœ‰ä¸åŒçš„é…ç½®ï¼Œè™½ç„¶ä½ é€‰æ‹©ä½¿ç”¨ airbnbï¼Œä½†æ˜¯å½“ä½ æœ‰ä¸ªæ€§åŒ–é…ç½®éœ€æ±‚çš„æ—¶å€™ï¼Œè¿˜æ˜¯å¯ä»¥æ¥æˆ‘ä»¬[ç½‘ç«™](https://alloyteam.github.io/eslint-config-alloy/?language=zh-CN)ä¸Šå‚è€ƒä¸€ä¸‹å“¦~\n\n\n## å¼€å§‹é…ç½®\n\n\n### å®‰è£…ç›¸å…³ä¾èµ–\n\n\n```shell\nnpm install --save-dev eslint@7.17.0 babel-eslint@10.1.0 vue-eslint-parser@7.3.0 eslint-config-alloy@3 eslint-config-prettier@7.1.0 eslint-plugin-prettier@3.3.1 eslint-plugin-vue@7.4.1 vue-eslint-parser@7.3.0\n```\n\n\n### ä¾èµ–ç‰ˆæœ¬\n\n\n```json\n{\n  \"eslint\": \"7.17.0\",\n  \"babel-eslint\": \"10.1.0\",\n  \"eslint-config-alloy\": \"^3.10.0\",\n  \"eslint-config-prettier\": \"^7.1.0\",\n  \"eslint-plugin-prettier\": \"^3.3.1\",\n  \"eslint-plugin-vue\": \"7.4.1\",\n  \"vue-eslint-parser\": \"^7.3.0\",\n}\n```\n\n\n> æ³¨æ„ï¼šå¯ä»¥çœ‹åˆ°æˆ‘ä½¿ç”¨çš„ä¾èµ–åŸºæœ¬éƒ½æ˜¯æœ€æ–°çš„ç‰ˆæœ¬ï¼ŒåŸå› æ˜¯ä¹‹å‰ç‰ˆæœ¬æ¯”è¾ƒä½ï¼Œå‡ºç°äº†å¾ˆå¤šæ‰¾ä¸åˆ°ç›¸å…³è§„åˆ™çš„ errorã€‚æœ€åç½‘ä¸Šæ‰¾äº†å¥½ä¹…æ‰å‘ç° npm é»˜è®¤å®‰è£…çš„ç‰ˆæœ¬ç›¸å¯¹è¾ƒä½ï¼Œå¯¼è‡´å‡ºç°äº†å…¼å®¹æ€§é—®é¢˜ï¼Œç›´åˆ°å‡çº§åˆ°äº†é«˜ç‰ˆæœ¬åæ‰è§£å†³ã€‚\n\n\n### .eslintrc.js\n\n\n```javascript\nmodule.exports = {\n  root: true,\n  parserOptions: {\n    parser: 'babel-eslint',\n  },\n  env: {\n    browser: true,\n    es6: true,\n  },\n  extends: [\n    // https://github.com/AlloyTeam/eslint-config-alloy\n    'eslint-config-alloy/vue',\n    // https://github.com/vuejs/eslint-plugin-vue\n    'plugin:vue/essential',\n    // ç»“åˆ.prettierrc.jsä¸­çš„è§„åˆ™æ¥æ£€æŸ¥ä»£ç ï¼Œè¿™ä¸ªä¸€å®šè¦åŠ ï¼\n    'plugin:prettier/recommended',\n  ],\n  // required to lint *.vue files\n  plugins: ['vue'],\n  // add your custom rules here\n  rules: {\n    // è®©prettieræ‰¾å‡ºä»£ç ä¸­çš„æ ¼å¼é—®é¢˜\n    'prettier/prettier': 'error',\n    // è¿™ä¸ªé¡ºåºä¸çŸ¥é“ä¸ºå•¥ï¼Œæ˜æ˜ä¸ç”¨é…ç½®æ—¶ï¼Œ.vueæ–‡ä»¶templateæ ‡ç­¾åœ¨scriptå‰é¢é»˜è®¤åº”è¯¥ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æˆ‘è¿™è¾¹ä¸è¡Œï¼Œæ‰€ä»¥è‡ªå®šä¹‰äº†ä¸€ä¸‹\n    'vue/component-tags-order': [\n      'error',\n      {\n        order: [['template', 'script'], 'style'],\n      },\n    ],\n  },\n}\n```\n\n\n> å› ä¸ºå¤§éƒ¨åˆ†è§„åˆ™éƒ½ç»§æ‰¿äºeslint-config-alloy/vueï¼Œæ‰€ä»¥ä»£ç çš„è¯­æ³•é”™è¯¯å·²ç»ä¸éœ€è¦æˆ‘è‡ªå·±å»è§„å®šäº†ï¼Œ\n\n\n### .prettierrc.js\n\n\n```javascript\nmodule.exports = {\n  // ä¸€è¡Œæœ€å¤š 120 å­—ç¬¦\n  printWidth: 120,\n  // ä½¿ç”¨ 2 ä¸ªç©ºæ ¼ç¼©è¿›\n  tabWidth: 2,\n  // ä¸ä½¿ç”¨ç¼©è¿›ç¬¦ï¼Œè€Œä½¿ç”¨ç©ºæ ¼\n  useTabs: false,\n  // è¡Œå°¾ä¸éœ€è¦æœ‰åˆ†å·\n  semi: false,\n  // ä½¿ç”¨å•å¼•å·\n  singleQuote: true,\n  // å¯¹è±¡çš„ key ä»…åœ¨å¿…è¦æ—¶ç”¨å¼•å·\n  quoteProps: 'as-needed',\n  // jsx ä¸ä½¿ç”¨å•å¼•å·ï¼Œè€Œä½¿ç”¨åŒå¼•å·\n  jsxSingleQuote: false,\n  // æœ«å°¾éœ€è¦æœ‰é€—å·\n  trailingComma: 'all',\n  // å¤§æ‹¬å·å†…çš„é¦–å°¾éœ€è¦ç©ºæ ¼\n  bracketSpacing: true,\n  // jsx æ ‡ç­¾çš„åå°–æ‹¬å·éœ€è¦æ¢è¡Œ\n  jsxBracketSameLine: false,\n  // ç®­å¤´å‡½æ•°ï¼Œåªæœ‰ä¸€ä¸ªå‚æ•°çš„æ—¶å€™ï¼Œä¹Ÿéœ€è¦æ‹¬å·\n  arrowParens: 'always',\n  // æ¯ä¸ªæ–‡ä»¶æ ¼å¼åŒ–çš„èŒƒå›´æ˜¯æ–‡ä»¶çš„å…¨éƒ¨å†…å®¹\n  rangeStart: 0,\n  rangeEnd: Infinity,\n  // ä¸éœ€è¦å†™æ–‡ä»¶å¼€å¤´çš„ @prettier\n  requirePragma: false,\n  // ä¸éœ€è¦è‡ªåŠ¨åœ¨æ–‡ä»¶å¼€å¤´æ’å…¥ @prettier\n  insertPragma: false,\n  // ä½¿ç”¨é»˜è®¤çš„æŠ˜è¡Œæ ‡å‡†\n  proseWrap: 'preserve',\n  // æ ¹æ®æ˜¾ç¤ºæ ·å¼å†³å®š html è¦ä¸è¦æŠ˜è¡Œ\n  htmlWhitespaceSensitivity: 'css',\n  // vue æ–‡ä»¶ä¸­çš„ script å’Œ style å†…ä¸ç”¨ç¼©è¿›\n  vueIndentScriptAndStyle: false,\n  // æ¢è¡Œç¬¦ä½¿ç”¨ lf\n  endOfLine: 'lf',\n  // æ ¼å¼åŒ–åµŒå…¥çš„å†…å®¹\n  embeddedLanguageFormatting: 'auto',\n}\n```\n\n\n## å¼€å‘å·¥å…·é€‚é…\n\n\n### WebStorm\n\n\nç”¨ WebStorm çš„å‰ç«¯ er ä¸€å®šä¸ä¼šå¤ªå·®ï¼ï¼ æˆ‘ä¸ªäººä¸€ç›´éå¸¸æ¨è WebStormï¼Œç”¨èµ·æ¥éå¸¸é¡ºæ‰‹ï¼å¼€ç®±å³ç”¨ï¼Œç‰¹åˆ«æ˜¯ git çš„ä½¿ç”¨ï¼Œç”©å¼€ VSCode å‡ æ¡è¡—ã€‚ WebStorm é…åˆ ESLint éœ€è¦å»è®¾ç½®ä¸­è®¾ç½® Eslint ä¸ºè‡ªåŠ¨è£…é…ï¼Œä½¿å…¶ä½¿ç”¨é¡¹ç›®ä¸­çš„`.eslintrc.js`å»æ£€æŸ¥ä»£ç ã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FjT0UiCzAxSVIDI4wilba7UNQen0.png)\n\n\n### VSCode\n\n\nå½“ç„¶ VSCode ä¹Ÿæ˜¯ä¸€æ¬¾ä¸é”™çš„å¼€å‘å·¥å…·ï¼Œå¾—åŠ›äºä¸°å¯Œçš„æ’ä»¶å¸‚åœºï¼Œå¦‚æœè°ƒæ•™çš„å¤Ÿå¥½ï¼Œæœªæ¥å¯èƒ½ä¼šæ¯” WebStorm æ›´ä¼˜ç§€ã€‚ VSCode é…åˆ ESLint éœ€è¦ ESLint åŠ Prettier ç­‰ç›¸å…³æ’ä»¶ã€‚\n\n\n### åœ¨ VSCode ä¸­ä½¿ç”¨\n\n\nåœ¨ VSCode ä¸­ï¼Œé»˜è®¤ ESLint å¹¶ä¸èƒ½è¯†åˆ« `.vue`ã€`.ts` æˆ– `.tsx` æ–‡ä»¶ï¼Œéœ€è¦åœ¨ã€Œæ–‡ä»¶ => é¦–é€‰é¡¹ => è®¾ç½®ã€é‡Œåšå¦‚ä¸‹é…ç½®ï¼š\n\n\n```json\n{\n  \"eslint.validate\": [\n    \"javascript\",\n    \"javascriptreact\",\n    \"vue\",\n    \"typescript\",\n    \"typescriptreact\"\n  ]\n}\n```\n\n\n### ä¿å­˜æ—¶è‡ªåŠ¨ä¿®å¤ ESLint é”™è¯¯\n\n\nå¦‚æœæƒ³è¦å¼€å¯ã€Œä¿å­˜æ—¶è‡ªåŠ¨ä¿®å¤ã€çš„åŠŸèƒ½ï¼Œä½ éœ€è¦é…ç½® `.vscode/settings.json`ï¼š\n\n\n```json\n{\n  \"eslint.validate\": [\"javascript\", \"javascriptreact\", \"vue\", \"typescript\", \"typescriptreact\"],\n  \"editor.codeActionsOnSave\": {\n    \"source.fixAll.eslint\": true\n  },\n}\n```\n\n\n### VSCode ä¸­çš„ autoFixOnSave æ²¡æœ‰æ•ˆæœ\n\n\nå¦‚æœéœ€è¦é’ˆå¯¹ `.vue`ã€`.ts` å’Œ `.tsx` æ–‡ä»¶å¼€å¯ ESLint çš„ autoFixï¼Œåˆ™éœ€è¦é…ç½®æˆï¼š\n\n\n```json\n{\n  \"eslint.autoFixOnSave\": true,\n  \"eslint.validate\": [\n    \"javascript\",\n    \"javascriptreact\",\n    {\n      \"language\": \"vue\",\n      \"autoFix\": true\n    },\n    {\n      \"language\": \"typescript\",\n      \"autoFix\": true\n    },\n    {\n      \"language\": \"typescriptreact\",\n      \"autoFix\": true\n    }\n  ]\n}\n```\n\n\n## ç»“æŸ\n\n\nè‡³æ­¤ï¼Œå¤§éƒ¨åˆ†çš„é…ç½®å·²ç»ç»“æŸã€‚\n\n\nç»“æŸä¹Ÿæ˜¯å¼€å§‹ï¼Œå›¢é˜Ÿä¸­å¼€å‘è§„èŒƒçš„åˆ¶å®šè½åœ°ä¸€å®šæ˜¯æ…¢æ…¢æ‰“ç£¨çš„ç»“æœã€‚æ¯ä¸ªå›¢é˜Ÿæœ‰æ¯ä¸ªå›¢é˜Ÿè‡ªå·±çš„é£æ ¼ï¼Œæœªæ¥æ›´å¤šçš„æ˜¯éœ€è¦é’ˆå¯¹å„è‡ªå›¢é˜Ÿæ­é…å‡ºä¸€å¥—é€‚åˆè‡ªå·±çš„ä»£ç è§„èŒƒã€‚\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2021-01-15",
        "type": "Post",
        "slug": "ar658s",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "æœ¬æ–‡ä»‹ç»äº†å‰ç«¯å¼€å‘è§„èŒƒä¸­ä½¿ç”¨çš„Eslintã€‚ä½œè€…ä»‹ç»äº†è‡ªå·±å’Œå›¢é˜Ÿåœ¨ä½¿ç”¨Eslintè¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ï¼Œæœ€ç»ˆé€‰æ‹©äº†Eslint + Prettierçš„ç»„åˆï¼Œå¹¶ä½¿ç”¨äº†è…¾è®¯AlloyTeamåˆ›ç«‹çš„ä¸€å¥—Eslintè§„åˆ™ã€‚æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†Eslintè§„åˆ™çš„è®¾è®¡ç†å¿µå’Œæ ·å¼ç›¸å…³çš„è§„åˆ™äº¤ç»™Prettieræ¥ç®¡ç†çš„æ€æƒ³ï¼Œä»¥åŠå¦‚ä½•å¼€å§‹é…ç½®Eslintã€‚åŒæ—¶ï¼Œä½œè€…è¿˜ä»‹ç»äº†å¦‚ä½•é€‚é…WebStormæ¥ä½¿ç”¨Eslintè¿›è¡Œä»£ç æ£€æŸ¥ã€‚",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:22:00.000Z",
        "title": "å‰ç«¯å¼€å‘è§„èŒƒä¹‹Eslint",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Eslint",
          "ä»£ç è§„èŒƒ"
        ],
        "status": "Archived",
        "urlname": "506adb06-6632-4133-be32-171a4ec0af21",
        "updated": "2023-08-26 15:22:00"
      },
      "body": "",
      "realName": "å‰ç«¯å¼€å‘è§„èŒƒä¹‹Eslint",
      "relativePath": "/å‰ç«¯å¼€å‘è§„èŒƒä¹‹Eslint.md"
    },
    {
      "id": "e7200c3e-ae64-4093-8ecc-4d249b091349",
      "doc_id": "e7200c3e-ae64-4093-8ecc-4d249b091349",
      "updated": 1693063320000,
      "body_original": "\n# å¼•è¨€\n\n\nåœ¨ vue ä¸­æˆ‘ä»¬å¯ä»¥ç”¨`this.$router.go(-1)`è¿”å›ä¸Šä¸€ä¸ªè·¯ç”±ï¼Œä½†æ— æ³•æ‹¿åˆ°ä¸Šä¸ªè·¯ç”±çš„è·¯ç”±åœ°å€ï¼Œè¿™æ ·å°±å‡ºç°ä¸€ä¸ªé—®é¢˜å°±æ˜¯å¦‚æœæˆ‘ä¸Šä¸ªè·¯ç”±æ˜¯ä¸­è½¬é¡µé¢ï¼Œä½œç”¨å°±æ˜¯è·³åˆ°ä¸‹ä¸ªé¡µé¢ï¼Œè¿™ä¸ªæ—¶å€™çš„`this.$router.go(-1)`å°±ä¸èµ·ä½œç”¨ï¼Œè¿›å…¥äº†æ­»å¾ªç¯ã€‚ æ‰€ä»¥ç½‘ä¸Šæ‰¾äº†ä¸‹ä¸€ä¸ªæ¯”è¾ƒå¥½çš„åŠæ³•å°±æ˜¯åˆ©ç”¨è·¯ç”±å®ˆå«ï¼Œç»´æŠ¤è‡ªå·±çš„è·¯ç”±è·³è½¬è®°å½•ã€‚\n\n\n# æ€è·¯\n\n1. å®ç°ä¸€ä¸ª`Vue`å·¥å…·`history.js`ï¼Œé€šè¿‡å †æ ˆçš„æ–¹å¼ç»´æŠ¤é¡µé¢è·³è½¬çš„å†å²è®°å½•ï¼Œæ§åˆ¶è¿”å›è·³è½¬ã€‚\n2. æ‰©å±•ä¸€ä¸ªè·å–ä¸Šä¸ªè·¯ç”±çš„æ–¹æ³•ã€‚\n3. åœ¨å…¨å±€è·¯ç”±`router.js`ä¸­ï¼Œå®ä¾‹åŒ–è·¯ç”±å‰ï¼Œé€šè¿‡åŸå‹æ‰©å±•`router`çš„`goBack()`æ–¹æ³•\n4. åœ¨`router`è·¯ç”±å®ˆå«`afterEach`çš„ç”Ÿå‘½å‘¨æœŸä¸­å­˜æ”¾å†å²è®°å½•ã€‚\n\n# å®ç°\n\n\n```javascript\n// src/utils/history.js\n\nconst History = {\n  _history: [], // å†å²è®°å½•å †æ ˆ\n  install(Vue) {\n    // æä¾›Vueæ’ä»¶æ‰€éœ€å®‰è£…æ–¹æ³•\n    Object.defineProperty(Vue.prototype, '$routerHistory', {\n      get() {\n        return History\n      },\n    })\n  },\n  push(path) {\n    // å…¥æ ˆ\n    this._history.push(path)\n  },\n  pop() {\n    this._history.pop()\n  },\n  canBack() {\n    return this._history.length > 1\n  },\n  lastHistory() {\n    return this._history.length > 1 ? this._history[this._history.length - 2] : '/'\n  },\n}\nexport default History\n```\n\n\nåœ¨è·¯ç”±å®ä¾‹åŒ–ä¹‹å‰ï¼Œæ‰©å±•`back()`æ–¹æ³•\n\n\n```javascript\n// src/router/index.js\n \nimport Vue from 'vue'\nimport Router from 'vue-router'\nimport History from './utils/history';\n \nVue.use(Router);\nVue.use(History);\n \n// å®ä¾‹åŒ–ä¹‹å‰ï¼Œæ‰©å±•Router\nRouter.prototype.goBack = function () {\n this.isBack = true;\n this.back();\n}\n```\n\n\nåœ¨è·¯ç”±å…¨å±€`afterEach`ä¸­è®°å½•è·³è½¬å†å²\n\n\n```javascript\n// src/router/index.js\n import History from './utils/history';\n// afterEachè®°å½•å†å²è®°å½•\nrouter.afterEach((to, from) => {\n   if (router.isBack) {\n     // åé€€\n     History.pop();\n     router.isBack = false;\n     router.transitionName = 'route-back';\n   } else {\n     History.push(to.path);\n     router.transitionName = 'route-forward';\n   }\n})\n```\n\n\nåœ¨é¡µé¢ä¸­ä½¿ç”¨\n\n\n```javascript\nif (this.$routerHistory.lastHistory().indexOf('/router') !== -1) {\n  this.$router.push({\n    path: '/',\n  })\n} else {\n  this.$router.goback()\n}\n```\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2021-02-01",
        "type": "Post",
        "slug": "hemk59",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•åœ¨Vueä¸­ç»´æŠ¤è·¯ç”±è·³è½¬è®°å½•ï¼Œä»¥è§£å†³ä½¿ç”¨this.$router.go(-1)è¿”å›ä¸Šä¸€ä¸ªè·¯ç”±æ—¶ï¼Œæ— æ³•æ‹¿åˆ°ä¸Šä¸ªè·¯ç”±çš„è·¯ç”±åœ°å€çš„é—®é¢˜ï¼Œå¹¶é¿å…è¿›å…¥æ­»å¾ªç¯ã€‚ä½œè€…æå‡ºäº†é€šè¿‡è·¯ç”±å®ˆå«ï¼Œåˆ©ç”¨å †æ ˆçš„æ–¹å¼ç»´æŠ¤é¡µé¢è·³è½¬çš„å†å²è®°å½•çš„æ€è·¯ï¼Œå¹¶ç»™å‡ºäº†å…·ä½“å®ç°æ–¹æ³•ã€‚",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:22:00.000Z",
        "title": "åœ¨Vueä¸­ç»´æŠ¤è·¯ç”±è·³è½¬è®°å½•",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Vue"
        ],
        "status": "Archived",
        "urlname": "e7200c3e-ae64-4093-8ecc-4d249b091349",
        "updated": "2023-08-26 15:22:00"
      },
      "body": "",
      "realName": "åœ¨Vueä¸­ç»´æŠ¤è·¯ç”±è·³è½¬è®°å½•",
      "relativePath": "/åœ¨Vueä¸­ç»´æŠ¤è·¯ç”±è·³è½¬è®°å½•.md"
    },
    {
      "id": "451fde56-fb4a-475d-a152-82ebe33d6a74",
      "doc_id": "451fde56-fb4a-475d-a152-82ebe33d6a74",
      "updated": 1693063320000,
      "body_original": "\n# å¼•è¨€\n\n\nå›¾ç‰‡æ˜¯å¤§éƒ¨åˆ†ç½‘é¡µçš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸ä¼šå¤ªå…³æ³¨è¿™æ–¹é¢çš„é—®é¢˜ï¼Œéœ€è¦æ˜¾ç¤ºå›¾ç‰‡ç›´æ¥ä¸€ä¸ª `img` æ ‡ç­¾æå®šã€‚ä½†å®é™…ä¸Šï¼Œæ— è®ºæ˜¯å¯¹äºæé«˜åŠ è½½é€Ÿåº¦ï¼Œè¿˜æ˜¯å¯¹äºä¼˜åŒ–ç”¨æˆ·ä½“éªŒï¼Œä¼˜åŒ–å›¾ç‰‡éƒ½æ˜¯ä¸€ä¸ªé‡è¦çš„æ‰‹æ®µã€‚ å›¾ç‰‡ä¼˜åŒ–åˆ†æˆä¸¤ä¸ªæ–¹é¢ï¼š\n\n1. å›¾ç‰‡å‹ç¼©ã€‚åœ¨ä¿è¯è§†è§‰æ•ˆæœçš„æƒ…å†µä¸‹ï¼Œå‡å°‘å›¾ç‰‡çš„ä½“ç§¯ã€‚è¿™ä¸ªå¾ˆæœ‰æ•ˆï¼Œ1M å’Œ 100K çš„å›¾ç‰‡ï¼Œè‚‰çœ¼çœ‹èµ·æ¥å‡ ä¹å·®ä¸å¤šï¼Œä½†å´çœäº† 90% çš„æµé‡ï¼Œå¤§å¤§æé«˜äº†åŠ è½½é€Ÿåº¦ã€‚\n2. å“åº”å¼å›¾ç‰‡ã€‚æ ¹æ®å®¢æˆ·ç«¯çš„æƒ…å†µï¼Œé€‰æ‹©æœ€åˆé€‚çš„å›¾ç‰‡è¿”å›ç»™ç”¨æˆ·ã€‚ç”¨æˆ·æ˜¯ä¸€ä¸ª 500px çš„è®¾å¤‡ï¼Œé‚£ä¹ˆè¿”å› 1000px çš„å›¾ç»™ä»–å°±æ˜¯æµªè´¹ï¼ˆå‡è®¾ç‰©ç†åƒç´ å’Œ CSS åƒç´ æ˜¯ä¸€æ¯”ä¸€ï¼‰ã€‚\n\n# å›¾ç‰‡å‹ç¼©\n\n\nå‹ç¼©çš„ç¬¬ä¸€æ­¥æ˜¯ç­›é€‰å‡ºéœ€è¦å‹ç¼©çš„å›¾ç‰‡ã€‚å¦‚æœå›¾ç‰‡æœ¬èº«å°±å·²ç»è¶³å¤Ÿå°äº†ï¼Œé‚£ä¹ˆå†å‹ç¼©çš„æ„ä¹‰å°±ä¸å¤§ã€‚ è€Œå¯¹äºè¿™äº›è¶³å¤Ÿå°çš„å›¾ç‰‡ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†å…¶è½¬æ¢æˆé›ªç¢§å›¾**ï¼ˆCssSpritesï¼‰**æˆ–è€…`base64`ç¼–ç æ¥å­˜å‚¨ï¼Œè€Œå…³äºè¿™ä¸¤è€…çš„ä½¿ç”¨åœºæ™¯è¿™é‡Œå¯ä»¥çœ‹ä¸€ä¸‹è¿™ä¸¤ç¯‡æ–‡ç« ï¼ˆ[ä¸è¦æ»¥ç”¨é›ªç¢§å›¾ sprite](https://www.cnblogs.com/joyho/articles/3715275.html)å’Œ[ç©è½¬å›¾ç‰‡ Base64 ç¼–ç ](https://www.cnblogs.com/coco1s/p/4375774.html)ï¼‰ã€‚\n\n\n## url-loader\n\n\nè¿™é‡Œæˆ‘é‡‡ç”¨çš„æ˜¯ webpack é‡Œçš„`url-loader`æ’ä»¶è¿›è¡Œå¤„ç†ï¼Œå¯¹äºå°äº 1kb çš„å›¾ç‰‡ï¼Œå°†å…¶è½¬æ¢æˆ`base64`ç¼–ç è¿›è¡Œå­˜å‚¨ã€‚\n\n\n```javascript\n{\n  test: /\\.(png|jpe?g|gif|svg)$/,\n  use: [{\n      loader: \"url-loader\", // å®ƒå°è£…äº†file-loaderï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªloaderçš„å…¨éƒ¨é…ç½®å±æ€§\n      options: {\n        limit: 1024,\n        esModule: false,\n        outputPath: 'images' // è®¾ç½®å›¾ç‰‡çš„è¾“å‡ºè·¯å¾„\n      }\n    }\n  ]\n},\n```\n\n\n> å‚æ•°è¯´æ˜ > limitæ˜¯è½¬æ¢æˆ Base64 çš„å›¾ç‰‡å¤§å°çš„é›¶ç•Œç‚¹è®¾ç½®ï¼Œå•ä½ä¸º Byteï¼Œå°äºè¯¥æ•°å€¼çš„å°†è¿›è¡Œè½¬æ¢ã€‚ esModuleæ˜¯é’ˆå¯¹æ˜¯å¦ä½¿ç”¨æ¨¡å—åŒ–æ¡†æ¶çš„ç”¨æˆ·è®¾å®šå‚æ•°ï¼Œé»˜è®¤ä¸º trueã€‚å¦‚æœé¡¹ç›®ä¸­æ²¡æœ‰ä½¿ç”¨æ¨¡å—åŒ–æ¡†æ¶ï¼Œå»ºè®®è¦å°†è¿™ä¸ªå±æ€§å…³é—­ï¼Œé¿å…å‡ºç°å›¾ç‰‡èµ„æºè¶…è¿‡ limitï¼Œå°±å˜æˆ[object Module]çš„é—®é¢˜ã€‚ outputPathå›¾ç‰‡è¾“å‡ºè·¯å¾„ï¼Œå°†ä¼˜åŒ–åçš„å›¾ç‰‡ç»Ÿä¸€è¾“å‡ºåˆ°è¯¥è·¯å¾„ã€‚\n\n\n## image-webpack-loader\n\n\næ¥ä¸‹æ¥å°±æ˜¯å‹ç¼©å¤§ä¸€ç‚¹çš„å›¾ç‰‡äº†ï¼Œä½¿ç”¨[image-webpack-loader](https://github.com/tcoopman/image-webpack-loader)è¿›è¡Œè¿›ä¸€æ­¥å¤„ç†ã€‚\n\n\n```javascript\n{\n  test: /\\.(png|jpe?g|gif|webp|svg)$/,\n  use: [{\n      loader: \"url-loader\",\n      options: {\n        limit: 1024,\n        esModule: false,\n        outputPath: 'images'\n      }\n    },\n    {\n      loader: 'image-webpack-loader',\n      options: {\n        mozjpeg: {\n          progressive: true,\n          quality: 70 // æ•°å€¼è¶Šé«˜ï¼Œè´¨é‡è¶Šå¥½\n        },\n        optipng: {\n          // enabled: false,\n          OptimizationLevel: 4 // é»˜è®¤æ˜¯3\n        },\n        pngquant: {\n          enabledï¼šfalse,\n          // quality: [0.75,0.95],\n          // speed: 4\n        },\n        gifsicle: {\n          interlaced: true, // é»˜è®¤ï¼šfalse éš”è¡Œæ‰«ægifè¿›è¡Œæ¸²æŸ“\n        },\n        // webp: {\n        //   quality: 75\n        // }\n      }\n    }\n  ]\n},\n```\n\n\n> å¦‚æ–‡æ¡£æ‰€è¯´ï¼Œimage-webpack-loaderéšé™„ä»¥ä¸‹ä¼˜åŒ–å™¨ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šè‡ªåŠ¨å¯ç”¨è¿™äº›ä¼˜åŒ–å™¨ï¼š\n\n\t- [mozjpeg](https://github.com/imagemin/imagemin-mozjpeg) â€” å‹ç¼© JPEG å›¾åƒ\n\t- [optipng](https://github.com/kevva/imagemin-optipng) â€” å‹ç¼© PNG å›¾åƒ\n\t- [pngquant](https://github.com/imagemin/imagemin-pngquant) â€” å‹ç¼© PNG å›¾åƒ\n\t- [svgo](https://github.com/kevva/imagemin-svgo) â€” å‹ç¼© SVG å›¾åƒ\n\t- [gifsicle](https://github.com/kevva/imagemin-gifsicle) â€” å‹ç¼© GIF å›¾åƒ\n\n\tå’Œå¯é€‰çš„ä¼˜åŒ–å™¨ï¼š\n\n\t- [webp](https://github.com/imagemin/imagemin-webp) â€”å°† JPG å’Œ PNG å›¾åƒå‹ç¼©ä¸º WEBP\n\n\tå¯ä»¥é€šè¿‡æŒ‡å®šç¦ç”¨é»˜è®¤ä¼˜åŒ–å™¨`optimizer.enabled: false`ï¼Œå¹¶å°†å…¶æ”¾åœ¨é€‰é¡¹ä¸­å³å¯å¯ç”¨å¯é€‰ä¼˜åŒ–å™¨ã€‚\n\n\n### [imagemin-mozjpeg](https://github.com/imagemin/imagemin-mozjpeg)\n\n\nJPEG æ ¹æ®æ˜¾ç¤ºæ–¹å¼çš„ä¸åŒï¼Œåˆ†ä¸ºä¸¤ç§ï¼šProgressive JPEG å’Œ Baseline JPEGã€‚ Progressive JPEG ä¼šå…ˆåŠ è½½æ¨¡ç³Šçš„æ•´å¼ å›¾ç‰‡ï¼Œç„¶åå˜çš„è¶Šæ¥è¶Šæ¸…æ™°ã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fk_-bMzWW6DrevC_kqIB1zGKiRgZ.jpg)\n\n\nè€Œ Baseline JPEG ä¼šå…ˆæ¸…æ™°åœ°åŠ è½½å›¾ç‰‡çš„ä¸€éƒ¨åˆ†ï¼Œç„¶åæ…¢æ…¢æ˜¾ç¤ºå‰©ä½™çš„éƒ¨åˆ†ã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FjOjOygtOL0EeKqbIJJOrjot6rNB.jpg)\n\n\nä»è§†è§‰æ•ˆæœæ¥è¯´ï¼ŒProgressive JPEG è‡ªç„¶æ›´å¥½ä¸€äº›ã€‚ä½†å®ƒä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ï¼Œæ¯”å¦‚å®ƒçš„è§£ç é€Ÿåº¦æ¯” Baseline JPEG è¦æ…¢ï¼Œå ç”¨çš„ CPU æ—¶é—´æ›´å¤šã€‚ å¦‚æœæ˜¯æ¡Œé¢æµè§ˆå™¨ï¼Œè¿™ç‚¹æ€§èƒ½é—®é¢˜è‡ªç„¶æ— æ‰€è°“ï¼Œä½†æ˜¯å¦‚æœæ˜¯ç§»åŠ¨ç«¯ï¼Œå°±ä¸å¾—ä¸è€ƒè™‘ã€‚å·¥ç¨‹æœ¬æ¥å°±æ˜¯æƒè¡¡çš„è‰ºæœ¯ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼ŒMozJPEG ç”Ÿæˆçš„æ˜¯ Progressive JPEGï¼Œå¯ä»¥é€šè¿‡ [é€‰é¡¹](https://github.com/imagemin/imagemin-mozjpeg#progressive) è°ƒæ•´ã€‚\n\n\n### [optipng](https://github.com/imagemin/imagemin-optipng)\n\n\nåœ¨ç ”ç©¶æ–‡æ¡£çš„è¿‡ç¨‹ä¸­å‘ç°ä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜ï¼Œä¹Ÿå¯èƒ½æ˜¯å®˜ç½‘æ— æ„ä¸­çš„è¡Œä¸ºï¼ˆçœŸçš„å—ï¼Ÿï¼‰ï¼Œå®˜æ–¹æ–‡æ¡£ä¸ºäº†è¯´æ˜å…¶ API ä¸­çš„ç¦ç”¨æŒ‡å®šä¼˜åŒ–å™¨åŠŸèƒ½`optimizer.enabled: false`ï¼Œå°±åœ¨æ–‡æ¡£ä¸­å†™äº†è¿™ä¹ˆä¸€æ®µä»£ç ï¼š\n\n\n```javascript\n{\t\n// optipng.enabled: false will disable optipng\n\toptipng: {\n\t\tenabled: false,\n\t},\n  pngquant: {\n    quality: [0.65, 0.90],\n    speed: 4\n    }\n}\n```\n\n\næœ¬æ¥æ˜¯ä¸€ä¸ªä¸¾ä¾‹è¯´æ˜ï¼Œç»“æœåœ¨æˆ‘ google çš„å‡ ä¹æ‰€æœ‰ç”¨æˆ·çš„ webpack é…ç½®ä¸­ï¼Œå¤§å®¶éƒ½æŠŠ`optipng`è¿™ä¸ªä¼˜ç§€çš„å‹ç¼©å·¥å…·ç»™ç¦ç”¨äº† QAQã€‚ å®é™…ä¸Šåœ¨å‹ç¼©è´¨é‡ä¸Šæ¥è¯´ï¼Œ`optipng`æ˜¯æ— æŸå‹ç¼©ï¼Œé‡‡ç”¨çš„æ˜¯åŸºäº LZ/Huffman çš„ DEFLATE ç®—æ³•ï¼Œä»¥å‡å°‘å›¾ç‰‡ IDAT chunk åŒºåŸŸçš„æ•°æ®æ¥å®ç°å‹ç¼©å›¾ç‰‡ï¼ŒåŒæ ·æ˜¯æ— æŸå‹ç¼©çš„å·¥å…·è¿˜æœ‰[**pngcrush**](https://pngcrush.com/)**ã€**[**pngout**](https://www.oschina.net/translate/4-free-tools-to-optimize-and-compress-png-images-without-loosing-quality?print=)**ã€advpng**ã€‚ è€Œ[pngquant](https://github.com/kornelski/pngquant)å’Œ[**tinypng**](https://tinify.cn/)**ã€**[**ImageAlpha**](https://github.com/kornelski/ImageAlpha)**ã€**[**pngnq**](https://github.com/stuart/pngnq)ç­‰éƒ½æ˜¯æœ‰æŸå‹ç¼©ï¼Œé‡‡ç”¨çš„æ˜¯ quantization ç®—æ³•ï¼Œå°† 24 ä½çš„ PNG å›¾ç‰‡è½¬æ¢ä¸º 8 ä½çš„ PNG å›¾ç‰‡ï¼Œå‡å°‘å›¾ç‰‡çš„é¢œè‰²æ•°æ¥å®ç°å›¾ç‰‡å‹ç¼©ï¼› å…·ä½“å¯ä»¥å‚è€ƒ[Laya å›¾ç‰‡å‹ç¼©](https://www.jianshu.com/p/83d00a7e2a4b)å¯¹äºå„ä¸ªå‹ç¼©å·¥å…·çš„å¯¹æ¯”æƒ…å†µã€‚ ä½†æ˜¯å‘¢ï¼Œä¸€èˆ¬æœ‰æŸå‹ç¼©çš„å‹ç¼©ç‡ä¼šå¤§å¤§é«˜äºæ— æŸå‹ç¼©ã€‚å°±å¦‚ png å’Œ jpg ä¸¤è€…æ¥è¯´ï¼Œpng æ ¼å¼å¯ä»¥è¿›è¡Œæ— æŸå‹ç¼©ï¼Œè´¨é‡å¥½ã€æ”¯æŒé€æ˜ä½†æ˜¯ä½“ç§¯å¤§ï¼Œjpg çš„è´¨é‡ç›¸å¯¹å·®ä¸€ç‚¹ä½†æ˜¯ä½“ç§¯å¾ˆå°ï¼Œä¸¤è€…ä½“ç§¯ç›¸å·®å‡ ä¹åœ¨ 70%ä»¥ä¸Šã€‚æ‰€ä»¥å…·ä½“çš„æƒè¡¡å–èˆè¿˜æ˜¯çœ‹ä¸ªäººå®é™…åº”ç”¨åœºæ™¯ã€‚\n\n\n### [pngquant](https://github.com/imagemin/imagemin-pngquant)\n\n\næ­£å¦‚ä¸Šé¢æ‰€è¯´ï¼Œå®ƒæ˜¯ä¸€ä¸ªæœ‰æŸå‹ç¼©ï¼Œæˆ‘è¿™é‡Œä¸ºäº†æ¼”ç¤ºï¼Œæš‚æ—¶ç¦ç”¨äº†å®ƒã€‚\n\n\n> å‚æ•°è¯´æ˜(å¼•ç”¨è‡ªLaya å›¾ç‰‡å‹ç¼©)ï¼š 1.qualityå‚æ•°çš„ä½œç”¨æ˜¯ä¿è¯å›¾ç‰‡ç»è¿‡ä¼˜åŒ–å¤„ç†åï¼Œå›¾ç‰‡è´¨é‡çš„å–å€¼èŒƒå›´ï¼ˆ0~1ï¼‰ã€‚å–å€¼è¶Šå°ï¼Œè¡¨ç¤ºå‹ç¼©æ¯”ç‡è¶Šå¤§ï¼ŒåŒæ—¶çš„å›¾ç‰‡çš„è´¨é‡ä¹Ÿå°±è¶Šå·®ã€‚åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­å‘ç°ï¼Œå½“è®¾ç½®æœ€ä½å–å€¼ä¸º 0.60 æˆ– 0.65 æ—¶ï¼Œéƒ¨åˆ†å›¾ç‰‡çš„è´¨é‡ä¼šä¸¥é‡ä¸‹é™ï¼Œå› æ­¤æœ€ç»ˆé€‰æ‹©äº† 0.70 ä½œä¸ºæœ€ä½å€¼ã€‚ 2.speedå‚æ•°çš„è®¾ç½®å†³å®šäº†å›¾ç‰‡ä¼˜åŒ–çš„æ‰§è¡Œé€Ÿåº¦ï¼Œå–å€¼èŒƒå›´ä¸º 1~10ï¼Œé»˜è®¤å€¼ä¸º 4ã€‚å…¶ä¸­ 10 çš„æ‰§è¡Œé€Ÿåº¦æœ€å¿«ï¼Œå¯¹åº”çš„å‹ç¼©æ¯”ç‡æœ€å°ï¼›è€Œ 1 çš„æ‰§è¡Œé€Ÿåº¦æœ€æ…¢ï¼Œå¯¹åº”çš„å‹ç¼©æ¯”ç‡æœ€å¤§ã€‚åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­å‘ç°ï¼Œæ— è®ºæˆ‘è®¾ç½®å“ªä¸€ä¸ªå€¼å®ƒä»¬çš„æ‰§è¡Œæ—¶é—´éƒ½å·®ä¸å¤šï¼Œä¸è¿‡å‹ç¼©æ¯”ç‡ç¡®å® 1 çš„æœ€å¤§ï¼Œ10 çš„æœ€å°ã€‚ å®æµ‹æ•ˆæœï¼š åœ¨è®¾ç½® quality çš„å–å€¼èŒƒå›´ä¸º 0.70~0.95ï¼Œä»¥åŠ speed ä¸º 4 çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥åœ¨å°½å¯èƒ½ä¸å½±å“å›¾ç‰‡è´¨é‡çš„å‰æä¸‹å»ç¼©å‡æ–‡ä»¶çš„å¤§å°ã€‚ åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä»¥ PNG-8 å“è´¨ä¸º 256 çš„å›¾ç‰‡ä¸ºä¾‹ï¼Œæœ€ç»ˆçš„å›¾ç‰‡è¾“å‡ºå¯ä»¥é™ä½ 70%å·¦å³çš„å¤§å°ï¼ˆä» 3.78KB ç¼©å‡åˆ° 1.13KBï¼‰ã€‚\n\n\n### [gifsicle](https://github.com/imagemin/imagemin-gifsicle)\n\n\ngifsicle ä¸€å…±æœ‰ 4 ä¸ªå‚æ•°é…ç½®ï¼Œæˆ‘ä¸€èˆ¬å¸¸ç”¨çš„å°± interlacedï¼Œå³éš”è¡Œæ‰«æè¿›è¡Œæ¸²æŸ“ï¼Œå›¾ç‰‡ä¼šè‡ªä¸Šè€Œä¸‹æ¸è¿›å¼åŠ è½½ã€‚ åœ¨ä¸Šæ–‡ä¸­æåˆ°çš„ Progressive å’Œ Baseline çš„åŒºåˆ«ä¸­ï¼Œprogressive ç­‰åŒäº`interlaced`ï¼Œbaseline ç­‰åŒäº `not interlaced`ï¼Œæ‰€ä»¥å–èˆè‡ªå·±å†³å®šã€‚\n\n\n> å‚æ•°è¯´æ˜ optimizationLevelæ˜¯ä¼˜åŒ–çº§åˆ«ï¼Œé»˜è®¤å€¼ä¸º 1ï¼Œå–å€¼èŒƒå›´åœ¨ 1-3ã€‚ä¼˜åŒ–çº§åˆ«çš„é«˜ä½å†³å®šå›¾ç‰‡çš„è´¨é‡ï¼Œè¾ƒé«˜çš„çº§åˆ«éœ€è¦æ›´é•¿çš„æ—¶é—´ï¼Œä½†å¯èƒ½ä¼šæœ‰æ›´å¥½çš„æ•ˆæœã€‚ æ–‡æ¡£ä¸­ç»™å‡ºäº† 3 ç§å–å€¼æ‰€åšçš„äº‹ï¼š 1ï¼šä»…å­˜å‚¨æ¯ä¸ªå›¾åƒçš„æ›´æ”¹éƒ¨åˆ† 2ï¼šè¿˜ä½¿ç”¨é€æ˜åº¦è¿›ä¸€æ­¥ç¼©å°æ–‡ä»¶ã€‚ 3ï¼šå°è¯•å‡ ç§ä¼˜åŒ–æ–¹æ³•ï¼ˆé€šå¸¸é€Ÿåº¦è¾ƒæ…¢ï¼Œæœ‰æ—¶æ•ˆæœæ›´å¥½ï¼‰ã€‚ colorsæ˜¯é¢œè‰²å‡å°‘çš„é«˜ä½è®¾ç½®ï¼Œæ˜¯å°†æ¯ä¸ªè¾“å‡º GIF ä¸­çš„ä¸åŒé¢œè‰²æ•°é‡å‡å°‘åˆ°æŒ‡å®šæ•°å€¼æˆ–è€…æ›´å°‘ï¼Œå–å€¼èŒƒå›´åœ¨ 2-256 ä¹‹é—´ã€‚ bufferæ˜¯åˆ©ç”¨ç¼“å†²è¿›è¡Œä¼˜åŒ–ã€‚\n\n\n### [webp](https://github.com/imagemin/imagemin-webp)\n\n\næœ€åæ¥çœ‹ä¸€ä¸‹è¯¥æ’ä»¶çš„å¯é€‰ä¼˜åŒ–å™¨ Webpã€‚\n\n\n> å‚æ•°è¯´æ˜ > qualityè´¨é‡å‚æ•°ï¼Œå°†å“è´¨å› æ•°è®¾ç½®åœ¨0å’Œä¹‹é—´100ã€‚æ˜¯æœ€å¸¸ç”¨ï¼Œå¤§å¤šæ•°åœºæ™¯ä¸‹ä¹Ÿåªéœ€è¦è°ƒæ•´è¿™ä¸€ä¸ªå‚æ•°å³å¯ã€‚ å…¶ä»–å‚æ•°å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ > æ³¨æ„ï¼Œåœ¨å®é™…çš„ä½¿ç”¨ä¸­ï¼Œå‘ç°è¿™é‡Œå­˜åœ¨ä¸€ä¸ªå®¹æ˜“è¢«å¿½è§†çš„å‘ã€‚ > image-webpack-loader é‡Œçš„ webp ä¼˜åŒ–å™¨åªæ˜¯é’ˆå¯¹å·²æœ‰çš„ webp æ–‡ä»¶è¿›è¡Œè´¨é‡ä¸Šçš„ä¼˜åŒ–ï¼ˆæˆ–è€…è¯´å°±ä¸èµ·ä½œç”¨ï¼Œå¦‚æœæœ‰ç ”ç©¶å‡ºæ¥çš„å¤§ä½¬éº»çƒ¦è¯„è®ºå‘ŠçŸ¥å“ˆï¼‰ï¼Œå¹¶ä¸èƒ½æŠŠå‰é¢çš„ png/jpg è½¬æˆ webpã€‚å®˜æ–¹æ–‡æ¡£æœ‰ç‚¹è¯¯å¯¼åˆ°å¤§å®¶ï¼Œå¯¼è‡´è®¸å¤šå›¾ç‰‡ä¼˜åŒ–çš„æ•™ç¨‹éƒ½æŠŠè¿™ä¸ªå½“æˆ webp è½¬æ¢å™¨ï¼Œç„¶è€Œæˆ‘å®é™…è¯•äº†ä¸‹ï¼Œå¹¶ä¸èƒ½=.=ã€‚\n\n\nè‡³äº webp çš„ä¼˜åŒ–è¿‡ç¨‹ï¼Œæˆ‘å°†åœ¨ä¸‹æ–‡`ä¼˜é›…åœ°ä½¿ç”¨WebPå›¾ç‰‡`ä¸­è¯¦ç»†ä»‹ç»ã€‚\n\n\n# å“åº”å¼å›¾ç‰‡\n\n\næ‰€è°“å“åº”å¼å›¾ç‰‡ï¼Œå…³é”®å°±ä¸€ç‚¹ï¼š**æ ¹æ®å®¢æˆ·ç«¯çš„æƒ…å†µè¿”å›æœ€é€‚åˆå®¢æˆ·ç«¯çš„å›¾ç‰‡**ã€‚\n\n\né‚£ä¹ˆï¼Œåœ¨å‡†å¤‡éƒ¨ç½²å“åº”å¼å›¾ç‰‡çš„æ—¶å€™ï¼Œä¼šå­˜åœ¨å“ªäº›æƒ…å†µå‘¢ï¼Ÿ\n\n- æ˜¯å¦å¸Œæœ›æ ¹æ®å®¢æˆ·ç«¯æƒ…å†µè¿”å›ä¸åŒçš„å›¾ç‰‡ **å†…å®¹**?\n- æ˜¯å¦å¸Œæœ›æ ¹æ®å®¢æˆ·ç«¯æƒ…å†µè¿”å›ä¸åŒçš„å›¾ç‰‡ **æ ¼å¼**ï¼Ÿ\n- æ˜¯å¦å¸Œæœ›æ ¹æ®å®¢æˆ·ç«¯æƒ…å†µè¿”å›ä¸åŒçš„å›¾ç‰‡ **å°ºå¯¸** ï¼Ÿ\n- æ˜¯å¦å¸Œæœ›ä¼˜åŒ–é«˜ **åˆ†è¾¨ç‡** è®¾å¤‡çš„ä½“éªŒï¼Ÿ\n\nåœ¨ `picture` æ ‡ç­¾å‡ºæ¥ä¹‹å‰ï¼Œè¿™äº›åªèƒ½é€šè¿‡ JS æ¥å®ç°ï¼Œä¸ä»…ä»£ç è€Œä¸”ä¸‘é™‹èƒ½åŠ›ä¹Ÿä¸å…¨ã€‚ä½†æ˜¯ç°åœ¨ï¼Œé’ˆå¯¹è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬æœ‰äº†ä¸€ä¸ªå®Œæ•´çš„ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆã€‚\n\n\n## picture æ ‡ç­¾\n\n\n`picture` æ˜¯ HTML5 æ–°å¼•å…¥çš„æ ‡ç­¾ï¼ŒåŸºæœ¬ç”¨æ³•å¦‚ä¸‹ã€‚\n\n\n```html\n<picture>\n  <source srcset=\"a.jpg\">\n  <source srcset=\"b.jpg\">\n  <img src=\"c.jpg\" >\n</picture>\n```\n\n\næˆ‘ä»¬å¯ä»¥è¿™æ ·ç†è§£ï¼Œ`picture` æ ‡ç­¾ä¼šä» `source` ä¸­é€‰æ‹©æœ€åˆé€‚çš„ä¸€ä¸ªï¼Œç„¶åå°†å®ƒçš„ URL èµ‹å€¼ç»™ `img`ã€‚å¯¹äºä¸è®¤è¯† `picture` çš„æ—§æµè§ˆå™¨ï¼Œä»–ä»¬ä¼šå¿½ç•¥ `picture`ï¼Œåªæ¸²æŸ“ `img`ï¼Œä¸€åˆ‡éƒ½ä¸ä¼šæœ‰é—®é¢˜ã€‚ æ³¨æ„ï¼š`**picture**`** æ ‡ç­¾æœ€åä¸€å®šè¦åŒ…å«ä¸€ä¸ª **`**img**`** æ ‡ç­¾ï¼Œå¦åˆ™ï¼Œä»€ä¹ˆéƒ½ä¸ä¼šæ˜¾ç¤ºã€‚** ç°åœ¨æˆ‘ä»¬é€ä¸€æ¥çœ‹ `picture` æ˜¯æ€æ ·è§£å†³ä¸Šé¢çš„å››ä¸ªé—®é¢˜ã€‚\n\n\n## åŠ¨æ€å†…å®¹\n\n\næ ¹æ®å®¢æˆ·ç«¯çš„æƒ…å†µï¼Œæˆ‘ä»¬æ¥è¿”å›å®Œå…¨ä¸åŒçš„ä¸¤å¼ å›¾ã€‚è¿™ä¸ªå¾ˆç®€å•ï¼Œä½¿ç”¨ `source` æ ‡ç­¾çš„ `media` å±æ€§å³å¯ã€‚ å¦‚ä¸‹ä»£ç ä¼šåœ¨å°äº 1024px çš„æ—¶å€™æ˜¾ç¤º `img-center.jpg`ï¼Œè€Œåœ¨å¤§äºç­‰äº 1024px çš„æ—¶å€™æ˜¾ç¤º `img-full.jpg`ã€‚\n\n\n```html\n<picture>\n  <source\n    media=\"(min-width: 1024px)\"\n    srcset=\"img-full.jpg\"\n  >\n  <img\n    src=\"img-center.jpg\" \n  >\n</picture>\n```\n\n\n## åŠ¨æ€å°ºå¯¸\n\n\nå¦‚æœå¸Œæœ›æµè§ˆå™¨èƒ½æ ¹æ®æƒ…å†µå»è¯·æ±‚ä¸åŒå°ºå¯¸çš„å›¾ç‰‡ï¼Œæˆ‘ä»¬éœ€è¦æä¾›ä¸¤ä¸ªä¿¡æ¯ï¼š\n\n- æœ‰å“ªäº›å°ºå¯¸çš„å›¾ç‰‡\n- å›¾ç‰‡æ˜¾ç¤ºçš„æ—¶å€™æ˜¯ä»€ä¹ˆå°ºå¯¸\n\nä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆä½¿ç”¨ `srcset` å±æ€§æŒ‡å®šæœ‰å“ªäº›å›¾ç‰‡ï¼Œåˆ†åˆ«æ˜¯å›¾ç‰‡åå’Œå›¾ç‰‡çš„å°ºå¯¸ï¼Œè¿™é‡Œæ³¨æ„å•ä½ä¸ç”¨ `px` è€Œæ˜¯ `w`ï¼Œç”¨äºè¡¨ç¤ºå›¾ç‰‡çš„å›ºæœ‰å®½åº¦ã€‚ `sizes` å±æ€§å‘Šè¯‰æµè§ˆå™¨ï¼Œè¿™ä¸ªå›¾ç‰‡åœ¨ä¸åŒçš„æ¡ä»¶ä¸‹ä¼šæ˜¯ä»€ä¹ˆæ ·çš„å®½åº¦ã€‚è¿™ä¸ªå±æ€§ç”¨äºç»™åˆ°æµè§ˆå™¨æç¤ºï¼Œå¹¶ä¸ä¼šçœŸæ­£çš„æŒ‡å®š `img` çš„å®½åº¦ï¼Œæˆ‘ä»¬è¿˜æ˜¯éœ€è¦å¦å¤–ä½¿ç”¨ CSS æ¥æŒ‡å®šã€‚ è¿™æ ·ï¼Œç»™å®šä¸€ä¸ªè§†å£å®½åº¦ï¼Œæµè§ˆå™¨å¯ä»¥å¾—çŸ¥å›¾ç‰‡éœ€è¦çš„å®½åº¦ï¼Œç„¶åæ ¹æ® DPI æƒ…å†µï¼Œåœ¨æ‰€æœ‰å¯é€‰å›¾ç‰‡ä¸­é€‰æ‹©æœ€åˆé€‚çš„ä¸€ä¸ªã€‚\n\n\n```html\n<img\n  src=\"img-400.jpg\"\n  sizes=\"(min-width: 640px) 60vw, 100vw\"\n  srcset=\"img-200.jpg 200w,\n      img-400.jpg 400w, \n      img-800.jpg 800w,\n      img-1200.jpg 1200w\"\n>\n```\n\n\n## åŠ¨æ€åˆ†è¾¨ç‡\n\n\nåŠ¨æ€åˆ†è¾¨ç‡å…¶å®æ˜¯åŠ¨æ€å°ºå¯¸çš„ä¸€ç§ç®€åŒ–æƒ…å†µã€‚ æ ¹æ®æ˜¾ç¤ºå™¨çš„ DPI è¿”å›åŒä¸€å¼ å›¾ç‰‡çš„ä¸åŒåˆ†è¾¨ç‡ç‰ˆæœ¬å¯ä»¥ç›´æ¥åˆ©ç”¨ `img` æ ‡ç­¾çš„ `srcset` å±æ€§ã€‚ ä½¿ç”¨äº†å¦‚ä¸‹çš„ä»£ç ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨æ ¹æ®æ˜¾ç¤ºå™¨çš„ DPI æ¥å†³å®šä¸‹è½½å›¾ç‰‡çš„å“ªä¸ªç‰ˆæœ¬ã€‚ åœ¨ä½ DPI è®¾å¤‡ä¸Šï¼Œä¾‹å¦‚æ¡Œé¢æ˜¾ç¤ºå™¨ï¼Œæµè§ˆå™¨ä¼šä½¿ç”¨ img-200.jpgï¼Œè€Œåœ¨é«˜ DPI è®¾å¤‡ä¸Šï¼Œä¾‹å¦‚æ‰‹æœºï¼Œæµè§ˆå™¨ä¼šä½¿ç”¨ img-400.jpgã€‚\n\n\n```html\n<img\n  srcset=\"img-200.jpg, \n          img-300.jpg 1.5x,\n          img-400.jpg 2x\"\n  src=\"img-400.jpg\" \n>\n\n<style type=\"text/css\">\n  img {\n    width: 200px;\n  }\n</style>\n```\n\n\nå½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç»„åˆè¿™å‡ ä¸ªé€‰é¡¹ã€‚\n\n- è§†å£ >= 1280px æ—¶\n\t- æ ¹æ®è§†å£çš„å…·ä½“å®½åº¦ï¼Œè¿”å›ä¸åŒå°ºå¯¸çš„ _img-full_ å›¾ç‰‡\n\t- å¦‚æœå®¢æˆ·ç«¯æ”¯æŒ WebPï¼Œè¿”å› WebP æ ¼å¼\n- è§†å£ < 1280px æ—¶\n\t- æ ¹æ®è§†å£çš„å…·ä½“å®½åº¦ï¼Œè¿”å›ä¸åŒå°ºå¯¸çš„ _img_ å›¾ç‰‡\n- å¦‚æœå®¢æˆ·ç«¯æ”¯æŒ WebPï¼Œè¿”å› WebP æ ¼å¼\n\n```html\n<picture>\n  <source\n    media=\"(min-width: 1280px)\"\n    sizes=\"50vw\"\n    srcset=\"img-full-200.webp 200w,\n        img-full-400.webp 400w,\n        img-full-800.webp 800w,\n        img-full-1200.webp 1200w,\n        img-full-1600.webp 1600w,\n        img-full-2000.webp 2000w\"\n    type=\"image/webp\"\n  >\n  <source\n    media=\"(min-width: 1280px)\"\n    sizes=\"50vw\"\n    srcset=\"img-full-200.jpg 200w,\n        img-full-400.jpg 400w,\n        img-full-800.jpg 800w,\n        img-full-1200.jpg 1200w,\n        img-full-1600.jpg 1800w,\n        img-full-2000.jpg 2000w\"\n  >\n\n  <source\n    sizes=\"(min-width: 640px) 60vw, 100vw\"\n    srcset=\"img-200.webp 200w,\n        img-400.webp 400w,\n        img-800.webp 800w,\n        img-1200.webp 1200w,\n        img-1600.webp 1600w,\n        img-2000.webp 2000w\"\n    type=\"image/webp\"\n  >\n  <img\n    src=\"img-400.jpg\"\n    sizes=\"(min-width: 640px) 60vw, 100vw\"\n    srcset=\"img-200.jpg 200w,\n        img-400.jpg 400w,\n        img-800.jpg 800w,\n        img-1200.jpg 1200w,\n        img-1600.jpg 1600w,\n        img-2000.jpg 2000w\"\n  >\n</picture>\n```\n\n\nè¿™é‡Œå¼ºçƒˆå»ºè®®è‡ªå·±åŠ¨æ‰‹ï¼Œç»“åˆ [placeholder.com](https://placeholder.com/) ç½‘ç«™ï¼Œç”Ÿæˆä¸€äº›å›¾ç‰‡æ¥æµ‹è¯•ã€‚æ¯•ç«Ÿï¼Œçº¸ä¸Šå¾—æ¥ç»ˆè§‰æµ…ã€‚\n\n\n# ä¼˜é›…åœ°ä½¿ç”¨ WebP å›¾ç‰‡\n\n\nåœ¨ä½¿ç”¨ webp å›¾ç‰‡ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸‹ webp æ ¼å¼çš„å›¾ç‰‡åˆ°åº•æ˜¯æ€æ ·çš„ã€‚ å‚è€ƒ[å°†ä¹‹å‰çš„é¡¹ç›®å›¾ç‰‡è¿›è¡Œäº†å‹ç¼©](https://blog.liuguofeng.com/tag/%E5%9B%BE%E7%89%87)è¿™ç¯‡æ–‡ç« çš„è¯´æ˜ï¼š\n\n\n[WebP](https://developers.google.com/speed/webp/)æ˜¯ Google æ¨å‡ºçš„ä¸€ç§ç›¸å¯¹è¾ƒæ–°çš„æ ¼å¼ï¼Œæ—¨åœ¨é€šè¿‡ç¼–ç [æ— æŸ](https://en.wikipedia.org/wiki/Lossless_compression)å’Œ[æœ‰æŸ](https://en.wikipedia.org/wiki/Lossy_compression)æ ¼å¼çš„å›¾åƒæ¥æä¾›è¾ƒå°çš„æ–‡ä»¶å¤§å°ï¼Œä½¿å…¶æˆä¸º JPEG å’Œ PNG çš„ç»ä½³æ›¿ä»£å“ã€‚ WebP å›¾åƒçš„è§†è§‰è´¨é‡é€šå¸¸ä¸ JPEG å’Œ PNG ç›¸å½“ï¼Œä½†é€šå¸¸æ–‡ä»¶å¤§å°è¦å°å¾—å¤šã€‚ä¾‹å¦‚ï¼Œå½“æˆ‘å°†å±å¹•æˆªå›¾ä»ä¸Šé¢è½¬æ¢ä¸º WebP æ—¶ï¼Œæˆ‘å¾—åˆ°äº†ä¸€ä¸ª 88 KB çš„æ–‡ä»¶ï¼Œå…¶è´¨é‡ä¸ 913 KB çš„åŸå§‹å›¾åƒç›¸å½“ã€‚**å‡å°‘ 90ï¼…ï¼** çœ‹ä¸€çœ‹ä¸‹é¢ä¸‰å¼ å›¾ï¼Œä½ èƒ½åˆ†è¾¨çš„å‡ºæ¥å—ï¼Ÿ\n\n- [åŸå§‹å›¾ç‰‡](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/20200419232154.png)\n- [ä¼˜åŒ–åçš„å›¾ç‰‡](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/20200419232255.png)\n- [webp å›¾ç‰‡](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/20200419232329.webp)\n\nå°±ä¸ªäººè€Œè¨€ï¼Œè§†è§‰è´¨é‡å…·æœ‰å¯æ¯”æ€§ï¼Œæ‚¨æ‰€è·å¾—çš„èŠ‚çœå¾ˆéš¾è¢«å¿½è§†ã€‚ç°åœ¨æˆ‘ä»¬å·²ç»ç¡®å®šäº†å°½å¯èƒ½ä½¿ç”¨ WebP æ ¼å¼çš„ä»·å€¼ï¼Œä½†æ˜¯è¦æ³¨æ„æ˜¯å®ƒä¸èƒ½å®Œå…¨å–ä»£ JPEG å’Œ PNGã€‚æ ¹æ®\n\n\n[caniuse.com](https://caniuse.com/#search=WebP)\n\n\næä¾›çš„æ•°æ®æ˜¾ç¤ºï¼Œè™½ç„¶æµè§ˆå™¨ä¸­çš„ WebP æ”¯æŒå·²ç»å¾ˆæ™®éäº†ï¼Œä½†æ˜¯éœ€è¦è¶³å¤Ÿé«˜çš„ç‰ˆæœ¬å·æ‰å¯æ”¯æŒã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FiPJ5-pU_jPgEpBXUujF9z2nNzgs.png)\n\n\næˆªæ­¢æ’°ç¨¿æ—¥(2020-04-20)ï¼Œåªæœ‰ Safari è¿˜åœ¨è¯•éªŒä¸­ï¼Œä¹Ÿç®—æ˜¯å³å°†æ”¯æŒ webp å›¾ç‰‡äº†ã€‚è‡³äº IE æµè§ˆå™¨å˜›ï¼Œemmmmâ€¦.ä¸€è¨€éš¾å°½\n\n\næ•°æ®æ˜¾ç¤ºï¼Œå…¨çƒæœ‰ 77.63%çš„ç”¨æˆ·ä½¿ç”¨æ”¯æŒ WebP çš„æµè§ˆå™¨ã€‚è¿™æ„å‘³ç€ï¼Œé€šè¿‡æä¾› WebP å›¾åƒï¼Œæ‚¨å¯ä»¥ä¸º 77.63%çš„å®¢æˆ·æé«˜ç½‘é¡µé€Ÿåº¦ã€‚ æ‰€ä»¥ï¼Œåœ¨å®¢æˆ·ç«¯æ”¯æŒçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åº”è¯¥å°½å¯èƒ½åœ°ä½¿ç”¨ WebP æ ¼å¼ã€‚\n\n\n## picture æ ‡ç­¾å…¼å®¹ä¼˜åŒ–\n\n\n### ä¼˜åŒ–æµç¨‹\n\n\nåœ¨å¼€å§‹è®²é’ˆå¯¹ webp å›¾ç‰‡çš„ä¼˜åŒ–å‰ï¼Œæˆ‘æƒ³å…ˆæ¢³ç†ä¸‹å¼€å‘æµç¨‹ã€‚ è¿™é‡Œéœ€è¦åˆ†ä¸¤ç§æƒ…å†µï¼š\n\n1. å…¨æ–°ç½‘ç«™çš„å…¼å®¹ä¼˜åŒ–\n2. é’ˆå¯¹å·²æœ‰ç½‘ç«™çš„å…¼å®¹ä¼˜åŒ–ã€‚\n\nå¦‚æœæ˜¯å…¨æ–°ç½‘ç«™ï¼Œè€Œä¸”è®¾è®¡å¸ˆæŠŠå„ç§å›¾ç‰‡éƒ½ç»™åˆ°ä½ äº†ï¼Œé‚£å°±å®Œå…¨ä¸ç”¨æ‹…å¿ƒå›¾ç‰‡è½¬æ¢é—®é¢˜ï¼Œå¯ä»¥ç›´æ¥è¿ç”¨`picture`æ ‡ç­¾ä¹¦å†™å…¼å®¹æ ¼å¼ï¼Œæˆ‘è¿™é‡Œå°±ä¸å†èµ˜è¿°ã€‚ è€Œæœ¬æ–‡ä¸»è¦è®²çš„å°±æ˜¯åœ¨å›¾ç‰‡æ ¼å¼ä¸å…¨çš„æƒ…å†µä¸‹ï¼Œç”šè‡³æ˜¯å¯¹å·²æœ‰ç›®å½•çš„é™æ€ç½‘ç«™è¿›è¡Œä¼˜åŒ–æ—¶è¯¥æ€æ ·çš„å¼€å‘æµç¨‹ã€‚ ç¬¬ä¸€ä¸ªæ˜¯é¡ºåºï¼Œåœ¨ä¸Šé¢æˆ‘å°è¯•äº†åœ¨æ„å»ºçš„åŒæ—¶åˆ©ç”¨ image-webpack-loader å¯é€‰çš„ webp è½¬æ¢å™¨ï¼Œç›´æ¥å¯¹ç°æœ‰ jpg/png å›¾ç‰‡è½¬æ¢å¤±è´¥åï¼Œå°±æš‚æ—¶æ— æ³•åœ¨ç¼ºå¤± webp å›¾ç‰‡çš„æƒ…å†µä¸‹ç›´æ¥è¿›è¡Œæ”¹é€ ã€‚ æ‰€ä»¥ç°åœ¨çš„æ€è·¯æ˜¯ï¼š\n\n1. å°†ç°æœ‰çš„å›¾ç‰‡å…¨éƒ¨è½¬æ¢æˆ webp æ ¼å¼ã€‚\n2. å°†å·²æœ‰çš„ img æ ‡ç­¾å…¨éƒ¨æ›¿æ¢æˆ picture æ ‡ç­¾ã€‚\n3. åˆ©ç”¨ webpack çš„ html-loader è¯†åˆ«å‡ºæ‰€æœ‰å›¾ç‰‡æ ¼å¼çš„è·¯å¾„åå¹¶å°†å…¶ hash é‡å‘½ååæ‰“åŒ…åˆ°åŒä¸€æ–‡ä»¶å¤¹ä¸‹ã€‚\n\nä¸‹é¢å°†å…·ä½“å±•å¼€è°ˆä¸€ä¸‹é’ˆå¯¹å•å…¥å£çš„é¡µé¢å’Œå¤šå…¥å£çš„é¡µé¢çš„å¤„ç†ã€‚\n\n\n### å•å…¥å£é¡µé¢\n\n\nå¯¹äºå•å…¥å£å•é¡µé¢çš„è¯ï¼Œç½‘ç«™æ‰€ç”¨çš„å›¾ç‰‡åŸåˆ™ä¸Šéƒ½åªåœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚å‡è®¾ä¸€ä¸ªå•é¡µé¢ç½‘ç«™çš„ç›®å½•ç»“æ„æ˜¯è¿™æ ·çš„ï¼š\n\n\n```c#\n|--dist  \t\t\t\t\t\t\t\t//æ‰“åŒ…åçš„è·¯å¾„\n|--src  \t\t\t\t\t\t\t\t//é¡¹ç›®æºä»£ç ç›®å½•\n|  |--css  \t\t\t\t\t\t\t//å­˜æ”¾cssæ ·å¼è¡¨\n|  |--images  \t\t\t\t\t//å­˜æ”¾ç½‘é¡µæ‰€éœ€çš„æ‰€æœ‰å›¾ç‰‡\n|  |--js  \t\t\t\t\t\t\t//å­˜æ”¾javaScriptä»£ç \n|  |--index.html  \t\t\t//ç½‘é¡µå…¥å£\n|--webpack.config.js  \t//webpackçš„é…ç½®æ–‡ä»¶\n|--package.json  \t\t\t\t//é¡¹ç›®å…ƒæ•°æ®ï¼Œä¾èµ–åŒ…ç­‰ä¿¡æ¯\n|--package-loack.json   //ä¾èµ–åŒ…å…·ä½“ç‰ˆæœ¬ä¿¡æ¯\n|--webp.js   \t\t\t\t\t\t//ä¸‹æ–‡ä¸­æåˆ°çš„è½¬æ¢å›¾ç‰‡çš„js\n```\n\n\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨`imagemin-webp`å®˜æ–¹æ–‡æ¡£æ‰€æä¾›çš„æ–¹æ³•ï¼šä½¿ç”¨äº†`imagemin`å’Œ`imagemin-webp`æ¥è½¬æ¢ jpg/pngã€‚ åœ¨æ ¹ç›®å½•ä¸­æ–°å»º`webp.js`æ–‡ä»¶\n\n\n```javascript\nconst imageminWebp = require('imagemin-webp')\nconst imagemin = require('imagemin');\n\nimagemin(['src/images/*.{jpg,png}'], {\n  destination: \"src/images\",\n  plugins: [\n    imageminWebp({\n      quality: 80\n    }),\n  ],\n})\n```\n\n\nè¿™æ ·å°±å¯ä»¥åœ¨æ ¹ç›®å½•è¿è¡Œ`node webp.js`ï¼ŒæŠŠé¡¹ç›®ä¸­çš„æ‰€æœ‰ jpg/png è½¬æˆ webp æ ¼å¼å›¾ç‰‡å¹¶å­˜æ”¾åˆ°åŸå›¾ç‰‡ç›®å½•ä¸‹ï¼Œç„¶åå°±å¯ä»¥å¯¹åŸæœ‰ img æ ‡ç­¾è¿›è¡Œæ”¹é€ ï¼ŒåŠ ä¸Š webp æ ¼å¼çš„å›¾ç‰‡ã€‚\n\n\n### å¤šå…¥å£é¡µé¢\n\n\nå¯¹äºè®©äººå¤´ç–¼çš„å¤šå…¥å£é¡µé¢æ¥è¯´ï¼Œé…ç½®èµ·æ¥å°±å¤æ‚çš„å¤šã€‚é¦–å…ˆæˆ‘ä»¬å…ˆçº¦å®šä¸€ä¸‹å¤šå…¥å£é¡µé¢çš„ç›®å½•ç»“æ„ã€‚\n\n\n### ç›®å½•ç»“æ„\n\n\nå¤šå…¥å£ä¹Ÿå°±æ„å‘³ç€å¤šå‡ºå£ï¼Œä¸ä½† html ç½‘é¡µå¯èƒ½åˆ†å¸ƒåœ¨ä¸åŒçš„æ–‡ä»¶å¤¹ä¸‹ï¼Œä¸åŒç½‘é¡µæ‰€éœ€çš„å›¾ç‰‡/css/js ä¹Ÿè¢«å­˜æ”¾åˆ°å¯¹åº”ç½‘é¡µçš„ä¸åŒæ–‡ä»¶å¤¹ä¸‹ã€‚å‡è®¾ä¸€ä¸ªå¤šå…¥å£é¡µé¢çš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š\n\n\n```c#\nwebpack\n|--dist  \t\t\t\t\t\t\t\t//æ‰“åŒ…åçš„è·¯å¾„\n|--src  \t\t\t\t\t\t\t\t//é¡¹ç›®æºä»£ç ç›®å½•\n|  |--common\t\t\t\t\t\t//å­˜æ”¾å„ä¸ªé¡µé¢éƒ½æœ‰å¯èƒ½ç”¨åˆ°çš„ç»„ä»¶åº“ï¼ˆåŸºæœ¬ä¸å˜æ›´ï¼‰\n|  |  |--jquery.min.js  \n|  |  |--swiper.min.js  \n|  |--css  \t\t\t\t\t\t\t//å­˜æ”¾cssæ ·å¼è¡¨\n|  |  |--index.scss  \t\t//indexé¡µé¢æ‰€éœ€çš„æ ·å¼è¡¨\n|  |  |--about.scss  \t\t//abouté¡µé¢æ‰€éœ€çš„æ ·å¼è¡¨\n|  |  |--common.scss  \t//é€šç”¨æ ·å¼è¡¨\n|  |--images  \t\t\t\t\t//å­˜æ”¾ç½‘é¡µæ‰€éœ€çš„æ‰€æœ‰å›¾ç‰‡\n|  |  |--index  \t\t\t\t//indexé¡µé¢æ‰€éœ€çš„å›¾ç‰‡\n|  |  |  |--header1.png  \n|  |  |  |--banner1.png  \n|  |  |  |--a1.jpg  \t  \n|  |  |  |--...\n|  |  |--about  \t\t\t\t//abouté¡µé¢æ‰€éœ€çš„å›¾ç‰‡\n|  |  |  |--header1.png  \n|  |  |  |--banner1.png  \n|  |  |  |--a1.jpg  \t  \n|  |  |  |--...\n|  |  |--common  \t\t\t\t//å¯å¤ç”¨çš„å›¾ç‰‡\n|  |  |  |--logo.png  \n|  |  |  |--footer.png  \n|  |  |  |--wechat.svg  \t  \n|  |  |  |--...  \n|  |--js  \t\t\t\t\t\t\t//å­˜æ”¾javaScriptä»£ç \n|  |  |--index.js  \t\t\t//indexé¡µé¢çš„jsæ–‡ä»¶\n|  |  |--about.js  \t\t\t//indexé¡µé¢çš„jsæ–‡ä»¶\n|  |  |--common.js  \t\t//å¯å¤ç”¨çš„js\n|  |--index.html  \t\t\t//ç½‘ç«™é¦–é¡µhtml\n|  |--about.html  \t\t\t//å…³äºç½‘ç«™html\n|--webpack.config.js  \t//webpackçš„é…ç½®æ–‡ä»¶\n|--package.json  \t\t\t\t//é¡¹ç›®å…ƒæ•°æ®ï¼Œä¾èµ–åŒ…ç­‰ä¿¡æ¯\n|--package-loack.json   //ä¾èµ–åŒ…å…·ä½“ç‰ˆæœ¬ä¿¡æ¯\n```\n\n\nå¯ä»¥çœ‹å‡ºï¼Œè¾ƒä¸ºå¤æ‚çš„å°±æ˜¯å›¾ç‰‡äº†ã€‚ç”±äºå¤šä¸ªé¡µé¢æ‰€éœ€çš„å›¾ç‰‡æ•°é‡éå¸¸å¤šï¼Œåœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­å¾ˆéš¾ä¿è¯å›¾ç‰‡èµ·åçš„ä¸é‡å¤ï¼Œæ‰€ä»¥æœ€ç†æƒ³çš„å°±æ˜¯æ”¾åœ¨ä¸åŒæ–‡ä»¶å¤¹ä¸‹äº†ã€‚ ä½†æ˜¯æ–°çš„é—®é¢˜å‡ºç°äº†ï¼šwebpack å¸¸ç”¨äºå°†ä¸åŒæ–‡ä»¶éƒ½æ‰“åŒ…è‡³åŒä¸€ç›®å½•ä¸‹ï¼Œå¦‚æœæ‰“åŒ…åå‘½åé‡å¤å¯¼è‡´æ–‡ä»¶è¢«è¦†ç›–äº†æ€ä¹ˆåŠï¼Ÿ å½“ç„¶ï¼Œwebpack ä¹Ÿç»™å‡ºäº†å‡ ä¹å®Œç¾çš„è§£å†³æ–¹æ¡ˆï¼šå°†æ–‡ä»¶è¿›è¡Œ hash é‡å‘½ååè¾“å‡ºï¼Œè¿™æ ·å°±å‡ ä¹ä¸ä¼šå¯¼è‡´é‡åè¦†ç›–é—®é¢˜çš„å‘ç”Ÿã€‚ å¯æ˜¯ï¼Œåˆä¸€ä¸ªæ£˜æ‰‹çš„é—®é¢˜å‘ç”Ÿäº†ï¼š ä¸Šæ–‡æˆ‘ä»¬ä¹Ÿè¯´äº†ï¼Œæˆ‘ä»¬æ˜¯è¦åœ¨æ‰“åŒ…å‰å°±å°†å›¾ç‰‡è½¬æ¢æˆ webp æ ¼å¼ã€‚è¿™æ ·æ”¹é€ è¿‡ç¨‹ä¸­ï¼Œé™æ€èµ„æºçš„æ–‡ä»¶åä¹Ÿä¸ä¼šå˜ï¼Œè·¯å¾„ä¹Ÿæ˜¯å„è‡ªçš„è·¯å¾„ï¼Œå¼€å‘è¿‡ç¨‹æ‰èƒ½æ–¹ä¾¿èµ·æ¥ã€‚ é‚£ä¹ˆï¼Œæ—¢ç„¶ç”¨åˆ°çš„å›¾ç‰‡ä¼šé‡åï¼Œæ‰€ä»¥å°†å›¾ç‰‡æ•´ä½“æ‹¿å‡ºæ¥æ‰‹åŠ¨è½¬æ¢åå†ä¸¢å›åˆ°å„è‡ªæ–‡ä»¶å¤¹çš„æ–¹æ³•ä¹Ÿä¸å¯å–ã€‚æœ€ç†æƒ³çš„å°±æ˜¯å„è‡ªè½¬æ¢å„è‡ªçš„ç›®å½•ï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªåŠæ³•å°±æ˜¯ï¼š\n\n- ç”¨å•é¡µé¢è½¬æ¢çš„æ–¹å¼ï¼Œæ¯æ¬¡æ”¹ä¸€ä¸‹è¾“å…¥è¾“å‡ºè·¯å¾„ï¼Œå¯¹æ¯ä¸ªå­˜æ”¾å›¾ç‰‡çš„æ–‡ä»¶å¤¹å•ç‹¬è½¬æ¢ã€‚\n\næ€ä¹ˆè¯´å‘¢ï¼Œå¯ä»¥æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æ—¢ç„¶éƒ½ç”¨äº† webpack è‡ªåŠ¨åŒ–æ‰“åŒ…äº†ï¼Œæˆ‘ä»¬åº”è¯¥å‡å°‘æ‰‹åŠ¨æ“ä½œæ–‡ä»¶çš„æ¬¡æ•°ã€‚è€Œä¸”åæœŸç»´æŠ¤èµ·æ¥ï¼Œé‚£æ˜¯ç›¸å½“çš„éº»çƒ¦ã€‚å½“ä½ æœ‰æ›´å¤šçš„é¡µé¢ï¼Œæ¯æ¬¡éœ€æ±‚æ–¹æ›´æ–°å›¾ç‰‡çš„æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½å¾—æ‰‹åŠ¨æ“ä½œä¸€æ¬¡ï¼Œè´¹åŠ›åˆè´¹æ—¶é—´ã€‚\n\n\n### gulp\n\n\näºæ˜¯ä¹æˆ‘æŠ•å‘äº† gulp çš„æ€€æŠ±ï¼Œgulp åœ¨æ“ä½œæ–‡ä»¶çš„è¿‡ç¨‹ä¸­ï¼Œå€Ÿé‰´äº† linux çš„ç®¡é“æ€æƒ³ï¼Œå¯ä»¥å°†ä¸Šä¸ªçš„è¾“å‡ºä½œä¸ºä¸‹ä¸€ä¸ªçš„è¾“å…¥ã€‚äºæ˜¯ï¼ŒåŸºäº gulp çš„è‡ªåŠ¨åŒ–è½¬æ¢ç¨‹åºè¯ç”Ÿäº†ï¼š é¦–å…ˆåœ¨æ ¹ç›®å½•å»ºç«‹ gulpfile.js æ–‡ä»¶ï¼Œå¹¶å®‰è£…å¥½æ‰€éœ€çš„ä¾èµ–ã€‚\n\n\n> æ³¨æ„ï¼Œgulp éœ€è¦å®‰è£…ä¸¤æ¬¡\n\n\n```javascript\nnpm i gulp -D //ä¿è¯ä¾èµ–è¢«å®‰è£…åˆ°node_modulesä¸‹\nnpm i gulp -g //ä¿è¯ç›´æ¥åœ¨å‘½ä»¤è¡Œä½¿ç”¨gulpå‘½ä»¤æ—¶ä¸ä¼šæŠ¥é”™\n```\n\n\n```javascript\nconst gulp = require('gulp');\nconst fs = require('fs');\nconst merge = require('merge-stream');\nconst path = require('path');\nconst webp = require('gulp-webp');\n// è·å–æ–‡ä»¶å¤¹\nfunction getFolders(dir) {\n    return fs.readdirSync(dir)\n        .filter(function (file) {\n            return fs.statSync(path.join(dir, file)).isDirectory();\n        });\n}\n\n// éœ€è¦è½¬æ¢çš„æ–‡ä»¶è·¯å¾„ï¼Œæˆ‘è¿™é‡Œè®¾ç½®ä¸ºæ ¹ç›®å½•ä¸‹çš„srcç›®å½•\nconst scriptsPath = path.resolve(__dirname, 'src')\n\nfunction imagesToWebp() {\n    const folders = getFolders(scriptsPath);\n    const tasks = folders.map(function (folder) {\n        console.log(folder)\n      \t//ä¾æ¬¡è¾“å‡ºï¼š\n      \t//common\n\t\t\t\t//css\n\t\t\t\t//images\n\t\t\t\t//js\n      \t// /**/*.{jpg,png}æ˜¯æ‰¾åˆ°srcä¸‹æ‰€æœ‰å±‚çº§çš„jpg/pngå›¾ç‰‡\n        return gulp.src(path.join(scriptsPath, folder, '/**/*.{jpg,png}'))\n            .pipe(webp()) //ä½¿ç”¨webpæ’ä»¶è¿›è¡Œè½¬æ¢ï¼ˆé»˜è®¤ä¼šä¿ç•™åŸå›¾ç‰‡ï¼‰\n            .pipe(gulp.dest(scriptsPath + folder)); //è¾“å‡ºåˆ°å„è‡ªçš„æ–‡ä»¶å¤¹ä¸‹\n    })\n    return merge(tasks); //åˆå¹¶gulpæµ\n}\n\nexports.webp = gulp.series(\n    imagesToWebp\n)\n```\n\n\nå¤§åŠŸå‘Šæˆï¼è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨å‘½ä»¤è¡Œä½¿ç”¨`gulp webp`å‘½ä»¤è¿›è¡Œå›¾ç‰‡è½¬æ¢äº†ã€‚ åœ¨æ‹¿åˆ°äº†æ‰€æœ‰ webp æ–‡ä»¶åï¼Œå°±å¯ä»¥ä½¿ç”¨ picture æ ‡ç­¾è¿›è¡Œæ”¹é€ äº†ã€‚\n\n\n```html\n<picture>\n  <source srcset=\"./images/index/a1.webp\" type=\"image/webp\">\n  <img src=\"./images/index/a1.png\">\n</picture>\n\n<picture>\n  <source srcset=\"./images/about/a1.webp\" type=\"image/webp\">\n  <img src=\"./images/about/a1.png\">\n</picture>\n```\n\n\n> æ³¨æ„ï¼š è®°å¾—åœ¨ webpack.config.js ä¸­ä½¿ç”¨ html-loader æ—¶ï¼Œå°† source æ ‡ç­¾ä¸‹çš„ srcset å±æ€§åŠ å…¥ attrsï¼Œå¦åˆ™ html-loader å°†æ— æ³•è¯†åˆ« source æ ‡ç­¾ä¸­çš„å›¾ç‰‡è·¯å¾„ã€‚\n\n\n```json\n{\n  test: /\\.(html)$/,\n  use: {\n    loader: 'html-loader',\n    options: {\n      root: path.resolve(__dirname, 'src'),\n      attrs: ['img:src', 'img:data-src', 'source:srcset']\n    }\n  }\n}\n```\n\n\nå¯¹äº webpack ä¸­å…³äºå¤šé¡µé¢çš„å…¶ä»–é…ç½®ï¼Œæˆ‘å°†åœ¨å…¶ä»–æ–‡ç« ä¸­è¯¦ç»†ä»‹ç»å¹¶åˆ†äº«æˆ‘çš„ä»£ç ï¼Œè¯·æŒç»­å…³æ³¨ï¼Œè°¢è°¢ï½\n\n\n## åˆ©ç”¨ cdn æœåŠ¡è‡ªåŠ¨åˆ¤æ–­\n\n\nç›®å‰ï¼Œæœ‰äº›å›¾ç‰‡ cdn æœåŠ¡å¯ä»¥å¼€å¯è‡ªåŠ¨å…¼å®¹ webp çš„æ¨¡å¼ï¼Œå³æ”¯æŒ webp çš„æµè§ˆå™¨åˆ™å°†åŸå›¾è½¬æ¢ä¸º webp å›¾ç‰‡å¹¶è¿”å›ï¼Œå¦åˆ™ç›´æ¥è¿”å›åŸå›¾ã€‚å®ç°è¿™ä¸ªåŠŸèƒ½çš„åŸç†æ˜¯ï¼Œæ ¹æ®æµè§ˆå™¨å‘èµ·çš„è¯·æ±‚å¤´ä¸­çš„ Accept å±æ€§ä¸­æ˜¯å¦åŒ…å« webp æ ¼å¼æ¥åˆ¤æ–­ï¼š\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fv3x2-3h24vcrUFFv5rxfxcMkRKo.png)\n\n\næœ‰åˆ™è¯´æ˜æµè§ˆå™¨æ”¯æŒ webp æ ¼å¼ï¼Œè¿™å¯¹å¼€å‘è€…æ¥è¯´å¯èƒ½æ˜¯æœ€ç®€å•çš„å…¼å®¹æ–¹æ¡ˆï¼Œä½†æ˜¯ä¾èµ–äºåç«¯æœåŠ¡ã€‚\n\n\n# å‚è€ƒ\n\n1. [å°†ä¹‹å‰çš„é¡¹ç›®å›¾ç‰‡è¿›è¡Œäº†å‹ç¼©](https://blog.liuguofeng.com/tag/%E5%9B%BE%E7%89%87)\n2. [è°ˆè°ˆ Web åº”ç”¨ä¸­çš„å›¾ç‰‡ä¼˜åŒ–æŠ€å·§åŠåæ€](https://juejin.im/post/5d4979cc5188255b3e4126ae#heading-10)\n3. [Laya å›¾ç‰‡å‹ç¼©](https://www.jianshu.com/p/83d00a7e2a4b)\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2020-04-20",
        "type": "Post",
        "slug": "ulvcm5",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨webpackçš„url-loaderå’Œimage-webpack-loaderæ’ä»¶æ¥ä¼˜åŒ–å›¾ç‰‡ã€‚å…¶ä¸­ï¼Œurl-loaderå¯ä»¥å°†å°äº1kbçš„å›¾ç‰‡è½¬æ¢æˆbase64ç¼–ç è¿›è¡Œå­˜å‚¨ï¼Œè€Œimage-webpack-loaderå¯ä»¥å¯¹å¤§ä¸€ç‚¹çš„å›¾ç‰‡è¿›è¡Œå‹ç¼©ã€‚è¿˜ä»‹ç»äº†å„ä¸ªä¼˜åŒ–å™¨çš„ä½œç”¨ï¼Œå¦‚mozjpegã€optipngã€pngquantç­‰ï¼Œå¹¶æä¾›äº†ç›¸åº”çš„é…ç½®å‚æ•°è¯´æ˜ã€‚",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:22:00.000Z",
        "title": "Webpacké…ç½®-å›¾ç‰‡ä¼˜åŒ–",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Webpack"
        ],
        "status": "Archived",
        "urlname": "451fde56-fb4a-475d-a152-82ebe33d6a74",
        "updated": "2023-08-26 15:22:00"
      },
      "body": "",
      "realName": "Webpacké…ç½®-å›¾ç‰‡ä¼˜åŒ–",
      "relativePath": "/Webpacké…ç½®-å›¾ç‰‡ä¼˜åŒ–.md"
    },
    {
      "id": "701f9876-9f7a-4f28-b225-7077e45cfeab",
      "doc_id": "701f9876-9f7a-4f28-b225-7077e45cfeab",
      "updated": 1693063320000,
      "body_original": "\n# å‰è¨€\n\n\nå…¶å®ä¹‹å‰å°±æœ‰ç–‘æƒ‘è¿‡,npm ä¾èµ–ä¹‹é—´æ˜¯æ€ä¹ˆå¤„ç†çš„,æ€ä¹ˆæ‰èƒ½ç›¸äº’ä¾èµ–è€Œåˆä¸é‡å¤ï¼Œæ€ä¹ˆå¤„ç†ä¸åŒç‰ˆæœ¬ä¾èµ–çš„é—®é¢˜ç­‰ç­‰ï¼Œä¹±æˆä¸€é”…ç²¥ã€‚å‡ºç°é”™è¯¯è¦æ€ä¹ˆè§£å†³? å“ªäº›è­¦å‘Šè¦é¢å¤–æ³¨æ„ä¸€ä¸‹?ä»Šå¤©å°±æ¥ç ”ç©¶ä¸‹ã€‚\n\n\n# npm å®‰è£…æœºåˆ¶\n\n\n## A å’Œ B åŒæ—¶ä¾èµ– Cï¼Œè¿™ä¸ªåŒ…ä¼šè¢«å®‰è£…åœ¨å“ªé‡Œå‘¢ï¼Ÿ\n\n\nå‡å¦‚æœ‰ A å’Œ B ä¸¤ä¸ªåŒ…ï¼Œä¸¤ä¸ªåŒ…éƒ½ä¾èµ– C è¿™ä¸ªåŒ…ï¼Œnpm 2 ä¼šä¾æ¬¡é€’å½’å®‰è£… A å’Œ B ä¸¤ä¸ªåŒ…åŠå…¶å­ä¾èµ–åŒ…åˆ° node_modules ä¸­ã€‚æ‰§è¡Œå®Œæ¯•åï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ° `./node_modules` è¿™å±‚ç›®å½•åªå«æœ‰è¿™ä¸¤ä¸ªå­ç›®å½•ï¼š\n\n\n```text\nnode_modules/\nâ”œâ”€â”¬ A\nâ”‚ â”œâ”€â”€ C\nâ”œâ”€â”¬ B\nâ”‚ â””â”€â”€ C\n```\n\n\nå¦‚æœä½¿ç”¨ npm 3 æ¥è¿›è¡Œå®‰è£…çš„è¯ï¼Œ`./node_modules` ä¸‹çš„ç›®å½•å°†ä¼šåŒ…å«ä¸‰ä¸ªå­ç›®å½•ï¼š\n\n\n```text\nnode_modules/\nâ”œâ”€â”¬ A\nâ”œâ”€â”¬ B\nâ”œâ”€â”¬ C\n```\n\n\nä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™æ ·çš„åŒºåˆ«å‘¢ï¼Ÿè¿™å°±è¦ä» npm çš„å·¥ä½œæ–¹å¼è¯´èµ·äº†ï¼š\n\n\n## npm 2 å’Œ npm 3 æ¨¡å—å®‰è£…æœºåˆ¶çš„å·®å¼‚\n\n\nè™½ç„¶ç›®å‰æœ€æ–°çš„ npm ç‰ˆæœ¬æ˜¯ npm 7ï¼Œä½† npm 2 åˆ° npm 3 çš„ç‰ˆæœ¬å˜æ›´ä¸­å®ç°äº†ç›®å½•æ‰“å¹³ï¼Œä¸å…¶ä»–ç‰ˆæœ¬ç›¸æ¯”å·®åˆ«è¾ƒå¤§ã€‚å› æ­¤ï¼Œè®©æˆ‘ä»¬å…·ä½“çœ‹ä¸‹è¿™ä¸¤ä¸ªç‰ˆæœ¬çš„å·®å¼‚ã€‚\n\n\nnpm 2 åœ¨å®‰è£…ä¾èµ–åŒ…æ—¶ï¼Œé‡‡ç”¨ç®€å•çš„é€’å½’å®‰è£…æ–¹æ³•ã€‚æ‰§è¡Œ\n\n\n```text\nnpm install\n```\n\n\nåï¼Œnpm æ ¹æ® dependencies å’Œ devDependencies å±æ€§ä¸­æŒ‡å®šçš„åŒ…æ¥ç¡®å®šç¬¬ä¸€å±‚ä¾èµ–ï¼Œnpm 2 ä¼šæ ¹æ®ç¬¬ä¸€å±‚ä¾èµ–çš„å­ä¾èµ–ï¼Œé€’å½’å®‰è£…å„ä¸ªåŒ…åˆ°å­ä¾èµ–çš„ node_modules ä¸­ï¼Œç›´åˆ°å­ä¾èµ–ä¸å†ä¾èµ–å…¶ä»–æ¨¡å—ã€‚æ‰§è¡Œå®Œæ¯•åï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°\n\n\n```text\n./node_modules\n```\n\n\nè¿™å±‚ç›®å½•ä¸­åŒ…å«æœ‰æˆ‘ä»¬ package.json æ–‡ä»¶ä¸­æ‰€æœ‰çš„ä¾èµ–åŒ…ï¼Œè€Œè¿™äº›ä¾èµ–åŒ…çš„å­ä¾èµ–åŒ…éƒ½å®‰è£…åœ¨äº†è‡ªå·±çš„ node_modules ä¸­ ï¼Œå½¢æˆç±»ä¼¼äºä¸‹é¢çš„ä¾èµ–æ ‘ï¼š\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FppqBFUwkpGrtMkNTny7Uyg-k99C.png)\n\n\nè¿™æ ·çš„ç›®å½•æœ‰è¾ƒä¸ºæ˜æ˜¾çš„å¥½å¤„ï¼š 1ï¼‰å±‚çº§ç»“æ„éå¸¸æ˜æ˜¾ï¼Œå¯ä»¥æ¸…æ¥šçš„åœ¨ç¬¬ä¸€å±‚çš„ node_modules ä¸­çœ‹åˆ°æˆ‘ä»¬å®‰è£…çš„æ‰€æœ‰åŒ…çš„å­ç›®å½•ï¼› 2ï¼‰åœ¨å·²çŸ¥è‡ªå·±æ‰€éœ€åŒ…çš„åå­—ä»¥åŠç‰ˆæœ¬å·æ—¶ï¼Œå¯ä»¥å¤åˆ¶ç²˜è´´ç›¸åº”çš„æ–‡ä»¶åˆ° node_modules ä¸­ï¼Œç„¶åæ‰‹åŠ¨æ›´æ”¹ package.json ä¸­çš„é…ç½®ï¼› 3ï¼‰å¦‚æœæƒ³è¦åˆ é™¤æŸä¸ªåŒ…ï¼Œåªéœ€è¦ç®€å•çš„åˆ é™¤ package.json æ–‡ä»¶ä¸­ç›¸åº”çš„æŸä¸€è¡Œï¼Œç„¶ååˆ é™¤ node_modules ä¸­è¯¥åŒ…çš„ç›®å½•ï¼› ä½†æ˜¯è¿™æ ·çš„å±‚çº§ç»“æ„ä¹Ÿæœ‰è¾ƒä¸ºæ˜æ˜¾çš„ç¼ºé™·ï¼Œå½“æˆ‘çš„ Aï¼ŒBï¼ŒC ä¸‰ä¸ªåŒ…ä¸­æœ‰ç›¸åŒçš„ä¾èµ– D æ—¶ï¼Œæ‰§è¡Œ\n\n\n```text\nnpm install\n```\n\n\nåï¼ŒD ä¼šè¢«é‡å¤ä¸‹è½½ä¸‰æ¬¡ï¼Œè€Œéšç€æˆ‘ä»¬çš„é¡¹ç›®è¶Šæ¥è¶Šå¤æ‚ï¼Œnode_modules ä¸­çš„ä¾èµ–æ ‘ä¹Ÿä¼šè¶Šæ¥è¶Šå¤æ‚ï¼Œåƒ D è¿™æ ·çš„åŒ…ä¹Ÿä¼šè¶Šæ¥è¶Šå¤šï¼Œé€ æˆäº†å¤§é‡çš„å†—ä½™ï¼›åœ¨ windows ç³»ç»Ÿä¸­ï¼Œç”šè‡³ä¼šå› ä¸ºç›®å½•çš„å±‚çº§å¤ªæ·±å¯¼è‡´æ–‡ä»¶çš„è·¯å¾„è¿‡é•¿ï¼Œè§¦å‘æ–‡ä»¶è·¯å¾„ä¸èƒ½è¶…è¿‡ 280 ä¸ªå­—ç¬¦çš„é”™è¯¯ï¼›\n\n\nä¸ºäº†è§£å†³ä»¥ä¸Šé—®é¢˜ï¼Œnpm 3 çš„ node_modules ç›®å½•æ”¹æˆäº†æ›´ä¸ºæ‰å¹³çŠ¶çš„å±‚çº§ç»“æ„ï¼Œå°½é‡æŠŠä¾èµ–ä»¥åŠä¾èµ–çš„ä¾èµ–å¹³é“ºåœ¨ node_modules æ–‡ä»¶å¤¹ä¸‹å…±äº«ä½¿ç”¨ã€‚\n\n\n## npm 3 å¯¹äºåŒä¸€ä¾èµ–çš„ä¸åŒç‰ˆæœ¬ä¼šæ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ\n\n\nnpm 3 ä¼šéå†æ‰€æœ‰çš„èŠ‚ç‚¹ï¼Œé€ä¸ªå°†æ¨¡å—æ”¾åœ¨ node_modules çš„ç¬¬ä¸€å±‚ï¼Œå½“å‘ç°æœ‰é‡å¤æ¨¡å—æ—¶ï¼Œåˆ™ä¸¢å¼ƒï¼Œ å¦‚æœé‡åˆ°æŸäº›ä¾èµ–ç‰ˆæœ¬ä¸å…¼å®¹çš„é—®é¢˜ï¼Œåˆ™ç»§ç»­é‡‡ç”¨ npm 2 çš„å¤„ç†æ–¹å¼ï¼Œå‰é¢çš„æ”¾åœ¨ node_modules ç›®å½•ä¸­ï¼Œåé¢çš„æ”¾åœ¨ä¾èµ–æ ‘ä¸­ã€‚ä¸¾ä¸ªä¾‹å­ï¼š Aï¼ŒBï¼Œä¾èµ– D(v 0.0.1)ï¼ŒC ä¾èµ– D(v 0.0.2):\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FvZO2pj5R9JpsDppNn2DYZf1FUJL.png)\n\n\nä½†æ˜¯ npm 3 ä¼šå¸¦æ¥ä¸€ä¸ªæ–°çš„é—®é¢˜ï¼šç”±äºåœ¨æ‰§è¡Œ npm install çš„æ—¶å€™ï¼ŒæŒ‰ç…§ package.json é‡Œä¾èµ–çš„é¡ºåºä¾æ¬¡è§£æï¼Œä¸Šå›¾å¦‚æœ C çš„é¡ºåºåœ¨ Aï¼ŒB çš„å‰è¾¹ï¼Œnode_modules æ ‘åˆ™ä¼šæ”¹å˜ï¼Œä¼šå‡ºç°ä¸‹è¾¹çš„æƒ…å†µï¼š\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FrLv9LO5MkYZIBkL3Im9UhLVBupA.png)\n\n\nç”±æ­¤å¯è§ï¼Œnpm 3 å¹¶æœªå®Œå…¨è§£å†³å†—ä½™çš„é—®é¢˜ï¼Œç”šè‡³è¿˜ä¼šå¸¦æ¥æ–°çš„é—®é¢˜ã€‚\n\n\n# ä¸ºä»€ä¹ˆä¼šå‡ºç° package-lock.json å‘¢ï¼Ÿ\n\n\n## package.json çš„ä¸è¶³ä¹‹å¤„\n\n\nnpm install æ‰§è¡Œåï¼Œä¼šç”Ÿæˆä¸€ä¸ª node_modules æ ‘ï¼Œåœ¨ç†æƒ³æƒ…å†µä¸‹ï¼Œ å¸Œæœ›å¯¹äºåŒä¸€ä¸ª package.json æ€»æ˜¯ç”Ÿæˆå®Œå…¨ç›¸åŒ node_modules æ ‘ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œç¡®å®å¦‚æ­¤ã€‚ä½†åœ¨å¤šæ•°æƒ…å†µä¸‹ï¼Œnpm æ— æ³•åšåˆ°è¿™ä¸€ç‚¹ã€‚æœ‰ä»¥ä¸‹ä¸¤ä¸ªåŸå› ï¼š 1ï¼‰æŸäº›ä¾èµ–é¡¹è‡ªä¸Šæ¬¡å®‰è£…ä»¥æ¥ï¼Œå¯èƒ½å·²å‘å¸ƒäº†æ–°ç‰ˆæœ¬ ã€‚æ¯”å¦‚ï¼šA åŒ…åœ¨å›¢é˜Ÿä¸­ç¬¬ä¸€ä¸ªäººå®‰è£…çš„æ—¶å€™æ˜¯ 1.0.5 ç‰ˆæœ¬ï¼Œpackage.json ä¸­çš„é…ç½®é¡¹ä¸º `A: '^1.0.5'` ï¼›å›¢é˜Ÿä¸­ç¬¬äºŒä¸ªäººæŠŠä»£ç æ‹‰ä¸‹æ¥çš„æ—¶å€™ï¼ŒA åŒ…çš„ç‰ˆæœ¬å·²ç»å‡çº§æˆäº† 1.0.8ï¼Œæ ¹æ® package.json ä¸­çš„[semver-range version](http://semver.org/) è§„èŒƒï¼Œæ­¤æ—¶ç¬¬äºŒä¸ªäºº npm install å A çš„ç‰ˆæœ¬ä¸º 1.0.8ï¼› å¯èƒ½ä¼šé€ æˆå› ä¸ºä¾èµ–ç‰ˆæœ¬ä¸åŒè€Œå¯¼è‡´çš„ bugï¼› 2ï¼‰é’ˆå¯¹ 1ï¼‰ä¸­çš„é—®é¢˜ï¼Œå¯èƒ½æœ‰çš„å°ä¼™ä¼´ä¼šæƒ³ï¼ŒæŠŠ A çš„ç‰ˆæœ¬å·å›ºå®šä¸º `A: '1.0.5'` ä¸å°±å¯ä»¥äº†å—ï¼Ÿä½†æ˜¯è¿™æ ·çš„åšæ³•å…¶å®å¹¶æ²¡æœ‰è§£å†³é—®é¢˜ï¼Œ æ¯”å¦‚ A çš„æŸä¸ªä¾èµ–åœ¨ç¬¬ä¸€ä¸ªäººä¸‹è½½çš„æ—¶å€™æ˜¯ 2.1.3 ç‰ˆæœ¬ï¼Œä½†æ˜¯ç¬¬äºŒä¸ªäººä¸‹è½½çš„æ—¶å€™å·²ç»å‡çº§åˆ°äº† 2.2.5 ç‰ˆæœ¬ï¼Œæ­¤æ—¶ç”Ÿæˆçš„ node_modules æ ‘ä¾æ—§ä¸å®Œå…¨ç›¸åŒ ï¼Œå›ºå®šç‰ˆæœ¬åªæ˜¯å›ºå®šæ¥è‡ªèº«çš„ç‰ˆæœ¬ï¼Œä¾èµ–çš„ç‰ˆæœ¬æ— æ³•å›ºå®šã€‚\n\n\n## é’ˆå¯¹ package.json ä¸è¶³çš„è§£å†³æ–¹æ³•\n\n\nä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ä»¥åŠ npm 3 çš„é—®é¢˜ï¼Œåœ¨ npm 5.0 ç‰ˆæœ¬åï¼Œnpm install åéƒ½ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª package-lock.json æ–‡ä»¶ ï¼Œå½“åŒ…ä¸­æœ‰ package-lock.json æ–‡ä»¶æ—¶ï¼Œnpm install æ‰§è¡Œæ—¶ï¼Œå¦‚æœ package.json å’Œ package-lock.json ä¸­çš„ç‰ˆæœ¬å…¼å®¹ï¼Œä¼šæ ¹æ® package-lock.json ä¸­çš„ç‰ˆæœ¬ä¸‹è½½ï¼›å¦‚æœä¸å…¼å®¹ï¼Œå°†ä¼šæ ¹æ® package.json çš„ç‰ˆæœ¬ï¼Œæ›´æ–° package-lock.json ä¸­çš„ç‰ˆæœ¬ï¼Œå·²ä¿è¯ package-lock.json ä¸­çš„ç‰ˆæœ¬å…¼å®¹ package.jsonã€‚\n\n\n## package-lock.json æ–‡ä»¶çš„ç»“æ„\n\n\npackage-lock.json æ–‡ä»¶ä¸­çš„ nameã€version ä¸ package.json ä¸­çš„ nameã€version ä¸€æ ·ï¼Œæè¿°äº†å½“å‰åŒ…çš„åå­—å’Œç‰ˆæœ¬ï¼Œdependencies æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡å’Œ node_modules ä¸­çš„åŒ…ç»“æ„ä¸€ä¸€å¯¹åº”ï¼Œå¯¹è±¡çš„ key ä¸ºåŒ…çš„åç§°ï¼Œå€¼ä¸ºåŒ…çš„ä¸€äº›æè¿°ä¿¡æ¯ï¼Œ æ ¹æ® [package-lock-json å®˜æ–¹æ–‡æ¡£](https://docs.npmjs.com/configuring-npm/package-lock-json.html#requires)ï¼Œä¸»è¦çš„ç»“æ„å¦‚ä¸‹ï¼š\n\n- `version` ï¼šåŒ…ç‰ˆæœ¬ï¼Œå³è¿™ä¸ªåŒ…å½“å‰å®‰è£…åœ¨ `node_modules` ä¸­çš„ç‰ˆæœ¬\n- `resolved` ï¼šåŒ…å…·ä½“çš„å®‰è£…æ¥æº\n- `integrity` ï¼šåŒ… `hash` å€¼ï¼ŒéªŒè¯å·²å®‰è£…çš„è½¯ä»¶åŒ…æ˜¯å¦è¢«æ”¹åŠ¨è¿‡ã€æ˜¯å¦å·²å¤±æ•ˆ\n- `requires` ï¼šå¯¹åº”å­ä¾èµ–çš„ä¾èµ–ï¼Œä¸å­ä¾èµ–çš„ `package.json` ä¸­ `dependencies` çš„ä¾èµ–é¡¹ç›¸åŒ\n- `dependencies` ï¼šç»“æ„å’Œå¤–å±‚çš„ `dependencies` ç»“æ„ç›¸åŒï¼Œå­˜å‚¨å®‰è£…åœ¨å­ä¾èµ– `node_modules` ä¸­çš„ä¾èµ–åŒ…\n\néœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„å­ä¾èµ–éƒ½æœ‰ `dependencies` å±æ€§ã€‚åªæœ‰å½“å­ä¾èµ–çš„ä¾èµ–å’Œå½“å‰å·²å®‰è£…åœ¨æ ¹ç›®å½•çš„ `node_modules` ä¸­çš„ä¾èµ–å†²çªä¹‹åï¼Œæ‰ä¼šæœ‰è¿™ä¸ªå±æ€§ã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FjshiUK2y-rCBSHN8bC4cWnmNrve.png)\n\n\n## package-lock.json æ–‡ä»¶çš„ä½œç”¨\n\n- åœ¨å›¢é˜Ÿå¼€å‘ä¸­ï¼Œç¡®ä¿æ¯ä¸ªå›¢é˜Ÿæˆå‘˜å®‰è£…çš„ä¾èµ–ç‰ˆæœ¬æ˜¯ä¸€è‡´çš„ï¼Œç¡®å®šä¸€æ£µå”¯ä¸€çš„ node_modules æ ‘ï¼›\n- node_modules ç›®å½•æœ¬èº«æ˜¯ä¸ä¼šè¢«æäº¤åˆ°ä»£ç åº“çš„ï¼Œä½†æ˜¯ package-lock.json å¯ä»¥æäº¤åˆ°ä»£ç åº“ï¼Œå¦‚æœå¼€å‘äººå‘˜æƒ³è¦å›æº¯åˆ°æŸä¸€å¤©çš„ç›®å½•çŠ¶æ€ï¼Œåªéœ€è¦æŠŠ package.json å’Œ package-lock.json è¿™ä¸¤ä¸ªæ–‡ä»¶å›é€€åˆ°é‚£ä¸€å¤©å³å¯ ã€‚\n- ç”±äº package-lock.json å’Œ node_modules ä¸­çš„ä¾èµ–åµŒå¥—å®Œå…¨ä¸€è‡´ï¼Œå¯ä»¥æ›´åŠ æ¸…æ¥šçš„äº†è§£æ ‘çš„ç»“æ„åŠå…¶å˜åŒ–ã€‚\n- åœ¨å®‰è£…æ—¶ï¼Œnpm ä¼šæ¯”è¾ƒ node_modules å·²æœ‰çš„åŒ…ï¼Œå’Œ package-lock.json è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœé‡å¤çš„è¯ï¼Œå°±è·³è¿‡å®‰è£… ï¼Œä»è€Œä¼˜åŒ–äº†å®‰è£…çš„è¿‡ç¨‹ã€‚\n\n# ä¾èµ–çš„åŒºåˆ«ä¸ä½¿ç”¨åœºæ™¯\n\n\nnpm ç›®å‰æ”¯æŒä»¥ä¸‹å‡ ç±»ä¾èµ–åŒ…ç®¡ç†åŒ…æ‹¬\n\n- dependencies\n- devDependencies å¼€å‘ç¯å¢ƒä¾èµ–åŒ…\n- optionalDependencies å¯é€‰æ‹©çš„ä¾èµ–åŒ…\n- peerDependencies åŒç­‰ä¾èµ–\n- bundledDependencies æ†ç»‘ä¾èµ–åŒ…\n\n### dependencies\n\n\næ— è®ºåœ¨å¼€å‘ç¯å¢ƒè¿˜æ˜¯åœ¨ç”Ÿäº§ç¯å¢ƒéƒ½å¿…é¡»ä½¿ç”¨çš„ä¾èµ–ï¼Œæ˜¯æœ€å¸¸ç”¨çš„ä¾èµ–åŒ…ç®¡ç†å¯¹è±¡ï¼Œä¾‹å¦‚ Reactï¼Œtypescriptï¼ŒAxios ç­‰ï¼Œé€šè¿‡ `npm install XXX` ä¸‹è½½çš„åŒ…éƒ½ä¼šé»˜è®¤å®‰è£…åœ¨ dependencies å¯¹è±¡ä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ `npm install XXX -S` ä¸‹è½½ dependencies ä¸­çš„åŒ…ï¼› æ’ä»¶ä¸‹ dependencies ä¸­çš„ä¾èµ–ä¼šåœ¨å®‰è£…æ’ä»¶æ—¶å…¨éƒ¨å®‰è£…\n\n\n### devDependencies\n\n\næŒ‡å¯ä»¥åœ¨å¼€å‘ç¯å¢ƒä½¿ç”¨çš„ä¾èµ–ï¼Œä¾‹å¦‚ eslintï¼Œ@types ç±»å‹å®šä¹‰æ–‡ä»¶ç­‰ï¼Œé€šè¿‡ `npm install XXX -D` ä¸‹è½½çš„åŒ…éƒ½ä¼šåœ¨ devDependencies å¯¹è±¡ä¸­ï¼› dependencies å’Œ devDependencies æœ€å¤§çš„åŒºåˆ«æ˜¯åœ¨æ‰“åŒ…è¿è¡Œæ—¶ï¼Œæ‰§è¡Œ Â `npm install`Â  æ—¶é»˜è®¤ä¼šæŠŠæ‰€æœ‰ä¾èµ–å…¨éƒ¨å®‰è£…ï¼Œä½†æ˜¯å¦‚æœä½¿ç”¨ Â `npm install --production`Â  æ—¶å°±åªä¼šå®‰è£… dependencies ä¸­çš„ä¾èµ–ï¼Œå¦‚æœæ˜¯ node æœåŠ¡é¡¹ç›®ï¼Œå°±å¯ä»¥é‡‡ç”¨è¿™æ ·çš„æ–¹å¼ç”¨äºæœåŠ¡è¿è¡Œæ—¶å®‰è£…å’Œæ‰“åŒ…ï¼Œå‡å°‘åŒ…å¤§å°ã€‚\n\n\n### optionalDependencies\n\n\næŒ‡çš„æ˜¯å¯ä»¥é€‰æ‹©çš„ä¾èµ–ï¼Œå½“ä½ å¸Œæœ›æŸäº›ä¾èµ–å³ä½¿ä¸‹è½½å¤±è´¥æˆ–è€…æ²¡æœ‰æ‰¾åˆ°æ—¶ï¼Œé¡¹ç›®ä¾ç„¶å¯ä»¥æ­£å¸¸è¿è¡Œæˆ–è€… npm ç»§ç»­è¿è¡Œçš„æ—¶ï¼Œå°±å¯ä»¥æŠŠè¿™äº›ä¾èµ–æ”¾åœ¨ optionalDependencies å¯¹è±¡ä¸­. ä½†æ˜¯ optionalDependencies ä¼šè¦†ç›– dependencies ä¸­çš„åŒåä¾èµ–åŒ…ï¼Œæ‰€ä»¥ä¸è¦æŠŠä¸€ä¸ªåŒ…åŒæ—¶å†™è¿›ä¸¤ä¸ªå¯¹è±¡ä¸­ã€‚\n\n\noptionalDependencies å°±åƒæ˜¯æˆ‘ä»¬çš„ä»£ç çš„ä¸€ç§ä¿æŠ¤æœºåˆ¶ä¸€æ ·ï¼Œå¦‚æœåŒ…å­˜åœ¨çš„è¯å°±èµ°å­˜åœ¨çš„é€»è¾‘ï¼Œä¸å­˜åœ¨çš„å°±èµ°ä¸å­˜åœ¨çš„é€»è¾‘ã€‚ eg: å›¾ç‰‡å‹ç¼©æ’ä»¶åœ¨ windows å’Œ mac ä¸Šçš„é—®é¢˜\n\n\n### peerDependencies\n\n\nç”¨äºæŒ‡å®šä½ å½“å‰çš„æ’ä»¶å…¼å®¹çš„å®¿ä¸»å¿…é¡»è¦å®‰è£…çš„åŒ…çš„ç‰ˆæœ¬ï¼Œè¿™ä¸ªæ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿä¸¾ä¸ªä¾‹å­ ğŸŒ°ï¼šæˆ‘ä»¬å¸¸ç”¨çš„ react ç»„ä»¶åº“ [ant-design@4.x](https://ant.design/index-cn) çš„ package.json ä¸­çš„é…ç½®å¦‚ä¸‹ï¼š\n\n\n```json\n{\n  \"peerDependencies\": {\n    \"react\": \">=16.9.0\",\n    \"react-dom\": \">=16.9.0\"\n  }\n}\n```\n\n\nå‡è®¾æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåä¸º project çš„é¡¹ç›®ï¼Œåœ¨æ­¤é¡¹ç›®ä¸­æˆ‘ä»¬è¦ä½¿ç”¨ [ant-design@4.x](https://ant.design/index-cn) è¿™ä¸ª UI åº“ï¼Œæ­¤æ—¶æˆ‘ä»¬çš„é¡¹ç›®å°±å¿…é¡»å…ˆå®‰è£… React >= 16.9.0 å’Œ React-dom >= 16.9.0 çš„ç‰ˆæœ¬ã€‚\n\n\n> æ³¨æ„: åœ¨ npm 2 ä¸­ï¼Œå½“æˆ‘ä»¬ä¸‹è½½\n\n\n\t[ant-design@4.x](https://ant.design/index-cn)\n\n\n\t[ant-design@4.x](https://ant.design/index-cn)\n\n\n\t![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FtJGli5eh8Ec5L4Y71ZKCyXD4CB4.png)\n\n\n### é€‚ç”¨åœºæ™¯\n\n\né€šå¸¸æ˜¯åœ¨æ’ä»¶å¼€å‘çš„åœºæ™¯ä¸‹ï¼Œä½ çš„æ’ä»¶éœ€è¦æŸäº›ä¾èµ–çš„æ”¯æŒï¼Œä½†æ˜¯ä½ åˆæ²¡å¿…è¦å»å®‰è£…ï¼Œå› ä¸ºæ’ä»¶çš„å®¿ä¸»ä¼šå»å®‰è£…è¿™äº›ä¾èµ–ï¼Œä½ å°±å¯ä»¥ç”¨ peerDependencies å»å£°æ˜ä¸€ä¸‹éœ€è¦ä¾èµ–çš„æ’ä»¶å’Œç‰ˆæœ¬ï¼Œå¦‚æœå‡ºé—®é¢˜ npm å°±ä¼šæœ‰è­¦å‘Šæ¥æé†’ä½¿ç”¨è€…å»è§£å†³ç‰ˆæœ¬å†²çªé—®é¢˜ã€‚\n\n\n### bundledDependencies\n\n\næ†ç»‘ä¾èµ–ã€‚è¿™ä¸ªä¾èµ–é¡¹ä¸å…¶ä»–å‡ ç§ä¾èµ–é¡¹ä¸åŒï¼Œä»–ä¸æ˜¯ä¸€ä¸ªé”®å€¼å¯¹çš„å¯¹è±¡ï¼Œè€Œæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„é‡Œæ˜¯åŒ…åçš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ï¼š\n\n\n```json\n{ \n  \"name\": \"project\", \n  \"version\": \"1.0.0\", \n  \"bundleDependencies\": [ \n    \"axios\",  \n    \"lodash\" \n  ] \n}\n```\n\n\nå½“ä½¿ç”¨ npm install æ—¶,è¿™ä¸¤ä¸ªä¾èµ–å’Œæ‰€éœ€è¦çš„ä¾èµ–éƒ½ä¼šå®‰è£…. å½“ä½¿ç”¨ npm pack çš„æ–¹å¼æ¥æ‰“åŒ…æ—¶ï¼Œä¸Šè¿°çš„ä¾‹å­ä¼šç”Ÿæˆä¸€ä¸ª project-1.0.0.tgz çš„æ–‡ä»¶ï¼Œåœ¨ä½¿ç”¨äº† bundledDependencies åï¼Œæ‰“åŒ…æ—¶ä¼šæŠŠ Axios å’Œ Lodash è¿™ä¸¤ä¸ªä¾èµ–ä¸€èµ·æ”¾å…¥åŒ…ä¸­ï¼Œä¹‹åæœ‰äººä½¿ç”¨ `npm install project-1.0.0.tgz` ä¸‹è½½åŒ…æ—¶ï¼ŒAxios å’Œ Lodash è¿™ä¸¤ä¸ªä¾èµ–ä¹Ÿä¼šè¢«å®‰è£…ã€‚\n\n\néœ€è¦æ³¨æ„çš„æ˜¯å®‰è£…ä¹‹å Axios å’Œ Lodash è¿™ä¸¤ä¸ªåŒ…çš„ä¿¡æ¯åœ¨ dependencies ä¸­ï¼Œå¹¶ä¸”ä¸åŒ…æ‹¬ç‰ˆæœ¬ä¿¡æ¯ã€‚\n\n\n```text\n\"bundleDependencies\": [\n    \"axios\",\n    \"lodash\"\n  ],\n\"dependencies\": {\n  \"axios\": \"*\",\n  \"lodash\": \"*\"\n}\n\n```\n\n\n### é€‚ç”¨åœºæ™¯\n\n\nä¾èµ–åŒ…é€šå¸¸æ˜¯ä» npm ä»“åº“ä¸­å®‰è£…çš„ã€‚è€Œ bundledDependencies è¿™æ˜¯ç”¨åœ¨ä»¥ä¸‹å‡ ä¸ªåœºæ™¯:\n\n- å¤ç”¨ä¸æ˜¯æ¥è‡ª npm ä»“åº“æˆ–å·²ä¿®æ”¹çš„ç¬¬ä¸‰æ–¹åº“\n- å°†è‡ªå·±çš„é¡¹ç›®ä½œä¸ºæ¨¡å—å¤ç”¨\n- ä¸æ¨¡å—ä¸€èµ·å‘å¸ƒä¸€äº›æ–‡ä»¶\n\nè¿™æ ·å°±ä¸å¿…åˆ›å»ºå’Œç»´æŠ¤è‡ªå·±çš„ npm æ’ä»¶ï¼Œä½†å¯ä»¥è·å¾—ä¸ npm åŒ…ç›¸åŒçš„ç»“æœã€‚\n\n\n### ä¸é€‚ç”¨åœºæ™¯\n\n\nå¦‚æœæ˜¯å¤„ç†è½¯ä»¶ç‰ˆæœ¬é”å®šé—®é¢˜, package-lock.json æ˜¯æ›´å¥½çš„é€‰æ‹©.\n\n\n# å®é™…åº”ç”¨\n\n\n## é—®é¢˜å‡ºç°\n\n\næœ€è¿‘æœ‰ä¸ªé¡¹ç›®åœ¨åˆå§‹åŒ–çš„è¿‡ç¨‹ä¸­ï¼ŒåŠ å…¥äº†å…¬å¸ç»Ÿä¸€çš„ Eslint ç®¡ç†ï¼Œéœ€è¦ç”¨åˆ°ä¸¤ä¸ªä¾èµ–åŒ…ã€‚\n\n\n```text\n\"devDependencies\": {\n  \"@yunke/eslint-config-react-ts\": \"^1.0.0\",\n  \"@yunke/yunke-setting-plugin\": \"^1.1.0\"\n}\n```\n\n\nä½†æ˜¯åœ¨ Windows ç”µè„‘ä¸Šï¼Œä¼šæŠ¥ `import/order` çš„ Eslint é¡ºåºé”™è¯¯ã€‚åœ¨ Mac ç”µè„‘ä¸Šåˆ™æ²¡æœ‰å‡ºç°è¿™ç§æƒ…å†µã€‚åœ¨ç ”ç©¶ä¾èµ–åŒ…çš„æ—¶å€™å‘ç°ï¼Œ`eslint-plugin-import` çš„ç‰ˆæœ¬å‡ºäº†ç‚¹é—®é¢˜ã€‚åœ¨ `@yunke/eslint-config-react-ts` çš„é…ç½®ä¸­ï¼Œéœ€è¦çš„ç‰ˆæœ¬æ˜¯ `>=2.22.1`ã€‚è€Œå®é™…åœ¨é¡¹ç›®ä¸­è¢«å®‰è£…çš„ç‰ˆæœ¬ç¡®æ˜¯ `2.20.1`ã€‚å¯¼è‡´ç‰ˆæœ¬å®‰è£…ä¸å¯¹çš„åŸå› åˆ™æ˜¯å› ä¸ºé¡¹ç›®ä¸­ä½¿ç”¨çš„ `react-scripts` æ’ä»¶æŒ‡å®šéœ€è¦ `2.20.1` çš„ç‰ˆæœ¬ã€‚ä½†æ˜¯ç–‘æƒ‘ç‚¹æ¥äº†ï¼Œä¸ºä»€ä¹ˆä¸¤ä¸ªæ’ä»¶éœ€è¦çš„æ’ä»¶ç‰ˆæœ¬ä¸ä¸€æ ·å´åªå®‰è£…ä¸€ä¸ªå‘¢ã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FjJR8rxYO7ZQRtx_seEzGDzhqD_C.png)\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FjF-sSjh9dvabFPWjnO7QPEvH3SI.png)\n\n\n## æ¢ç©¶\n\n\néšåä»”ç»†ç ”ç©¶äº†`@yunke/eslint-config-react-ts`å’Œ`react-scripts`çš„`package.json`ï¼Œå‘ç°ä¸€ä¸ªé‡è¦çš„é—®é¢˜ï¼Œä¹Ÿæ˜¯ä¸Šé¢æåˆ°è¿‡çš„ï¼Œ`@yunke/eslint-config-react-ts`æ‰€ä¾èµ–çš„`eslint-plugin-import`æ’ä»¶æ˜¯æ”¾åœ¨ peerDependencies ä¸­å®šä¹‰çš„ï¼Œè€Œåœ¨ npm3 ä»¥ä¸Šçš„ç‰ˆæœ¬ä¸­ï¼Œä¸ä¼šè‡ªåŠ¨ä¸‹è½½è¿™é‡Œé¢çš„ä¾èµ–ï¼Œè€Œæ˜¯ä¼šä»¥ warning çš„æ–¹å¼æç¤ºå‡ºæ¥ï¼Œéœ€è¦å®¿ä¸»æ’ä»¶æ‰‹åŠ¨åœ¨`package.json`ä¸­å®šä¹‰å¹¶å®‰è£…ï¼Œè€Œ`react-scripts`æ‰€ä¾èµ–çš„`eslint-plugin-import`æ’ä»¶æ˜¯æ”¾åœ¨ dependencies ä¸­çš„ï¼Œæ‰€ä»¥ä¼šè¢«ä¸‹è½½ä¸‹æ¥ï¼Œä¸éœ€è¦å®šä¹‰ã€‚\n\n\n### @yunke/eslint-config-react-ts çš„ä¾èµ–\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FtlEPncJ3tAO00_vP9VfGTVAjdg1.png)\n\n\n### react-scripts çš„ä¾èµ–\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FiROfU6ox--W3IX0HgXHo4GQtDY4.png)\n\n\nå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œnpm åœ¨åˆ†æä¾èµ–çš„æ—¶å€™ï¼Œä¼šæŠŠä¾èµ–æ‹å¹³ï¼Œä½†æ˜¯åƒè¿™åŒä¸€ä¾èµ–çš„ä¸åŒç‰ˆæœ¬çš„å¤„ç†ä¼šåƒä¸Šé¢åˆ†æçš„ä¸€æ ·ï¼Œreact-scripts ä¼šè®²è‡ªå·±æ‰€ä¾èµ–çš„ç‰ˆæœ¬æ”¾åœ¨è‡ªå·±çš„ node_modules ä¸­ï¼Œè€Œ@yunke/eslint-config-react-ts è¯´è¦æ±‚çš„åœ¨å®¿ä¸»ä¸Šå®‰è£…è¿™ä¸ªä¾èµ–åï¼Œåˆ™ä¼šç›´æ¥æ”¾åˆ°å®¿ä¸»çš„ node_modules ä¸­å»ã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FvZO2pj5R9JpsDppNn2DYZf1FUJL.png)\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fm7ernHzfWVFRckdzn5Tjt3WBKL9.png)\n\n\n## è§£å†³åŠæ³•\n\n\nåœ¨å®¿ä¸»æ’ä»¶ï¼Œä¹Ÿå°±æ˜¯é¡¹ç›®ä¸­çš„`package.json`ä¸­é‡æ–°å¼•å…¥`eslint-plugin-import`æ’ä»¶å¹¶å®šä¹‰ç‰ˆæœ¬å·ä¸º`>=2.22.1`å³å¯ï¼Œé‡æ–°`yarn install`åå°±ä¼šå®‰è£…ç¬¦åˆ`@yunke/eslint-config-react-ts`æ‰€éœ€è¦çš„ç‰ˆæœ¬ï¼Œè‡³æ­¤é”™è¯¯æ¶ˆå¤±ã€‚\n\n\n## æ–°çš„ç–‘é—®\n\n\nå…¶å®åœ¨`yarn install`æ—¶ï¼Œä¸å•å•æ˜¯æç¤º`eslint-plugin-import`çš„ç‰ˆæœ¬ä¸å¯¹ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–çš„æ’ä»¶çš„ç‰ˆæœ¬ä¹Ÿä¸ç¬¦åˆè¦æ±‚ï¼Œä¾‹å¦‚ typescript çš„ç‰ˆæœ¬è¿‡ä½ç­‰é—®é¢˜ã€‚è¿™é‡Œå°±å¼•ç”³å‡ºä¸€ä¸ªé—®é¢˜ï¼Œåˆ°åº•å“ªäº›ä¾èµ–éœ€è¦æ”¾åˆ° peerDependencies ä¸­ï¼Œå“ªäº›ä¾èµ–éœ€è¦æ”¾åˆ° dependencies ä¸­ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªå€¼å¾—æ€è€ƒçš„é—®é¢˜ã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FtJGli5eh8Ec5L4Y71ZKCyXD4CB4.png)\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2021-05-08",
        "type": "Post",
        "slug": "zqsrm2",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "æœ¬æ–‡ä¸»è¦ä»‹ç»äº† npm ä¾èµ–ç®¡ç†çš„æœºåˆ¶ï¼ŒåŒ…æ‹¬ npm å®‰è£…æœºåˆ¶ã€npm 2 å’Œ npm 3 æ¨¡å—å®‰è£…æœºåˆ¶çš„å·®å¼‚ã€npm 3 å¯¹äºåŒä¸€ä¾èµ–çš„ä¸åŒç‰ˆæœ¬çš„å¤„ç†ã€package-lock.json æ–‡ä»¶çš„ç»“æ„å’Œä½œç”¨ç­‰å†…å®¹ã€‚",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:22:00.000Z",
        "title": "æ¢ç©¶npm ä¾èµ–ç®¡ç†",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Npm"
        ],
        "status": "Archived",
        "urlname": "701f9876-9f7a-4f28-b225-7077e45cfeab",
        "updated": "2023-08-26 15:22:00"
      },
      "body": "",
      "realName": "æ¢ç©¶npm ä¾èµ–ç®¡ç†",
      "relativePath": "/æ¢ç©¶npm ä¾èµ–ç®¡ç†.md"
    },
    {
      "id": "530f1e97-1df5-45a3-a1e4-4b0fa0ef957d",
      "doc_id": "530f1e97-1df5-45a3-a1e4-4b0fa0ef957d",
      "updated": 1693063320000,
      "body_original": "\n[åŸæ–‡é“¾æ¥](http://www.dein.fr/2015-02-18-maslows-pyramid-of-code-review.html)\n\n\né©¬æ–¯æ´›é‡‘å­—å¡”æ˜¯ç¾å›½å¿ƒç†å­¦å®¶é©¬æ–¯æ´›æå‡ºçš„ä¸€ä¸ªå¿ƒç†å­¦æ¨¡å‹ï¼Œè®¤ä¸ºäººç±»çš„å¿ƒç†éœ€æ±‚ä»ä¸‹å¾€ä¸Šåˆ†ä¸º 5 ä¸ªå±‚æ¬¡ï¼Œä¸€æ—¦å®ç°äº†ä¸‹å±‚çš„éœ€æ±‚ï¼Œå°±ä¼šè¿½æ±‚ä¸Šä¸€å±‚çš„éœ€æ±‚ã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fsf3MQRcEQsb-ZJ2yZl4r64rucYf.jpeg)\n\n\nè¿™äº”ä¸ªå±‚æ¬¡ä¾æ¬¡æ˜¯ï¼šç”Ÿç†éœ€æ±‚ã€å®‰å…¨éœ€æ±‚ã€ç¤¾äº¤éœ€æ±‚ã€å°Šä¸¥éœ€æ±‚ã€è‡ªæˆ‘å®ç°ã€‚ ä»£ç è´¨é‡ä¹Ÿå¯ä»¥ç”¨é‡‘å­—å¡”æ¨¡å‹è¡¨ç¤ºï¼Œä»ä¸‹å¾€ä¸Šæœ‰äº”ä¸ªå±‚æ¬¡ã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FkmB_FgFNpCt2MD6Gls4vx0lhrNH.jpeg)\n\n\n**ç¬¬ä¸€å±‚ï¼šæ­£ç¡®**\n\n\nï¼ˆCorrectï¼‰ ä»£ç æ˜¯å¦æ‰§è¡Œé¢„æœŸçš„å·¥ä½œï¼Ÿæ˜¯å¦è€ƒè™‘äº†è¾¹ç¼˜æƒ…å†µï¼Ÿæ˜¯å¦ç»è¿‡å……åˆ†æµ‹è¯•ï¼Ÿæ˜¯å¦æœ‰å¯ç»´æŠ¤æ€§ï¼Ÿæ˜¯å¦æœ‰å¯æ¥å—çš„æ€§èƒ½ï¼Ÿ\n\n\n**ç¬¬äºŒå±‚ï¼šå®‰å…¨**\n\n\nï¼ˆSecureï¼‰ ä»£ç æ˜¯å¦å­˜åœ¨æ¼æ´ï¼Ÿæ•°æ®æ˜¯å¦å®‰å…¨å­˜å‚¨ï¼Ÿä¸ªäººè¯†åˆ«ä¿¡æ¯ï¼ˆPIIï¼‰æ˜¯å¦å¾—åˆ°æ­£ç¡®å¤„ç†ï¼Ÿæ˜¯å¦å¯¹ç”¨æˆ·çš„è¾“å…¥è¿›è¡Œäº†å…¨é¢çš„éªŒè¯ï¼Ÿ\n\n\n**ç¬¬ä¸‰å±‚ï¼šå¯è¯»**\n\n\nï¼ˆReadableï¼‰ ä»£ç æ˜¯å¦æ˜“äºé˜…è¯»å’Œç†è§£ï¼Ÿæµ‹è¯•è¶³å¤Ÿç®€æ´å—ï¼Ÿå˜é‡ã€å‡½æ•°ã€ç±»çš„åç§°æ˜¯å¦é€‚å½“ï¼Ÿä½¿ç”¨é¢†åŸŸæ¨¡å‹æ˜¯å¦å¯ä»¥æ¸…æ™°åœ°æ˜ å°„ç°å®ä¸–ç•Œï¼Œä»¥å‡å°‘è®¤çŸ¥è´Ÿæ‹…ï¼Ÿæ˜¯å¦ä½¿ç”¨ä¸€è‡´çš„ç¼–ç é£æ ¼çº¦å®šï¼Ÿ\n\n\n**ç¬¬å››å±‚ï¼šä¼˜é›…**\n\n\nï¼ˆElegantï¼‰ ä»£ç æ˜¯å¦åˆ©ç”¨äº†ä¼—æ‰€å‘¨çŸ¥çš„ç¼–ç¨‹æ¨¡å¼ï¼Ÿèƒ½å¦æ›´ç®€å•ç®€æ´åœ°å®ç°æ‰€éœ€çš„åŠŸèƒ½ï¼Ÿä½ ä¼šä¸ºç¼–å†™è¿™äº›ä»£ç æ„Ÿåˆ°å…´å¥‹å—ï¼Ÿä½ ä¸ºè¿™äº›ä»£ç æ„Ÿåˆ°éª„å‚²å—ï¼Ÿ\n\n\n**ç¬¬äº”å±‚ï¼šåˆ©ä»–ä¸»ä¹‰**\n\n\nï¼ˆAltruistï¼‰ åˆ«äººèƒ½å¦ä»è¿™äº›ä»£ç å­¦åˆ°ä¸œè¥¿ï¼Ÿè¿™äº›ä»£ç æ˜¯å¦ä¼šæ¿€åŠ±å…¶ä»–å·¥ç¨‹å¸ˆè¿›è¡Œæ”¹è¿›ï¼Ÿå®ƒæ˜¯å¦ä¼šè®©ä¸–ç•Œå˜æˆä¸€ä¸ªæ›´å¥½çš„åœ°æ–¹ï¼Ÿ\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2021-05-16",
        "type": "Post",
        "slug": "xelwzw",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:22:00.000Z",
        "title": "ä»£ç çš„é©¬æ–¯æ´›é‡‘å­—å¡”",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "ä»£ç è§„èŒƒ"
        ],
        "status": "Archived",
        "urlname": "530f1e97-1df5-45a3-a1e4-4b0fa0ef957d",
        "updated": "2023-08-26 15:22:00"
      },
      "body": "",
      "realName": "ä»£ç çš„é©¬æ–¯æ´›é‡‘å­—å¡”",
      "relativePath": "/ä»£ç çš„é©¬æ–¯æ´›é‡‘å­—å¡”.md"
    },
    {
      "id": "cbd49264-58c3-4052-b267-0ec9109cb24d",
      "doc_id": "cbd49264-58c3-4052-b267-0ec9109cb24d",
      "updated": 1693063260000,
      "body_original": "\n# å¼•è¨€\n\n\nåœ¨`docker`å®¹å™¨åŒ–è¶Šæ¥è¶Šæµè¡Œçš„ä»Šå¤©ï¼Œå®‰è£…å„ç§ç¯å¢ƒå’Œè½¯ä»¶éƒ½è¶Šæ¥è¶Šæ–¹ä¾¿ã€‚ç„¶è€Œæˆ‘çš„è…¾è®¯äº‘æœåŠ¡å™¨å´ä¾æ—§ä½¿ç”¨çš„æ˜¯è¾ƒä¸ºåŸå§‹çš„`yum`ç­‰å®‰è£…æ–¹å¼ï¼Œåæ¥æ¢æˆäº†å®å¡”ä¸€é”®å¼å®‰è£…åï¼Œç½‘ç«™ä¹Ÿç¨³å®šè¿è¡Œç€ï¼Œä¹Ÿæ²¡æœ‰å†å»ç®¡äº†ã€‚ç„¶è€Œä»Šå¤©å‘ç°äº‘æœåŠ¡çš„å†…å­˜å ç”¨éƒ½å¿«æ»¡äº†ï¼Œç„¶è€Œæˆ‘è¿˜æƒ³å®‰è£…ä¸€äº›å…¶ä»–ç¯å¢ƒã€‚æ‰€ä»¥ä¸ºäº†è¿›ä¸€æ­¥æ¦¨å¹²äº‘æœåŠ¡çš„æ€§èƒ½ï¼Œæˆ‘é€‰æ‹©é‡è£…ç³»ç»Ÿï¼Œå…¨éƒ¨åˆ©ç”¨`docker`çš„æ–¹å¼å»å®‰è£…å„ç§ç¯å¢ƒã€‚ä¸è¿‡ä»Šå¤©åªè®°å½•ä¸‹å®‰è£…`nginx`åŠå…¶ä¸€äº›é…ç½®æ—¶çˆ¬è¿‡çš„å‘ã€‚\n\n\næˆ‘çš„åšå®¢`blog.letttgaco.cn`ï¼Œæ˜¯éƒ¨ç½²åœ¨`GitHub Pages`ä¸Šçš„ï¼Œä½†æ˜¯åŸŸåå¤‡æ¡ˆæ—¶æ˜¯å¤‡æ¡ˆçš„`www.letttgaco.cn`ï¼Œæ‰€ä»¥æˆ‘æ˜¯æƒ³åˆ©ç”¨`nginx`çš„é‡å®šå‘åŠŸèƒ½ï¼Œå°†`www.letttgaco.cn`é‡å®šå‘åˆ°æˆ‘çš„åšå®¢å»ã€‚\n\n\n# æ€è·¯\n\n\nåœ¨ dns è§£æä¸­ï¼Œ`blog.letttgaco.cn`å·²ç»æŒ‡å‘çš„æ˜¯`github`ï¼ˆGitHub Pages å·²è®¾ç½®å¼ºåˆ¶ HTTPS è®¿é—®ï¼‰ï¼Œç°åœ¨éœ€è¦å°†`www.letttgaco.cn`çš„`dns`è§£ææŒ‡å‘äº‘æœåŠ¡å™¨ä¸Šï¼Œç„¶åç”±äº‘æœåŠ¡å™¨ä¸Šéƒ¨ç½²çš„ Nginx å»ç›‘å¬ 80 ç«¯å£å’Œ 443 ç«¯å£ï¼Œå°†å…¶é‡å®šå‘/è½¬å‘è‡³`https://blog.letttgaco.cn`ã€‚\n\n\n# å®‰è£…å‰å‡†å¤‡\n\n\næˆ‘çš„äº‘æœåŠ¡å™¨ä¸ºè…¾è®¯äº‘æœåŠ¡å™¨ï¼Œç³»ç»Ÿä¸º CentOS7.6(64 ä½)ï¼Œè‡ªå¸¦ 50G ç³»ç»Ÿç›˜ã€‚ åœ¨`dns`è§£æä¸­å°†`www.letttgaco.cn`æŒ‡å‘äº‘æœåŠ¡å™¨çš„å¯¹å¤– IP åœ°å€ã€‚\n\n\n# å®‰è£…å¹¶é…ç½® Nginx\n\n\n## ç›®å½•ç»“æ„\n\n\n```text\n|--root                   // rootï¼ˆå®¶ï¼‰ç›®å½•\n|  |--app                 // å„ä¸ªç¨‹åºæ‰€åœ¨ç›®å½•\n|  |  |--nginx            // å„ä¸ªç¨‹åºæ‰€åœ¨ç›®å½•\n|  |  |  |--conf  \t\t\t\t\t\t\t\n|  |  |  |  |--nginx.conf // nginxè‡ªå®šä¹‰é…ç½®æ–‡ä»¶\n|  |  |  |--html          // ç½‘é¡µæ ¹ç›®å½•\n|  |  |  |--logs          // æ—¥å¿—æ–‡ä»¶\n|  |  |  |--ssl           // å„ä¸ªåŸŸåçš„è¯ä¹¦å­˜æ”¾åœ°å€nginx.conf\n|  |--nginx_run.sh        // shè‡ªåŠ¨åŒ–å‘½ä»¤\n```\n\n\næŒ‰ç…§ä»¥ä¸Šç›®å½•ç»“æ„åˆ›å»ºç›¸åº”çš„æ–‡ä»¶å¤¹å’Œæ–‡ä»¶\n\n\n```text\nmkdir /root/app/nginx/conf -p\ntouch /root/app/nginx/conf/nginx.conf\nmkdir /root/app/nginx/html -p\nmkdir /root/app/nginx/logs -p\nmkdir /root/app/nginx/ssl -p\ntouch /root/nginx_run.sh\n```\n\n\n## é…ç½®æ–‡ä»¶\n\n\n### ä¸éœ€è¦ SSL\n\n\nå¦‚æœåªéœ€è¦å°†`http://www.letttgaco.cn`é‡å®šå‘åˆ°`https://blog.letttgaco.cn`ï¼Œé‚£å°±åªéœ€è¦é…ç½® 80 ç«¯å£ã€‚\n\n\n```text\nvim /root/app/nginx/conf/nginx.conf\n```\n\n\n```text\nserver {\n    listen       80;\n\n    server_name  www.letttgaco.cn;\n    rewrite /.* https://blog.letttgaco.cn$uri permanent;\n}\n```\n\n\né‡å®šå‘çš„`url`æ˜¯ä¼šå‘ç”Ÿå˜æ›´ï¼Œå¦‚æœæ˜¯éœ€è¦éšå¼è½¬å‘ï¼Œåˆ™å¯ä»¥è¿›è¡Œå¦‚ä¸‹é…ç½®ï¼š\n\n\n```text\nserver {\n    listen 80;\n    server_name www.letttgaco.cn;\n    large_client_header_buffers 4 128k;\n\n    location / {\n\n        #å¼€å¯å¯¹http1.1æ”¯æŒ\n        proxy_http_version 1.1;\n\n        #è®¾ç½®Connectionä¸ºç©ºä¸²,ä»¥ç¦æ­¢ä¼ é€’å¤´éƒ¨åˆ°åç«¯\n        #http1.0ä¸­é»˜è®¤å€¼Connection: close\n        proxy_set_header Connection \"\";\n\n        proxy_pass https://blog.letttgaco.cn;\n    }\n}\n```\n\n\n### éœ€è¦ SSL\n\n\nå¦‚æœä¹Ÿéœ€è¦å°†`https://www.letttgaco.cn`ä¹Ÿè¿›è¡Œé‡å®šå‘ï¼Œé‚£ä¹ˆå°±éœ€è¦è¿›è¡Œé¢å¤–çš„è¯ä¹¦é…ç½®\n\n\n### ç”³è¯· SSL è¯ä¹¦\n\n\né¦–å…ˆå…ˆå»è…¾è®¯äº‘å»ç”³è¯·`www.letttgaco.cn`çš„ SSL è¯ä¹¦ï¼Œä¸»è¦æœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼š\n\n- `1_www.letttgaco.cn_bundle.crt`\n- `2_www.letttgaco.cn.key`\n\nå°†è¯ä¹¦ä¸‹è½½ä¸‹æ¥å¹¶ä¸Šä¼ åˆ°`/root/app/nginx/ssl`ä¸­ï¼Œ\n\n\n> å¤‡æ³¨ï¼šè…¾è®¯äº‘ SSL éƒ¨ç½²æ–‡æ¡£\n\n\n### é…ç½® conf æ–‡ä»¶\n\n\n```text\nserver {\n    listen 80;\n    #SSL è®¿é—®ç«¯å£å·ä¸º 443\n    listen 443 ssl;\n    #å¡«å†™ç»‘å®šè¯ä¹¦çš„åŸŸå\n    server_name www.letttgaco;\n    #è¯ä¹¦æ–‡ä»¶åç§°\n    ssl_certificate /ssl/1_www.letttgaco.cn_bundle.crt;\n    #ç§é’¥æ–‡ä»¶åç§°\n    ssl_certificate_key /ssl/2_www.letttgaco.cn.key;\n    ssl_session_timeout 5m;\n    #è¯·æŒ‰ç…§ä»¥ä¸‹åè®®é…ç½®\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n    #è¯·æŒ‰ç…§ä»¥ä¸‹å¥—ä»¶é…ç½®ï¼Œé…ç½®åŠ å¯†å¥—ä»¶ï¼Œå†™æ³•éµå¾ª openssl æ ‡å‡†ã€‚\n    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;\n    ssl_prefer_server_ciphers on;\n        # é‡å®šå‘\n    rewrite /.* https://blog.letttgaco.cn$uri permanent;\n}\n```\n\n\n## å¯åŠ¨ Nginx\n\n\n### ä¸éœ€è¦ SSL\n\n\n```text\ndocker run -p 80:80 --name nginx -v /root/app/nginx/html/:/usr/share/nginx/html -v /root/app/nginx/nginx.conf:/etc/nginx/conf.d/nginx.conf -v /root/app/nginx/logs/:/var/log/nginx/  --privileged=true -d nginx:1.19.3\n```\n\n\n### éœ€è¦ SSL\n\n\n```text\ndocker run -p 80:80 -p 443:443 --name nginx -v /root/app/nginx/html/:/usr/share/nginx/html -v /root/app/nginx/nginx.conf:/etc/nginx/conf.d/nginx.conf -v /root/app/nginx/logs/:/var/log/nginx/ -v /root/app/nginx/ssl/:/ssl/ --privileged=true -d nginx:1.19.3\n```\n\n\n> -p 80:80 å°† 80 ç«¯å£æ˜ å°„åˆ°ä¸»æœº 80 ç«¯å£\n\n\t- `-name nginx` åˆ«åï¼Œå¯ä»¥ä½¿ç”¨åˆ«åæ“ä½œ nginx å®¹å™¨\n\t- `v /root/app/nginx/nginx.conf:/etc/nginx/conf.d/nginx.conf` å°†ä¸»æœºçš„é…ç½®æ–‡ä»¶æŒ‚è½½åˆ°å®¹å™¨ä¸­ï¼Œä½¿ nginx å®¹å™¨ä½¿ç”¨ä¸»æœºä¸­çš„è‡ªå®šä¹‰é…ç½®æ–‡ä»¶\n\t- `-privileged=true` è·å–å®¿ä¸»æœº root æƒé™\n\n\t`nginx:1.19.3` æŒ‡å®š nginx çš„ç‰ˆæœ¬ï¼Œé˜²æ­¢åç»­æœ‰å‘\n\n\n# è‡ªåŠ¨åŒ–å¯åŠ¨ Nginx\n\n\nä¸ºäº†å¯åŠ¨`Nginx`æ–¹ä¾¿ï¼Œæˆ‘åœ¨è¿™é‡Œå†™äº†ä¸€ä¸ªç®€å•çš„`nginx_run.sh`çš„è„šæœ¬ï¼š\n\n\n```text\ndocker stop nginxdocker rm nginxdocker run -p 80:80 -p 443:443 --name nginx -v /root/app/nginx/html/:/usr/share/nginx/html -v /root/app/nginx/nginx.conf:/etc/nginx/conf.d/nginx.conf -v /root/app/nginx/logs/:/var/log/nginx/ -v /root/app/nginx/ssl/:/ssl/ --privileged=true -d nginx:1.19.3\n```\n\n\n# ç»“æŸ\n\n\nè‡³æ­¤ï¼Œæˆ‘çš„ç½‘ç«™ç»ˆäºå¯ä»¥å®ç°`http`å’Œ`https`çš„é‡å®šå‘äº†ã€‚\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2020-10-16",
        "type": "Post",
        "slug": "hryfur",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "æœ¬æ–‡ä¸»è¦ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ Nginx é…ç½®é‡å®šå‘å’Œ HTTPSï¼ŒåŒ…æ‹¬å¦‚ä½•å°† HTTP è¯·æ±‚é‡å®šå‘åˆ° HTTPSï¼Œä»¥åŠå¦‚ä½•ç”³è¯·å’Œé…ç½® SSL è¯ä¹¦ã€‚æ­¤å¤–ï¼Œæœ¬æ–‡è¿˜æä¾›äº†ä¸€ä¸ªç®€å•çš„è„šæœ¬ï¼Œç”¨äºè‡ªåŠ¨åŒ–å¯åŠ¨ Nginxã€‚",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:21:00.000Z",
        "title": "Nginxé…ç½®é‡å®šå‘å’ŒHttpsçš„å®è·µ",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Nginx",
          "SSL"
        ],
        "status": "Archived",
        "urlname": "cbd49264-58c3-4052-b267-0ec9109cb24d",
        "updated": "2023-08-26 15:21:00"
      },
      "body": "",
      "realName": "Nginxé…ç½®é‡å®šå‘å’ŒHttpsçš„å®è·µ",
      "relativePath": "/Nginxé…ç½®é‡å®šå‘å’ŒHttpsçš„å®è·µ.md"
    },
    {
      "id": "b043b306-f082-4e6d-bd82-f4be2262de22",
      "doc_id": "b043b306-f082-4e6d-bd82-f4be2262de22",
      "updated": 1693063200000,
      "body_original": "\n# å¼•è¨€\n\n\næœ€è¿‘åœ¨æ­å»º Hadoop+zookeeper+HBase é›†ç¾¤è¿‡ç¨‹ä¸­ï¼ŒHBase è€æ˜¯å‡ºç°å„ç§é—®é¢˜ï¼Œç»è¿‡ä¸æ–­æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ï¼Œæ‰¾å„ç§è§£å†³åŠæ³•â€¦â€¦æ­¤æ—¶æ­¤æ—¶ï¼Œæˆ‘ç»ˆäºæ˜¯æ­å»ºæˆåŠŸäº†å¼å¼å¼~å€¼å¾—åº†ç¥ä¸€ä¸‹ã€‚ä»¥ä¸‹æ˜¯æˆ‘åœ¨æ­å»º HBase é›†ç¾¤è¿‡ç¨‹ä¸­å‡ºç°çš„é—®é¢˜è®°å½•ï¼Œæ”¹å¤©æŠ½ç©ºå†™ä¸€ä¸‹ Hadoop+zookeeper+HBase çš„é›†ç¾¤æ­å»ºã€‚\n\n\n# hbase-site.xml\n\n\nå…ˆæ”¾ä¸€ä¸‹æœ€åæå®šæˆåŠŸçš„é…ç½®æ–‡ä»¶\n\n\n```xml\n<!-- è®¾ç½®HRegionServerså…±äº«ç›®å½•ã€‚å› ä¸ºæˆ‘æ­å»ºçš„æ˜¯é«˜å¯ç”¨é›†ç¾¤ï¼Œ\n\tæ‰€ä»¥è¿™é‡Œçš„hbase.rootdirå€¼æ¥è‡ªhadoopä¸­çš„hdfs.defaultçš„å€¼ -->\n<property>\n\t<name>hbase.rootdir</name>\n\t<value>hdfs://mycluster/hbase</value>\n</property>\n<!-- å¯ç”¨åˆ†å¸ƒå¼æ¨¡å¼ -->\n<property>\n\t<name>hbase.cluster.distributed</name>\n\t<value>true</value>\n</property>\n<!-- masterä¸»æœºçš„ç«¯å£å· -->\n<property>\n\t<name>hbase.master</name>\n\t<value>mycluster:60000</value>\n</property>\n<!-- æŒ‡å®šZookeeperé›†ç¾¤ä½ç½® -->\n<property>\n\t<name>hbase.zookeeper.quorum</name>\n\t<value>s201:2181,s202:2181,s203:2181</value>\n</property>\n <!-- æŒ‡å®šç‹¬ç«‹Zookeeperå®‰è£…è·¯å¾„ -->\n<property>\n\t<name>hbase.zookeeper.property.dataDir</name>\n\t<value>/home/letttgaco/zookeeper</value>\n</property>\n<!-- æŒ‡å®šZooKeeperé›†ç¾¤ç«¯å£ -->\n<property>\n\t<name>hbase.zookeeper.property.clientPort</name>\n\t<value>2181</value>\n</property>\n```\n\n\n# Bug æ±‡æ€»\n\n\n**java.net.UnknownHostException: MyCluster**\n\n\n> è¿™æ˜¯å› ä¸ºï¼ŒHBase æ²¡æœ‰è¯†åˆ« MyCluster è¿™ä¸ªé›†ç¾¤ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•æ˜¯æŠŠ Hadoop çš„ 2 ä¸ªé…ç½®æ–‡ä»¶ï¼ˆcore-site.xmlå’Œhdfs-site.xmlï¼‰ï¼Œæ”¾åˆ°æ¯ä¸ª HBase çš„ conf ç›®å½•ä¸‹ï¼Œè®© HBase èƒ½æ‰¾åˆ° Hadoop çš„é…ç½®ã€‚\n\n\n**zookeeper.MetaTableLocator: Failed verification of hbase:meta,,1 at address xxx**\n\n\n> å¦‚æœä½ ä¹Ÿæ˜¯é›†ç¾¤æ­å»ºè¿‡ç¨‹ä¸­å‡ºç°è¿™ä¸ªé—®é¢˜ï¼Œè¯·æ¸…é™¤ hbase å®‰è£…ç›®å½•ä¸‹ logs æ–‡ä»¶å¤¹ä»¥ hbase å¼€å¤´çš„æ‰€æœ‰æ—¥å¿—æ–‡ä»¶ï¼Œè¿›å…¥ zkCli.sh å®¢æˆ·ç«¯ï¼Œå¹¶ç”¨rmr /hbaseåˆ é™¤æ‰€æœ‰å…³äº hbase çš„è¡¨ä¿¡æ¯ï¼Œå¹¶ç”¨hdfs dfs -rmr /hbaseåˆ é™¤æ‰€æœ‰å…³äº hbase çš„æ–‡ä»¶ï¼Œç„¶åå‚ç…§æˆ‘çš„é…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œç„¶åé›†ç¾¤å°±å¥½äº†ã€‚\n\n\n**ERROR: org.apache.hadoop.hbase.ipc.ServerNotRunningYetException: Server is not running yet**\n\n\n> å¦‚æœä½ ä¹Ÿæ˜¯é›†ç¾¤æ­å»ºè¿‡ç¨‹ä¸­å‡ºç°è¿™ä¸ªé—®é¢˜ï¼Œè¯·æ¸…é™¤ hbase å®‰è£…ç›®å½•ä¸‹ logs æ–‡ä»¶å¤¹ä»¥ hbase å¼€å¤´çš„æ‰€æœ‰æ—¥å¿—æ–‡ä»¶ï¼Œè¿›å…¥ zkCli.sh å®¢æˆ·ç«¯ï¼Œå¹¶ç”¨rmr /hbaseåˆ é™¤æ‰€æœ‰å…³äº hbase çš„è¡¨ä¿¡æ¯ï¼Œå¹¶ç”¨hdfs dfs -rmr /hbaseåˆ é™¤æ‰€æœ‰å…³äº hbase çš„æ–‡ä»¶ï¼Œç„¶åå‚ç…§æˆ‘çš„é…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œç„¶åé›†ç¾¤å°±å¥½äº†ã€‚\n\n\n**org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ipc.StandbyException): Operation category READ is not supported in state standby**\n\n\n> è¿™æ˜¯ç”±äºå¯åŠ¨ hbase æ—¶ï¼Œnamenode æ‰€åœ¨èŠ‚ç‚¹çš„ä¸»æœºçš„ hadoop çŠ¶æ€ä¸º standbyï¼ˆå¤‡ç”¨ï¼‰æ€ï¼Œhbase master è¿›ç¨‹ä¼šåœ¨å¯åŠ¨åè‡ªåŠ¨åœæ‰ã€‚æˆ‘å‡ºç°è¿™ä¸ªçš„åŸå› æ˜¯ï¼šæˆ‘è™½ç„¶å‡†å¤‡æ­å»º hbase é›†ç¾¤ï¼Œä½†æ˜¯åœ¨hbase-site.xmlé…ç½®æ–‡ä»¶ä¸­çš„hbase.rootdirå±æ€§ä¸­é…ç½®çš„ä¾ç„¶æ˜¯å•ä¸€æŸä¸ªä¸»æœºèŠ‚ç‚¹çš„å…±äº«ç›®å½•ï¼Œå¯¼è‡´åœ¨ standby æ€çš„ä¸»æœºå¯åŠ¨ hbase åæ‰ã€‚æ‰€ä»¥è§£å†³æ–¹æ¡ˆæ˜¯å‚ç…§æˆ‘çš„é…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œæ¸…é™¤ hbase å®‰è£…ç›®å½•ä¸‹ logs æ–‡ä»¶å¤¹ä»¥ hbase å¼€å¤´çš„æ‰€æœ‰æ—¥å¿—æ–‡ä»¶ï¼Œè¿›å…¥ zkCli.sh å®¢æˆ·ç«¯ï¼Œå¹¶ç”¨rmr /hbaseåˆ é™¤æ‰€æœ‰å…³äº hbase çš„è¡¨ä¿¡æ¯ï¼Œå¹¶ç”¨hdfs dfs -rmr /hbaseåˆ é™¤æ‰€æœ‰å…³äº hbase çš„æ–‡ä»¶ï¼Œç„¶åé‡æ–°å¯åŠ¨start-hbase.shã€‚\n\n\n**exception=org.apache.hadoop.hbase.NotServingRegionException: Region hbase:meta,,1 is not online on xxx**\n\n\n> å³ä½¿æˆ‘å·²ç»æ­å»ºå¥½çš„é›†ç¾¤ï¼Œæˆ‘æ¯æ¬¡å¯åŠ¨è¿˜æ˜¯ä¼šæŠ¥è¿™ä¸ªé”™è¯¯ï¼Œä½†æ˜¯å¹¶ä¸å½±å“æ­£å¸¸è¿è¡Œã€‚ã€‚ã€‚ å¦‚æœä½ æ˜¯é›†ç¾¤æ­å»ºè¿‡ç¨‹ä¸­å‡ºç°è¿™ä¸ªé—®é¢˜ï¼Œè¯·æ¸…é™¤ hbase å®‰è£…ç›®å½•ä¸‹ logs æ–‡ä»¶å¤¹ä»¥ hbase å¼€å¤´çš„æ‰€æœ‰æ—¥å¿—æ–‡ä»¶ï¼Œè¿›å…¥ zkCli.sh å®¢æˆ·ç«¯ï¼Œå¹¶ç”¨rmr /hbaseåˆ é™¤æ‰€æœ‰å…³äº hbase çš„è¡¨ä¿¡æ¯ï¼Œå¹¶ç”¨hdfs dfs -rmr /hbaseåˆ é™¤æ‰€æœ‰å…³äº hbase çš„æ–‡ä»¶ï¼Œç„¶åå‚ç…§æˆ‘çš„é…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œç„¶åé›†ç¾¤å°±å¥½äº†ã€‚\n\n\n**org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.fs. PathIsNotEmptyDirectoryException): `/hbase/WALs/xxx-splitting is non emptyâ€™: Directory is not empty**\n\n\n> æˆ‘å‡ºç°çš„åŸå› æ˜¯é…ç½®æ–‡ä»¶é…é”™ï¼Œåœ¨ hbase-site.xml é…ç½®æ–‡ä»¶ä¸­çš„hbase.rootdirå±æ€§ä¸­é…ç½®çš„ä¾ç„¶æ˜¯å•ä¸€æŸä¸ªä¸»æœºèŠ‚ç‚¹çš„å…±äº«ç›®å½•ï¼Œæ‰€ä»¥ hbase åªä¼šè®¿é—®å•ä¸€èŠ‚ç‚¹çš„ hdfs çš„ /hbase/WALs/ ç›®å½•ï¼Œå¯¼è‡´å†²çªã€‚è§£å†³æ–¹æ¡ˆæ˜¯ï¼šè¯·æ¸…é™¤ hbase å®‰è£…ç›®å½•ä¸‹ logs æ–‡ä»¶å¤¹ä»¥ hbase å¼€å¤´çš„æ‰€æœ‰æ—¥å¿—æ–‡ä»¶ï¼Œè¿›å…¥ zkCli.sh å®¢æˆ·ç«¯ï¼Œå¹¶ç”¨rmr /hbaseåˆ é™¤æ‰€æœ‰å…³äº hbase çš„è¡¨ä¿¡æ¯ï¼Œå¹¶ç”¨hdfs dfs -rmr /hbaseåˆ é™¤æ‰€æœ‰å…³äº hbase çš„æ–‡ä»¶ï¼Œç„¶åå‚ç…§æˆ‘çš„é…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œç„¶åé›†ç¾¤å°±å¥½äº†ã€‚\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2019-05-14",
        "type": "Post",
        "slug": "qfvyux",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:20:00.000Z",
        "title": "HBaseé›†ç¾¤æ­å»ºè¿‡ç¨‹ä¸­å®¹æ˜“å‡ºç°çš„Bugæ±‡æ€»åŠè§£å†³æ–¹æ¡ˆ",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Java"
        ],
        "status": "Archived",
        "urlname": "b043b306-f082-4e6d-bd82-f4be2262de22",
        "updated": "2023-08-26 15:20:00"
      },
      "body": "",
      "realName": "HBaseé›†ç¾¤æ­å»ºè¿‡ç¨‹ä¸­å®¹æ˜“å‡ºç°çš„Bugæ±‡æ€»åŠè§£å†³æ–¹æ¡ˆ",
      "relativePath": "/HBaseé›†ç¾¤æ­å»ºè¿‡ç¨‹ä¸­å®¹æ˜“å‡ºç°çš„Bugæ±‡æ€»åŠè§£å†³æ–¹æ¡ˆ.md"
    },
    {
      "id": "5608118c-f262-4b39-999d-d67a5424cd82",
      "doc_id": "5608118c-f262-4b39-999d-d67a5424cd82",
      "updated": 1693061280000,
      "body_original": "\n# å¼•è¨€\n\n\nFastDFS æ˜¯ä¸€ä¸ªç”± C è¯­è¨€å®ç°çš„å¼€æºè½»é‡çº§åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼Œä½œè€…ä½™åº†[@YuQing](https://github.com/happyfish100) ï¼Œæ”¯æŒ Linuxã€FreeBSDã€AID ç­‰ Unix ç³»ç»Ÿï¼Œè§£å†³äº†å¤§æ•°æ®å­˜å‚¨å’Œè¯»å†™è´Ÿè½½å‡è¡¡ç­‰é—®é¢˜ï¼Œé€‚åˆå­˜å‚¨ 4KB~500MB ä¹‹é—´çš„å°æ–‡ä»¶ï¼Œå¦‚å›¾ç‰‡ç½‘ç«™ã€çŸ­è§†é¢‘ç½‘ç«™ã€æ–‡æ¡£ã€app ä¸‹è½½ç«™ç­‰ï¼ŒUCã€äº¬ä¸œã€æ”¯ä»˜å®ã€è¿…é›·ã€é…·ç‹—ç­‰éƒ½æœ‰ä½¿ç”¨ã€‚\n\n\n# å®‰è£…å‰å‡†å¤‡\n\n\næˆ‘çš„äº‘æœåŠ¡å™¨ä¸ºè…¾è®¯äº‘æœåŠ¡å™¨ï¼Œç³»ç»Ÿä¸º CentOS7.2(64 ä½)ï¼Œè‡ªå¸¦ 50G ç³»ç»Ÿç›˜ã€‚\n\n\n# å®‰è£… FastDFS\n\n\n## ä¸Šä¼ å®‰è£…åŒ…\n\n\næ­¤æ¬¡ç”¨åˆ°çš„å®‰è£…åŒ…å¦‚å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬é¦–å…ˆç”¨ FTP å·¥å…·æŠŠ FastDFS(\n\n\n[ç‚¹å‡»ä¸‹è½½å®‰è£…åŒ…](https://files.letttgaco.cn/%E6%8A%80%E6%9C%AF%E6%94%AF%E6%8C%81/FastDFS/)\n\n\n)çš„ç›¸å…³å®‰è£…åŒ…ä¸Šä¼ è‡³æœåŠ¡å™¨çš„\n\n\n```text\n/usr/local/fastDFS\n```\n\n\nç›®å½•ä¸­ï¼ˆä¹Ÿå¯ä»¥è‡ªè¡Œé€‰æ‹©ç›®å½•ï¼Œåé¢åœ¨æ¶‰åŠåˆ°ä¿®æ”¹é…ç½®æ–‡ä»¶æ—¶ä¼šè¿›ä¸€æ­¥æç¤ºè¯´æ˜ï¼‰ã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FkE5rj279Cvl3LbMB_DJYk2RngXz.png)\n\n\n## å®‰è£…åŸºæœ¬ç¯å¢ƒ\n\n\n```shell\nyum -y install libevent\n```\n\n\n## å®‰è£… libfastcommonV1.0.7 å·¥å…·åŒ…\n\n\n```text\ntar -zxvf libfastcommonV1.0.7.tar.gz\n```\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FsdzrHlXifm-5OLROOVcI9lD5LFr.png)\n\n\nè¿›å…¥è§£å‹åçš„ç›®å½•ï¼Œçœ‹åˆ°æœ‰\n\n\n```text\nmake.sh\n```\n\n\nï¼Œä¾æ¬¡æ‰§è¡Œå‘½ä»¤è¿›è¡Œç¼–è¯‘ã€‚\n\n\n```text\n./make.sh\n./make.sh install\n```\n\n\n## å®‰è£… Tracker æœåŠ¡\n\n\n```text\ntar -zxvf FastDFS_v5.05.tar.gz\n```\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FmOIOgqOQC9FHt5BgyHmbWx-U0V4.png)\n\n\nè¿›å…¥æ–‡ä»¶å¤¹åä¾æ¬¡æ‰§è¡Œå‘½ä»¤è¿›è¡Œç¼–è¯‘:\n\n\n```text\n./make.sh\n./make.sh install\n```\n\n\nå®‰è£…åæ–‡ä»¶ä¼šé»˜è®¤å®‰è£…åœ¨ `/usr/bin` ä¸­:\n\n\n```text\nll fdfs*\n```\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FkK9aFMO6c-ObfXU-ycwXGHjYdpZ.png)\n\n\né…ç½®æ–‡ä»¶åœ¨\n\n\n```text\n/etc/fdfs\n```\n\n\nç›®å½•ä¸­ï¼š\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FhrI3hIFJ8foQNPx8ABpsubI6czd.png)\n\n\nè¿›å…¥\n\n\n```text\n/usr/locla/fastDFS/FastDFS/conf/\n```\n\n\nç›®å½•ä¸‹:\n\n\n```text\ncd /usr/locla/fastDFS/FastDFS/conf/\n```\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Ft_6D_Sum6zcqguKCsgqyZkGR55u.png)\n\n\nå°†å…¶æ‰€æœ‰æ–‡ä»¶æ‹·è´è‡³\n\n\n```text\n/etc/fdfs\n```\n\n\nç›®å½•ä¸‹:\n\n\n```text\ncp * /etc/fdfs/\n```\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fpp-KKucvQ0k4StdihuBMBiNy5tS.png)\n\n\né…ç½® tracker æœåŠ¡,è¿›å…¥\n\n\n```text\n/etc/fdfs/\n```\n\n\nç›®å½•ä¸‹ï¼Œä¿®æ”¹\n\n\n```text\ntracker.conf\n```\n\n\næ–‡ä»¶\n\n\n```text\ncd /etc/fdfs/\nvim tracker.conf\n```\n\n\nä¿®æ”¹`base_path`ä¸ºè‡ªå®šä¹‰å­˜æ”¾ tracker æ—¥å¿—çš„ç›®å½•ï¼Œè¿™é‡Œä»¥`/usr/local/fastDFS/trackerLog`ä¸ºä¾‹ï¼Œå¦‚æœæ²¡æœ‰åˆ›å»ºæ­¤ç›®å½•ï¼Œå¯ä»¥å…ˆä¿®æ”¹å†åˆ›å»ºã€‚\n\n\n```text\nmkdir -p /usr/local/fastDFS/trackerLog\n```\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FgFsdQi4cLCu3T8GNtc9ocaV2Lsa.png)\n\n\n> è¿™é‡Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‚è½½çš„ä¸€ä¸ªäº‘ç¡¬ç›˜ï¼Œä½¿ç”¨äº‘ç¡¬ç›˜çš„ç›®å½•æ¥å­˜æ”¾æ–‡ä»¶ã€‚å› ä¸ºç³»ç»Ÿç›˜ä¸æ”¯æŒæ‰©å®¹ï¼Œä»¥åç³»ç»Ÿç›˜æ»¡äº†ä¹‹åå°±å¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥æœ€å¥½å°±æŒ‚è½½ä¸€ä¸ªç¡¬ç›˜ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥æŠŠå›¾ç‰‡æ–‡ä»¶éƒ½å’Œç³»ç»Ÿç›˜ç»™åŒºåˆ†å¼€æ¥ã€‚æˆ‘æš‚æ—¶æ²¡æœ‰äº‘ç¡¬ç›˜ï¼Œè¿™é‡Œä»¥ç³»ç»Ÿç›˜ä¸ºä¾‹ã€‚\n\n\nå¯åŠ¨ tracker æœåŠ¡å¹¶æŸ¥çœ‹è¿›ç¨‹æ˜¯å¦å·²å¯åŠ¨\n\n\n```text\n/usr/bin/fdfs_trackerd /etc/fdfs/tracker.conf\nps aux|grep trackerd\n```\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FvsnkbcyAZDXpPAK80qHJMg4KmbV.png)\n\n\n## å®‰è£… storage æœåŠ¡\n\n\nè¿›å…¥`/etc/fdfs/`ç›®å½•ï¼Œä¿®æ”¹`storage.conf`æ–‡ä»¶\n\n\n```text\nvim /etc/fdfs/storage.conf\n```\n\n\nä¿®æ”¹æ—¥å¿—çš„å­˜å‚¨è·¯å¾„ï¼Œå¦‚æœæ²¡æœ‰ç›¸å…³æ–‡ä»¶å¤¹ï¼Œå¯ä»¥å…ˆé…ç½®å†åˆ›å»ºï¼š\n\n\n```text\nmkdir -p /usr/local/fastDFS/storageLog/\n```\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FgMRz4vFcRLt6Yuzjbz7j-waqKpr.png)\n\n\nä¿®æ”¹æ–‡ä»¶çš„å­˜å‚¨è·¯å¾„ï¼š\n\n\n```text\nmkdir -p /usr/local/fastDFS/storage/\n```\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FlHxWq8zj_6HMJ9oGtHSvVJRiNTH.png)\n\n\nä¿®æ”¹\n\n\n```text\ntracker_server\n```\n\n\nçš„å€¼ä¸ºäº‘æœåŠ¡å™¨çš„å…¬ç½‘ IP åœ°å€ã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FqdDOPng1Knm-yUIQ7xk7TTYYkzp.png)\n\n\nå¯åŠ¨ storage æœåŠ¡å¹¶ä¸”æŸ¥çœ‹è¿›ç¨‹ï¼š\n\n\n```text\n/usr/bin/fdfs_storaged /etc/fdfs/storage.conf\nps aux|grep storage\n```\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FuUOP7TYURf1b0SGA0I8lw2-aWP5.png)\n\n\nè‡³æ­¤ï¼ŒFastDFS å®‰è£…å®Œæ¯•ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦é€šè¿‡ http æ¥è¿›è¡Œä¸Šä¼ æ–‡ä»¶å¹¶è®¿é—®ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨ nginx ä¸€èµ·æ¥æäº‹æƒ…ï¼\n\n\n## å®‰è£… nginx\n\n\nè¿›å…¥`/usr/local/fastDFS`ç›®å½•ï¼Œè§£å‹ç¼© fastdfs-nginx-module_v1.16.tar.gz\n\n\n```text\ntar -zxvf fastdfs-nginx-module_v1.16.tar.gz\n```\n\n\nä¿®æ”¹`/fastdfs-nginx-module/src/config`æ–‡ä»¶ï¼ŒæŠŠå…¶ä¸­çš„`local`å»æ‰:\n\n\n```text\ncd fastdfs-nginx-module/src/\nvim config\n```\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fpn_4GFMu67gkrkbjguR3D_Wv8wk.png)\n\n\nåˆ›å»ºé»˜è®¤çš„ nginx çš„å®‰è£…ç›®å½•ï¼š\n\n\n```text\nmkdir /usr/local/nginx/\n```\n\n\nè¿›å…¥ nginx æ ¹ç›®å½•è¿›è¡Œé…ç½®ï¼š\n\n\n```text\ncd /usr/local/fastDFS/nginx-1.14.2/\n```\n\n\nç›´æ¥è¾“å…¥ä»¥ä¸‹å‘½ä»¤å¯¹ nginx è¿›è¡Œé…ç½®:\n\n\n> æ³¨æ„ï¼šæœ€åä¸€è¡Œ**--add-module=/usr/local/fastDFS/nginx/fastdfs-nginx-module/src**çš„ç›®å½•ä¸ºä½ æ‰€æŒ‡å®šçš„**fastdfs-nginx-module**çš„å®‰è£…ç›®å½•\n\n\n```text\n./configure \\\n--prefix=/usr/local/nginx \\\n--pid-path=/var/run/nginx/nginx.pid \\\n--lock-path=/var/lock/nginx.lock \\\n--error-log-path=/var/log/nginx/error.log \\\n--http-log-path=/var/log/nginx/access.log \\\n--with-http_gzip_static_module \\\n--http-client-body-temp-path=/var/temp/nginx/client \\\n--http-proxy-temp-path=/var/temp/nginx/proxy \\\n--http-fastcgi-temp-path=/var/temp/nginx/fastcgi \\\n--http-uwsgi-temp-path=/var/temp/nginx/uwsgi \\\n--http-scgi-temp-path=/var/temp/nginx/scgi \\\n--add-module=/usr/local/fastDFS/nginx/fastdfs-nginx-module/src\n```\n\n\nä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œç¼–è¯‘ï¼š\n\n\n```text\nmake\nmake install\n```\n\n\næŠŠ`/fastdfs-nginx-module/src/mod_fastdfs.conf`æ–‡ä»¶å¤åˆ¶åˆ°`/etc/fdfs`ç›®å½•ä¸‹ï¼š\n\n\n```text\ncd /usr/local/fastDFS/nginx/fastdfs-nginx-module/src/\ncp mod_fastdfs.conf /etc/fdfs\n```\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FjpdNBhF1UuvL220TgU3QmOAl0om.png)\n\n\nè¿›å…¥\n\n\n```text\n/etc/fdfs/\n```\n\n\nï¼Œæ‰“å¼€\n\n\n```text\nmod_fastdfs.conf\n```\n\n\nå¹¶ä¸”ä¿®æ”¹æ—¥å¿—å­˜æ”¾è·¯å¾„ï¼š\n\n\n```text\nmkdir -p /usr/local/fastDFS/tmp/\ncd /etc/fdfs/\nvim mod_fastdfs.conf\n```\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FsN-jzgb1YirBjLLzIRynMvHejQr.png)\n\n\nä¿®æ”¹\n\n\n```text\ntracker_server\n```\n\n\nçš„å€¼ä¸ºäº‘æœåŠ¡å™¨çš„å…¬ç½‘ IP åœ°å€ã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FuDEiHiYTUwJ36U_ew5JSBSuhKy8.png)\n\n\nä¿®æ”¹\n\n\n```text\nstorage_path0\n```\n\n\nçš„å­˜æ”¾è·¯å¾„ï¼š\n\n\n```text\nmkdir -p /usr/local/fastDFS/storage/\n```\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fv9UGEgECG4OHnCNMcDO-kg1SQq9.png)\n\n\nè¿›å…¥ ngxin çš„é…ç½®æ–‡ä»¶ç›®å½•å¹¶ä¸”ä¿®æ”¹\n\n\n```text\nnginx.conf\n```\n\n\næ–‡ä»¶ï¼š\n\n\n```text\ncd /usr/local/nginx/conf/\nvim nginx.conf\n```\n\n\nä¿®æ”¹åŸ server ä¸­çš„é…ç½®ä¸ºä»¥ä¸‹ï¼š\n\n\n```text\nserver {\n  listen       80;\n  server_name  ä½ çš„å…¬ç½‘IPåœ°å€;\n\n  location /group1/M00 {\n  ngx_fastdfs_module;\n  }\n}\n```\n\n\nå¯åŠ¨ nginx\n\n\n```text\n/usr/local/nginx/sbin/nginx\n```\n\n\n## å®‰è£…å®Œæˆ\n\n\nè‡³æ­¤ï¼ŒFastDFS å·²å…¨éƒ¨å®‰è£…å®Œæˆï¼Œä¸‹é¢å°†ä»‹ç»å¦‚ä½•åˆ©ç”¨ java å¼€å‘å·¥å…·æ¥æµ‹è¯• FastDFS çš„ä¸Šä¼ æ–‡ä»¶åŠŸèƒ½ã€‚\n\n\n# ä¸Šä¼ æµ‹è¯•\n\n\néœ€æ±‚ï¼šå°†æœ¬åœ°å›¾ç‰‡ä¸Šä¼ è‡³å›¾ç‰‡æœåŠ¡å™¨ï¼Œå†æ§åˆ¶å°æ‰“å° urlã€‚\n\n\n## åˆ›å»º Maven å·¥ç¨‹ FastDFSTest\n\n\nç”±äº FastDFS å®¢æˆ·ç«¯ jar åŒ…å¹¶æ²¡æœ‰åœ¨ä¸­å¤®ä»“åº“ä¸­ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨ä¸‹åˆ—å‘½ä»¤æ‰‹åŠ¨å®‰è£… jar åŒ…åˆ° Maven æœ¬åœ°ä»“åº“ã€‚ æºç åœ°å€ï¼š[fastdfs-client-java](https://github.com/happyfish100/fastdfs-client-java)ï¼Œè§£å‹åå¯¼å…¥ Eclipse çš„ Maven å·¥ç¨‹ï¼Œå³é”®é¡¹ç›®é€‰æ‹©`Run As â€” Maven Install`è¿›è¡Œæœ¬åœ°ä»“åº“çš„å®‰è£…ã€‚ åœ¨ä½ çš„`FastDFSTest`å·¥ç¨‹çš„`pom.xml`ä¸­æ·»åŠ ä¾èµ–ï¼š\n\n\n```xml\n<dependency>    <groupId>org.csource</groupId>    <artifactId>fastdfs-client-java</artifactId>    <version>1.27-SNAPSHOT</version></dependency>\n```\n\n\n## åœ¨ resources æ–‡ä»¶å¤¹ä¸­åˆ›å»º`fdfs_client.conf`æ–‡ä»¶\n\n\n```text\n# è¿æ¥è¶…æ—¶æ—¶é—´\n# é»˜è®¤30s\nconnect_timeout=30\n\n# ç½‘ç»œè¶…æ—¶æ—¶é—´\n# é»˜è®¤30ç§’30s\nnetwork_timeout=60\n\n# å·¥ä½œæ–‡ä»¶å¤¹ï¼Œæ—¥å¿—å­˜åœ¨æ­¤ï¼ˆç›®å½•è‡ªå®šï¼‰\nbase_path=/home/yuqing/fastdfs\n\n# tracer serveræœåŠ¡å™¨åœ°å€åˆ—è¡¨ï¼Œå¤šä¸ªtracer serverçš„è¯ï¼Œåˆ†è¡Œåˆ—å‡º\ntracker_server=ä½ çš„å…¬ç½‘IP:22122\n\n#æ—¥å¿—çº§åˆ«\n### emerg for emergency\n### alert\n### crit for critical\n### error\n### warn for warning\n### notice\n### info\n### debu\nlog_level=info\n\n# æ˜¯å¦ä½¿ç”¨è¿æ¥æ± \nuse_connection_pool = false\n\n# è¿æ¥é—²ç½®è¶…æ—¶æ—¶é—´ï¼Œè¿æ¥å¦‚æœé—²ç½®çš„æ—¶é—´è¶…è¿‡æœ¬é…ç½®ï¼Œåˆ™å…³é—­æ¬¡è¿æ¥ï¼Œå•ä½ç§’\nconnection_pool_max_idle_time = 3600\n\n# æ˜¯å¦ä»tracer serverè¯»å–fastdfsçš„å‚æ•°ï¼Œé»˜è®¤ä¸ºfalse\nload_fdfs_parameters_from_tracker=false\n\n# æ˜¯å¦ä½¿ç”¨storage id æ›¿æ¢ ipï¼Œé»˜è®¤ä¸ºfalse\n# å’Œtracker.confè¯¥å‚æ•°å«ä¹‰ä¸€æ ·\n# æœ¬é…ç½®åªæœ‰åœ¨load_fdfs_parameters_from_trackerï¼falseæ—¶ç”Ÿæ•ˆ\n# æœ¬é…ç½®é»˜è®¤ä¸ºfalse\nuse_storage_id = false\n\n# æŒ‡å®šstorage idçš„æ–‡ä»¶åï¼Œå…è®¸ä½¿ç”¨ç»å¯¹è·¯å¾„\n# å’Œtracker.confè¯¥å‚æ•°å«ä¹‰ä¸€æ ·\n# æœ¬é…ç½®åªæœ‰åœ¨load_fdfs_parameters_from_trackerï¼falseæ—¶ç”Ÿæ•ˆ\nstorage_ids_filename = storage_ids.conf\n\n#HTTP settings\nhttp.tracker_server_port=8080\n\n#å¼•å…¥HTTPç›¸å…³é…ç½®\n##include http.conf\n```\n\n\n## åˆ›å»ºæµ‹è¯• java ç±»\n\n\n```java\npackage cn.letttgaco.fastdfs;import org.csource.fastdfs.ClientGlobal;import org.csource.fastdfs.StorageClient;import org.csource.fastdfs.StorageServer;import org.csource.fastdfs.TrackerClient;import org.csource.fastdfs.TrackerServer;public class TestDemo {    public static void main(String[] args) throws Exception {        // 1ã€åŠ è½½é…ç½®æ–‡ä»¶ï¼ˆç»å¯¹è·¯å¾„ï¼‰ï¼Œé…ç½®æ–‡ä»¶ä¸­çš„å†…å®¹å°±æ˜¯ tracker æœåŠ¡çš„åœ°å€ã€‚        ClientGlobal.init(\"D:/Codes/Eclipse/Tiramisu/spring-security-demo/src/main/resources/fdfs_client.conf\");        // 2ã€åˆ›å»ºä¸€ä¸ª TrackerClient å¯¹è±¡ã€‚ç›´æ¥ new ä¸€ä¸ªã€‚        TrackerClient trackerClient = new TrackerClient();        // 3ã€ä½¿ç”¨ TrackerClient å¯¹è±¡åˆ›å»ºè¿æ¥ï¼Œè·å¾—ä¸€ä¸ª TrackerServer å¯¹è±¡ã€‚        TrackerServer trackerServer = trackerClient.getConnection();        // 4ã€åˆ›å»ºä¸€ä¸ª StorageServer çš„å¼•ç”¨ï¼Œå€¼ä¸º null        StorageServer storageServer = null;        // 5ã€åˆ›å»ºä¸€ä¸ª StorageClient å¯¹è±¡ï¼Œéœ€è¦ä¸¤ä¸ªå‚æ•° TrackerServer å¯¹è±¡ã€StorageServer çš„å¼•ç”¨        StorageClient storageClient = new StorageClient(trackerServer, storageServer);        // 6ã€ä½¿ç”¨ StorageClient å¯¹è±¡ä¸Šä¼ å›¾ç‰‡ï¼ˆç»å¯¹è·¯å¾„ï¼‰ã€‚        // æ‰©å±•åä¸å¸¦â€œ.â€        String[] strings = storageClient.upload_file(\"D:/Codes/TestCodes/c.JPG\", \"jpg\", null);        // 7ã€è¿”å›æ•°ç»„ã€‚åŒ…å«ç»„åå’Œå›¾ç‰‡çš„è·¯å¾„ã€‚        for (String string : strings) {            System.out.println(string);        }    }}\n```\n\n\næ§åˆ¶å°è¾“å‡ºå¦‚ä¸‹ç»“æœï¼š\n\n\n```java\ngroup1M00/00/00/wKgZhVkMP4KAZEy-AAA-tCf93Fo973.jpg\n```\n\n\n## æ‰“å¼€æµè§ˆå™¨æŸ¥çœ‹å·²ä¸Šä¼ çš„å›¾ç‰‡\n\n\n```text\nhttp://ä½ çš„å…¬ç½‘IP/group1/M00/00/00/wKgZhVkMP4KAZEy-AAA-tCf93Fo973.jpg\n```\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2019-02-21",
        "type": "Post",
        "slug": "di6uo5",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T14:48:00.000Z",
        "title": "åœ¨è…¾è®¯äº‘æœåŠ¡å™¨ä¸Šå®‰è£…FastDFS",
        "category": "å­¦ä¹ ç¬”è®°",
        "tags": [
          "Java"
        ],
        "status": "Archived",
        "urlname": "5608118c-f262-4b39-999d-d67a5424cd82",
        "updated": "2023-08-26 14:48:00"
      },
      "body": "",
      "realName": "åœ¨è…¾è®¯äº‘æœåŠ¡å™¨ä¸Šå®‰è£…FastDFS",
      "relativePath": "/åœ¨è…¾è®¯äº‘æœåŠ¡å™¨ä¸Šå®‰è£…FastDFS.md"
    },
    {
      "id": "b3c87db0-ebc5-4eb3-9529-2ea17e5d4bc8",
      "doc_id": "b3c87db0-ebc5-4eb3-9529-2ea17e5d4bc8",
      "updated": 1693061280000,
      "body_original": "\n# å¼•è¨€\n\n\næœ€è¿‘æœ‰éœ€æ±‚éœ€è¦ç”¨åˆ°å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œè€Œä¸”éœ€è¦å°†ä¸Šä¼ /ç²˜è´´çš„å›¾ç‰‡ä¸Šä¼ åˆ°é˜¿é‡Œäº‘ OSS ä¸Šã€‚åœ¨ç®€å•ä½“éªŒäº†å‡ ä¸ªå¯Œæ–‡æœ¬ç¼–è¾‘å™¨ä¹‹åï¼Œå†³å®šé€‰ç”¨ Tinymceã€‚ Tinymce-Vue é‡Œé¢çš„å‘è¿˜æ˜¯æŒºå¤šçš„ï¼ŒèŠ±äº†ä¸¤å¤©æ—¶é—´ç»ˆäºæŠŠä¸€äº›ç®€å•çš„å‘å¡«ä¸Šäº†ï¼ŒåŸºæœ¬ä¸Šç®—æ˜¯æ»¡è¶³äº†éœ€æ±‚ã€‚è¿™é‡Œæ¥ç®€å•è®²ä¸€ä¸‹åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ `Tinymce-Vue` çš„ç»è¿‡ã€‚\n\n\n# Tinymce-Vue æ’ä»¶å®‰è£…\n\n\n```text\nnpm install @tinymce/tinymce-vue -D\nnpm install tinymce -D\n```\n\n\nå®‰è£…æˆåŠŸä¹‹åï¼Œåœ¨`node_modules`ç›®å½•ä¸­ï¼Œæ‰¾åˆ°`tinymce`ä¸­çš„`skins`ç›®å½•ï¼Œå°†å…¶æ‹·è´åˆ°`static`æˆ–è€…`public`ç›®å½•ä¸‹ã€‚ä¸ºäº†ç»“æ„æ¸…æ™°ï¼Œæˆ‘å¤–å±‚åŒ…äº†`tinymce`ç›®å½•ã€‚\n\n\n> è¸©å‘ â‘ ï¼šç”¨ä¸åŒç‰ˆæœ¬çš„vue-cliåˆ›å»ºå‡ºæ¥çš„é¡¹ç›®ï¼Œé»˜è®¤é™æ€å…¬å…±èµ„æºçš„ç›®å½•æ˜¯ä¸ä¸€æ ·çš„ã€‚vue-cli2çš„é»˜è®¤é™æ€å…¬å…±èµ„æºç›®å½•ä¸ºstaticï¼Œä½†æ˜¯vue-cli3é»˜è®¤ä¸ºpublicã€‚æ‹·è´çš„æ—¶å€™æ ¹æ®è‡ªå·±é¡¹ç›®çš„é…ç½®æ³¨æ„ä¸‹\n\n\nç”±äº`tinymce`é»˜è®¤æ˜¯è‹±æ–‡ç•Œé¢ï¼Œå¦‚æœéœ€è¦ä¸‹è½½[ä¸­æ–‡çš„è¯­è¨€åŒ…](https://www.tiny.cloud/get-tiny/language-packages/)ï¼Œå¯ä»¥å»å®˜ç½‘ä¸‹è½½ã€‚ä¸‹è½½ä¹‹åå°†å…¶æ”¾åœ¨`public/tinymce/`ä¸‹ã€‚åŒæ ·çš„ï¼Œä¸ºäº†ç»“æ„æ¸…æ™°ï¼Œæˆ‘å°†å…¶æ”¾åœ¨äº†`langs`ç›®å½•ä¸‹ã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FpED8KkqnzMbNRqZOs9ZVhyaxrnB.png)\n\n\n# èµ·æ­¥\n\n\nåœ¨ç»„ä»¶ä¸­åˆå§‹åŒ–`Tinymce.vue`ç»„ä»¶ï¼Œå¹¶å¼•å…¥éœ€è¦ç”¨åˆ°çš„ä¾èµ–ã€‚\n\n\n```javascript\n// å¼•å…¥åŸºæœ¬æ–‡ä»¶\nimport tinymce from 'tinymce/tinymce'\nimport Editor from '@tinymce/tinymce-vue'\n// å¼•å…¥ä¸»é¢˜æ–‡ä»¶\nimport 'tinymce/themes/silver'\n// å¼•å…¥ä½ éœ€è¦çš„æ’ä»¶\nimport 'tinymce/plugins/paste' //ç²˜è´´æ’ä»¶ï¼Œå¾ˆå¼ºå¤§ï¼Œé…ç½®åå¯ä»¥ç²˜è´´å›¾ç‰‡\nimport 'tinymce/plugins/image' //ä¸Šä¼ å›¾ç‰‡çš„æ’ä»¶\nimport 'tinymce/plugins/table' //è¡¨æ ¼\nimport 'tinymce/plugins/wordcount'\n```\n\n\nç”±äº`Editor-vue`ä¹Ÿæ˜¯å®˜æ–¹å°è£…çš„ç»„ä»¶ï¼Œæ‰€ä»¥éœ€è¦æ³¨å†Œç»„ä»¶ä½¿ç”¨ã€‚\n\n\n```javascript\ncomponents: {  Editor;}\n```\n\n\nä½¿ç”¨ç»„ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š\n\n\n```javascript\n<template>\n  <div class=\"tinymce-editor\">\n    <editor\n      :key=\"tinymceFlag\"\n      class=\"editor\"\n      v-model=\"myValue\"\n      :init=\"tinymceInit\">\n    </editor>\n    <a-button @click=\"handleSubmit\" type=\"primary\" class=\"button\">{{ label }}</a-button>\n  </div>\n</template>\n\n<script>\n// å¼•å…¥åŸºæœ¬æ–‡ä»¶\n// eslint-disable-next-line no-unused-vars\nimport tinymce from 'tinymce/tinymce'\nimport Editor from '@tinymce/tinymce-vue'\n// å¼•å…¥ä¸»é¢˜æ ·å¼\nimport 'tinymce/themes/silver'\n// å¼•å…¥ä½ éœ€è¦çš„æ’ä»¶\nimport 'tinymce/plugins/paste'\nimport 'tinymce/plugins/image'\nimport 'tinymce/plugins/table'\nimport OSS from '@/utils/oss.js'\nimport v1 from 'uuid'\n\nexport default {\n  name: 'Tinymce',\n  data () {\n    return {\n      tinymceFlag: 1,\n      myValue: '',\n      isShowFileDlg: false,\n      tinymceInit: {}\n    }\n  },\n  props: {\n    // åŸºæœ¬è·¯å¾„ï¼Œé»˜è®¤ä¸ºç©ºæ ¹ç›®å½•ï¼Œå¦‚æœä½ çš„é¡¹ç›®å‘å¸ƒåçš„åœ°å€ä¸ºç›®å½•å½¢å¼ï¼Œ\n    // å³abc.com/tinymceï¼ŒbaseUrléœ€è¦é…ç½®æˆtinymceï¼Œä¸ç„¶å‘å¸ƒåèµ„æºä¼šæ‰¾ä¸åˆ°\n    // æˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºå•¥è¦è®¾ç½®baseUrlï¼Œæˆ‘ç›®å‰æ²¡æœ‰é‡åˆ°è¿™ä¸ªé—®é¢˜ã€‚ç­‰é‡åˆ°å†è¯´\n    baseUrl: {\n      type: String,\n      default: ''\n    },\n    // å®šä¹‰å…è®¸ä¸Šä¼ çš„å›¾ç‰‡ç±»å‹\n    accept: {\n      default: 'image/jpeg, image/png',\n      type: String\n    },\n    // æœ€å¤§ä¸Šä¼ å›¾ç‰‡å¤§å°\n    maxSize: {\n      default: 5242880,\n      type: Number\n    },\n    // å¶å°”ä¼šéœ€è¦ç¦ç”¨å¯Œæ–‡æœ¬\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    // è®¾ç½®é»˜è®¤éœ€è¦çš„æ‹“å±•\n    plugins: {\n      type: [String, Array],\n      default: 'image table wordcount'   // å¯ä»¥æŒ‰ç…§è‡ªå·±éœ€è¦é…ç½®é»˜è®¤éœ€è¦çš„ç»„ä»¶\n    },\n   \t// è®¾ç½®é»˜è®¤èœå•æ  â€˜|â€™ ç”¨æ¥åˆ†éš”åŠŸèƒ½\n    toolbar: {\n      type: [String, Array],\n      default: 'undo redo | formatselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | image table'\n    },\n    // è‡ªå·±é¡¹ç›®éœ€è¦åšä¸€ä¸ªç±»ä¼¼æäº¤è¡¨å•çš„æŒ‰é’®\n    label: {\n      type: String,\n      default: 'æäº¤'\n    },\n    // è®¾ç½®é»˜è®¤å®½åº¦\n    width: {\n      type: String,\n      default: '1200'\n    },\n    // è®¾ç½®é»˜è®¤é«˜åº¦\n    height: {\n      type: String\n    }\n  },\n  components: {\n    Editor\n  },\n  mounted () {\n  },\n  created () {\n    // å®šä¹‰selfé˜²æ­¢thisè°ƒç”¨æ—¶æŒ‡å‘æ€§é—®é¢˜\n    const self = this\n    self.tinymceInit = {\n      fontsize_formats: '11px 12px 14px 16px 18px 24px 36px 48px 50px 56px 60px 64px',\n      language_url: `/tinymce/langs/zh_CN.js`, // è®¾ç½®ä¸­æ–‡è¯­è¨€çš„è·¯å¾„ï¼Œæˆ‘çš„æ˜¯/publicä¸‹çš„tinymce\n      skin_url: '/tinymce/skins/ui/oxide', // skinè·¯å¾„\n      language: 'zh_CN',\n      width: this.width,\n      browser_spellcheck: true, // æ‹¼å†™æ£€æŸ¥\n      branding: false, // å»æ°´å°\n      statusbar: false, // éšè—ç¼–è¾‘å™¨åº•éƒ¨çš„çŠ¶æ€æ \n      paste_data_images: true, // å…è®¸ç²˜è´´å›¾åƒ\n      menubar: false, // éšè—æœ€ä¸Šæ–¹menu\n      plugins: this.plugins,\n      toolbar: this.toolbar,\n      // è®¾ç½®å›¾ç‰‡ä¸Šä¼ æ—¶çš„ä¸Šä¼ å‡½æ•°ï¼Œæ”¯æŒå›¾ç‰‡å¤åˆ¶ç²˜è´´å‰ä¸Šä¼ åˆ°æŒ‡å®šæœåŠ¡å™¨ç„¶åè¿”å›urlåˆ°å¯Œæ–‡æœ¬\n      images_upload_handler: (blobInfo, success, failure) => {\n        if (blobInfo.blob().size > self.maxSize) {\n          failure('æ–‡ä»¶ä½“ç§¯ä¸èƒ½è¶…è¿‡' + this.maxSize / (1024 * 1024) + 'Mb')\n        }\n        if (self.accept.indexOf(blobInfo.blob().type) >= 0) {\n          uploadPic()\n        } else {\n          failure('å›¾ç‰‡æ ¼å¼é”™è¯¯, ä»…æ”¯æŒ' + this.accept + 'æ ¼å¼çš„å›¾ç‰‡')\n        }\n        // å¼‚æ­¥ä¸Šä¼ åˆ°OSS\n        async function uploadPic () {\n          if (self.client) {\n            //å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæµ‹è¯•æ—¶ï¼Œå¾®ä¿¡æˆªå›¾åç›´æ¥åœ¨å¯Œæ–‡æœ¬è¿›è¡Œç²˜è´´åä¼šå‡ºç°OSSæ–‡ä»¶ç±»å‹æŠ¥é”™ï¼Œéœ€è¦ä¼ å…¥Bufferæµæˆ–è€…Blobæ–‡ä»¶ï¼Œå¯blobInfo.blob()æŒ‰é“ç†åº”è¯¥æ˜¯blobæ‰å¯¹ï¼Œå¯è¿˜æ˜¯æŠ¥é”™ï¼Œæ— å¥ˆåšäº†ä¸€ä¸ªblobInfo.blob()çš„å¸¦çš„Fileæ–‡ä»¶å¯¹è±¡ ==ã€‹ ArrayBufferæµ ==ã€‹ Bufferæµ æ‰ä½¿å¾—OSSèƒ½å¤Ÿè¯†åˆ«ã€‚\n            const reader = new FileReader()\n            reader.readAsArrayBuffer(blobInfo.blob()) // Fileæ–‡ä»¶å¯¹è±¡ ==ã€‹ ArrayBufferæµ\n            reader.onload = function (event) {\n              console.log(event.target.result)\n              // å¼•å…¥UUIDé˜²æ­¢æ–‡ä»¶è¦†ç›–\n              const fileName = `${v1()}-${blobInfo.name()}`\n              self.client\n                // ArrayBufferæµ ==ã€‹ Bufferæµ ==ã€‹ OSS.put()\n                .put(fileName, toBuffer(event.target.result))\n                .then(result => {\n                  // å¾—åˆ°OSSè¿”å›çš„url\n                  result.url = result.res.requestUrls[0].split('?')[0]\n                  // å°†ä¸Šä¼ å®Œæˆçš„çŠ¶æ€æŠ›å‡º\n                  self.$emit('on-upload-complete', result) // æŠ›å‡º 'on-upload-complete' é’©å­\n                  // è¿”å›url\n                  success(result.url)\n                })\n                .catch(err => {\n                  // å¤±è´¥\n                  failure(err)\n                })\n            }\n          } else {\n            // å°è£…çš„OSSçš„é”™è¯¯æç¤ºï¼ˆakå¤±æ•ˆæ—¶è§¦å‘ï¼‰\n            await self.$message.info('ä¸Šä¼ é…ç½®å·²å¤±æ•ˆï¼Œé‡æ–°åŠ è½½ä¸­...')\n          }\n          return {\n            failure () {}\n          }\n          // ArrayBufferæµ ==ã€‹ Bufferæµ\n          function toBuffer (ab) {\n            const buf = Buffer.alloc(ab.byteLength)\n            const view = new Uint8Array(ab)\n            for (let i = 0; i < buf.length; ++i) {\n              buf[i] = view[i]\n            }\n            return buf\n          }\n        }\n      }\n    }\n  },\n  watch: {\n    myValue (newValue) {\n      this.$emit('input', newValue)\n    }\n  },\n  activated () {\n    // å½“ä½¿ç”¨keep-aliveæ—¶ï¼Œåœ¨åˆ‡æ¢æ ‡ç­¾é¡µå†åˆ‡å›æ¥ä¼šå‡ºç°å¯Œæ–‡æœ¬keyç¼ºå°‘æ— æ³•ä½¿ç”¨çš„æƒ…å†µï¼Œåœ¨è¿™ä¸ªé‡Œåšä¸€ä¸ªå¤„ç†ï¼Œè®©æ¯æ¬¡çš„keyä¸ä¸€æ ·\n    this.tinymceFlag++\n  },\n  methods: {\n    // è‡ªå·±çš„ä¸šåŠ¡éœ€æ±‚éœ€è¦ä¸€ä¸ªæäº¤æŒ‰é’®ï¼Œå°†å€¼ä¼ å›çˆ¶ç»„ä»¶\n    handleSubmit () {\n      this.$emit('submit', this.myValue)\n    }\n  },\n  computed: {\n    // å°è£…çš„OSSçš„åˆå§‹åŒ–æ–¹æ³•\n    client: function () {\n      return OSS.client()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .tinymce-editor {\n    margin-left: 30px;\n    .button {\n      margin-top: 15px;\n      float: right;\n    }\n  }\n</style>\n```\n\n\n> å‘â‘¡ï¼šå½“ä½¿ç”¨`keep-alive`æ—¶ï¼Œå¯Œæ–‡æœ¬ä¼šå‡ºç°`key`é‡å¤çš„é—®é¢˜\n\n\n\tå‘â‘¢ï¼šå¾®ä¿¡æˆªå›¾å®Œç›´æ¥ç²˜è´´å›¾ç‰‡å`blobInfo.blob()`ç”Ÿæˆä¸€ä¸ªä¸èƒ½è¢«`OSS`è¯†åˆ«çš„`File`å¯¹è±¡ï¼Œéœ€è¦`File`æ–‡ä»¶å¯¹è±¡ ==ã€‹ `ArrayBuffer`æµ ==ã€‹ `Buffer`æµ æ‰èƒ½è¢«`OSS`è¯†åˆ«\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2021-01-15",
        "type": "Post",
        "slug": "sbgn9r",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T14:48:00.000Z",
        "title": "Tinymce-Vueåˆä½“éªŒ",
        "category": "å­¦ä¹ ç¬”è®°",
        "tags": [
          "å¯Œæ–‡æœ¬",
          "Vue"
        ],
        "status": "Archived",
        "urlname": "b3c87db0-ebc5-4eb3-9529-2ea17e5d4bc8",
        "updated": "2023-08-26 14:48:00"
      },
      "body": "",
      "realName": "Tinymce-Vueåˆä½“éªŒ",
      "relativePath": "/Tinymce-Vueåˆä½“éªŒ.md"
    },
    {
      "id": "aea49f8c-44b2-44d5-a269-c0d1ff23625d",
      "doc_id": "aea49f8c-44b2-44d5-a269-c0d1ff23625d",
      "updated": 1693063320000,
      "body_original": "\n# å¼•è¨€\n\n\nåœ¨ä¸­åå°ç®¡ç†ç±»ç³»ç»Ÿä¸­ï¼Œ**å¤šé¡µç­¾**çš„éœ€æ±‚éå¸¸æ™®éï¼Œç”¨æˆ·å¸¸å¸¸éœ€è¦åœ¨å¤šä¸ªé¡µç­¾å†…è·³è½¬ï¼Œæ¯”å¦‚å¡«å†™è¡¨å•æ—¶å»æŸ¥è¯¢æŸä¸ªåˆ—è¡¨è·å–ä¸€äº›å­—æ®µä¿¡æ¯å†å›åˆ°è¡¨å•é¡µé¢å¡«å†™ã€‚è¿™æ ·çš„éœ€æ±‚åœ¨ Vue ä¸­ä½¿ç”¨ [keep-alive](https://v3.cn.vuejs.org/api/built-in-components.html#keep-alive) å³å¯å®ç°ï¼Œä½†æ˜¯åœ¨ React ä¸­ï¼ŒReact Router åˆ‡æ¢è·¯ç”±åå°±ä¼šå¸è½½ç»„ä»¶ï¼Œè€Œæœ¬èº«å¹¶æ²¡æœ‰æä¾›ç±»ä¼¼ keep-alive çš„åŠŸèƒ½ï¼Œæ‰€ä»¥å®ç°å¤šé¡µç­¾çš„åŠŸèƒ½å°±ä¼šå˜å¾—æ ¼å¤–å›°éš¾ã€‚æˆ‘çš„é¡¹ç›®ä¹Ÿé‡åˆ°äº†åŒæ ·çš„é—®é¢˜ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹æŠ€æœ¯è°ƒç ”å’ŒæŠ€æœ¯é€‰å‹çš„è¿‡ç¨‹ã€‚\n\n\nReact å¤šé¡µç­¾ UI æœ¬èº«å¥½å®ç°ï¼Œéš¾ç‚¹æ˜¯æ²¡æœ‰å®˜æ–¹æä¾›ç±»ä¼¼ Vue çš„ keep-alive åŠŸèƒ½ï¼Œè€Œä½¿ç”¨ React Routerï¼Œè·¯ç”±åˆ‡æ¢ä¼šç›´æ¥å¸è½½ç»„ä»¶ï¼Œå¯¼è‡´æ— æ³•ç¼“å­˜ï¼Œç”¨æˆ·çš„æ•°æ®å’Œè¡Œä¸ºå› æ­¤ä¸¢å¤±äº†ã€‚\n\n\nç¤¾åŒºä¸Šå…³äºå¤šé¡µç­¾çš„éœ€æ±‚å‘¼å£°ä¹Ÿéå¸¸é«˜ï¼Œä½†æ˜¯å¦‚ React ç¤¾åŒºæ¯”è¾ƒå‡ºåçš„ä¸­åå°æ–¹æ¡ˆ[Ant Design Pro](https://github.com/ant-design/ant-design-pro)ä¹Ÿä¸æ”¯æŒè¯¥åŠŸèƒ½ï¼Œè‡³ä»Šä»ç„¶æœ‰å¾ˆå¤š[Issue](https://github.com/ant-design/ant-design-pro/issues?q=%E5%A4%9A%E9%A1%B5%E7%AD%BE%E9%9C%80%E6%B1%82)æå‡ºè¿™ç±»éœ€æ±‚ï¼š\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FuCO9hJ-9X7b-OFn_NHjdjHcbZoU.png)\n\n\n[åå³](https://github.com/afc163)å¤§ä½¬æ—©åœ¨ 2017 å¹´å¯¹æ­¤åšå‡ºäº†å›åº”ï¼Œè¯¦è§[èƒ½å¦æä¾› tab åˆ‡æ¢æ¨¡å¼ Â· Issue #220 Â· ant-design/ant-design-pro Â· GitHub](https://github.com/ant-design/ant-design-pro/issues/220)ï¼Œè¿™ä¸ª Issue è™½ç„¶å…³é—­äº†ï¼Œä½†è¿™äº›å¹´ä»ç„¶æ´»è·ƒï¼š\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FvCuqsZHkUWinokfvz1NcpDwc5Id.png)\n\n\nçœ‹ ğŸ‘ çš„æ•°é‡å°±çŸ¥é“ï¼Œç”¨æˆ·å…¶å®å¯¹è¿™ç§å›ç­”å¾ˆä¸ä¹°å¸ã€‚å†æ¥çœ‹ 2019 å¹´åå³å¯¹è¿™ä¸ªé—®é¢˜çš„è§£é‡Šï¼Œç¨å¾®å…·ä½“äº†äº›ï¼š\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FofX-2QeIqDSJCDnMrh_wshVNfkp.png)\n\n\n# é¡¹ç›®ç®€ä»‹\n\n\næ‰€åœ¨éƒ¨é—¨çš„é¡¹ç›®æ˜¯ä¸€ä¸ªå°ç¨‹åºå‘å¸ƒå¹³å°çš„ç®¡ç†åå°ï¼Œç”¨äºç§Ÿæˆ·å°ç¨‹åºçš„ä»£ç æäº¤ã€æå®¡ã€å‘å¸ƒç­‰å·¥ä½œæµã€‚å‰ç«¯å®¢æˆ·ç«¯æ˜¯ React 16.13.1ï¼ŒBFF å±‚åˆ™æ˜¯ Koa2 çš„ Node ç«¯ï¼Œåç«¯åˆ™æ˜¯ Goã€‚\n\n\n# éœ€æ±‚èƒŒæ™¯\n\n\nå› ä¸ºå¼€å‘äººå‘˜å’Œæµ‹è¯•äººå‘˜ä¼šç»å¸¸å¯¹å°ç¨‹åºè¿›è¡ŒæŸ¥è¯¢ã€æäº¤ä»£ç ã€ä½“éªŒç­‰ç­‰æ“ä½œï¼Œæœ‰ä¸¤ä¸ªç—›ç‚¹å¾ˆæ˜æ˜¾ï¼š\n\n1. åˆ—è¡¨æŸ¥è¯¢çš„æœç´¢æ¡ä»¶ä¼šå› ä¸ºåˆ‡æ¢è·¯ç”±è€Œæ¶ˆå¤±ï¼Œç‰¹åˆ«æ˜¯æœ‰äº›ç­›é€‰æ¡ä»¶æ˜¯ä»æ•°æ®åº“æ‹¿çš„ï¼Œä¼šåœ¨æ•°æ®åº“å’Œç½‘é¡µä¹‹é—´æ¥å›å¤åˆ¶ç²˜è´´ï¼Œæµªè´¹æ—¶é—´ã€‚\n2. å¯¹äºæµ‹è¯•äººå‘˜å’Œå¼€å‘äººå‘˜æ¥è¯´ï¼Œæµè§ˆå™¨çš„æ ‡ç­¾é¡µç»å¸¸ä¼šå¼€å¾ˆå¤šï¼Œå¦‚æœæˆ‘æƒ³å¤šæ“ä½œå‡ ä¸ªå°ç¨‹åºï¼Œåˆ™éœ€è¦åˆå¤šå¼€æµè§ˆå™¨çš„æ ‡ç­¾é¡µè¿›è¡Œæ“ä½œï¼Œæœ¬æ¥å°±æ˜¯ SPA å•é¡µåº”ç”¨ï¼Œæ‰€æœ‰çš„æ“ä½œåº”è¯¥å°½é‡åœ¨ä¸€ä¸ªé¡µé¢ä¸Šå®Œæˆã€‚\n\n# æ–¹æ¡ˆé€‰å‹\n\n\nç»è¿‡ä¸€ç•ªè°ƒç ”ä¹‹åï¼ŒåŸºæœ¬çš„æ€è·¯å¤§æ¦‚æœ‰ä¸‰ç§ï¼š\n\n1. ä½¿ç”¨ Reduxï¼Œæ•°æ®å¾€ store é‡Œé¢æ€¼ï¼Œå®ç°é¡µé¢æ•°æ®çš„â€ç¼“å­˜â€œã€‚\n2. æ”¹å†™ React Router æºç ï¼Œåˆ‡æ¢è·¯ç”±ä¸å¸è½½ï¼Œæ”¹ä¸ºéšè—ã€‚\n3. ä½¿ç”¨ç¤¾åŒºçš„è½®å­ï¼Œå½“æ—¶é€‰äº† GitHub é‡Œçš„ä¸¤ä¸ªäº§å“ï¼š [React Keeper](https://github.com/lanistor/react-keeper) å’Œ [react-router-cache-route](https://github.com/CJY0208/react-router-cache-route)\n\nå…¶å®æ¯ç§æ–¹æ¡ˆéƒ½å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œæœ€ç»ˆçš„é€‰æ‹©æ˜¯ä½¿ç”¨äº†æ’é™¤æ³•ã€‚\nç¬¬ä¸€ç§æ–¹æ¡ˆçš„ç¼ºç‚¹æ˜¯ï¼Œé¡¹ç›®æœ¬èº«çš„æ¥å…¥ Redux çš„æ“ä½œç¹çï¼Œæ”¹é€ ä¾µå…¥æ€§æ¯”è¾ƒå¤§ï¼Œä¸æ˜¯å¾ˆå¥½çš„é€‰æ‹©ã€‚\nç¬¬äºŒç§çš„æ€è·¯å’Œ [react-router-cache-route](https://github.com/CJY0208/react-router-cache-route) æ¯”è¾ƒåƒï¼Œå°±ä¸æƒ³é‡å¤é€ è½®å­äº†ã€‚\nç¬¬ä¸‰ç§é€‰ç”¨å¼€æºæ–¹æ¡ˆï¼Œç”¨ç¤¾åŒºçš„ä¼˜ç§€è½®å­ï¼š[react-router-cache-route](https://github.com/CJY0208/react-router-cache-route)\n\n\nç»“åˆç›®å‰é¡¹ç›®çš„æƒ…å†µï¼Œä¸æƒ³æ”¹åŠ¨ç‚¹å¤ªå¤šï¼Œæ‰€ä»¥é€‰æ‹©äº†å¼€æºæ–¹æ¡ˆ [react-router-cache-route](https://github.com/CJY0208/react-router-cache-route)\n\n\n# æ–¹æ¡ˆå®æ–½\n\n\nå¤šæ ‡ç­¾é¡µéœ€æ±‚å¯ä»¥æ‹†åˆ†ä¸ºä¸¤æ­¥ï¼š\n\n1. å®ç°é¡µé¢æ•°æ®çš„ç¼“å­˜\n2. èœå•è·¯ç”±ç»“åˆå¤šæ ‡ç­¾ ui\n\n## ä½¿ç”¨[react-router-cache-route](https://github.com/CJY0208/react-router-cache-route)å®ç°é¡µé¢çš„æ•°æ®ç¼“å­˜\n\n\né¦–å…ˆé‡åˆ°çš„ç¬¬ä¸€ä¸ªé—®é¢˜å°±æ˜¯æˆ‘ç›®å‰çš„é¡¹ç›®ä¸­ï¼Œè·¯ç”±ç”¨çš„æ˜¯é…ç½®æ˜¯è·¯ç”±ï¼Œå³é€šè¿‡[react-router-config](https://github.com/ReactTraining/react-router)ä¸­çš„`renderRoutes`å°†é…ç½®å¼è·¯ç”±è¿›è¡Œè½¬æ¢ï¼š\n\n\n```javascript\nfunction renderRoutes(routes, extraProps, switchProps) {\n  if (extraProps === void 0) {\n    extraProps = {};\n  }\n\n  if (switchProps === void 0) {\n    switchProps = {};\n  }\n  // å°†é…ç½®å¼è·¯ç”±ç”Ÿæˆå£°æ˜å¼è·¯ç”±ï¼Œç”Ÿæˆ\n  // <Switch>\n  // \t\t<Route path={} exact={}></Route>\n  // </Switch>\n  return routes\n    ? React.createElement(\n        Switch,\n        switchProps,\n        routes.map(function (route, i) {\n          return React.createElement(Route, {\n            key: route.key || i,\n            path: route.path,\n            exact: route.exact,\n            strict: route.strict,\n            render: function render(props) {\n              return route.render\n                ? route.render(\n                    _extends({}, props, {}, extraProps, {\n                      route: route,\n                    })\n                  )\n                : React.createElement(\n                    route.component,\n                    _extends({}, props, extraProps, {\n                      route: route,\n                    })\n                  );\n            },\n          });\n        })\n      )\n    : null;\n}\n\n```\n\n\nè€Œ[react-router-cache-route](https://github.com/CJY0208/react-router-cache-route)ç›®å‰ä¸æ”¯æŒé…ç½®å¼è·¯ç”±ã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Ft59aRxMoSdz4eMGTfBLOXfG3xGx.png)\n\n\næ‰€ä»¥å°±éœ€è¦å¯¹`renderRoutes`æ–¹æ³•è¿›è¡Œæ”¹é€ ï¼Œåœ¨ç”Ÿæˆè·¯ç”±æ—¶ï¼Œç”¨ä»–æä¾›çš„ CacheRoute æ›¿æ¢ Routeï¼Œç”¨ CacheSwitch æ›¿æ¢ Switchã€‚\n\n\n```javascript\nimport React from \"react\";\nimport CacheRoute, { CacheSwitch } from \"react-router-cache-route\";\n\n// é‡å†™react-router-configä¸­çš„renderRoutesæ–¹æ³•\n// å°†react-router-domä¸­çš„Switchå’ŒRouteç»„ä»¶æ›¿æ¢ä¸ºreact-router-cache-routeä¸­çš„CacheSwitchå’ŒCacheRouteç»„ä»¶\n// ç”¨äºç»„ä»¶çš„ç¼“å­˜ï¼Œåˆ©ç”¨react-router-cache-routeè½®å­ï¼Œåœ¨åˆ‡æ¢è·¯ç”±æ—¶ä¸è®©ç»„ä»¶å¸è½½ï¼Œè€Œæ˜¯éšè—\nexport const renderRoutes = (routes, extraProps = {}, switchProps = {}) => {\n  return routes\n    ? React.createElement(\n        CacheSwitch,\n        switchProps,\n        routes.map(function (route, i) {\n          return React.createElement(CacheRoute, {\n            key: route.key || i,\n            path: route.path,\n            exact: route.exact,\n            strict: route.strict,\n            render: function render(props) {\n              return route.render\n                ? route.render({ ...props, ...extraProps, route: route })\n                : React.createElement(route.component, {\n                    ...props,\n                    ...extraProps,\n                    route: route,\n                  });\n            },\n          });\n        })\n      )\n    : null;\n};\n\n```\n\n\n## èœå•è·¯ç”±ç»“åˆå¤šæ ‡ç­¾ ui\n\n\nui çš„é€»è¾‘å‚è€ƒçš„æ˜¯[react-antd-multi-tabs-admin](https://github.com/hsl947/react-antd-multi-tabs-admin)ã€‚\n\n\n### UI ç•Œé¢\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FkGiH4KxP7eKbIfUMnPhEcx9n1Ml.png)\n\n\n### åŠŸèƒ½ç‚¹\n\n1. æ ¹æ®å·¦ä¾§èœå•æ ç”Ÿæˆå¯¹åº”çš„ Tab æ ‡ç­¾\n2. å³é”®å¯ä»¥åˆ·æ–°ã€å…³é—­ã€å…³é—­å…¶ä»–ã€å…³é—­å…¨éƒ¨\n3. Tab æ ‡ç­¾é¡µæœ¬èº«å¯ä»¥å…³é—­ï¼Œå…³é—­åè‡ªåŠ¨åˆ‡æ¢åˆ°å·²æ‰“å¼€çš„æ ‡ç­¾é¡µ\n4. åˆ‡æ¢æ ‡ç­¾é¡µæ—¶ä¿æŒåŸæœ‰çš„æ•°æ®ä¸ä¼šé‡æ–°åŠ è½½\n\n### æ€è€ƒ\n\n\n### æ•°æ®å­˜å‚¨\n\n\nç”¨ store å­˜å‚¨æ ‡ç­¾é¡µæ•°æ®ã€‚Tab æ ‡ç­¾é¡µæ˜¯ä¸€ä¸ªå…¨å±€å…±äº«ï¼Œè€ƒè™‘åˆ°æ•°æ®å…±äº«çš„é—®é¢˜ï¼Œå°†æ•°æ®å­˜å‚¨åˆ° store ä¸­ï¼Œå¹¶åœ¨æ¯ä¸ªé¡µé¢å…±äº«ã€‚\n\n\n> å¯ä»¥è€ƒè™‘æŠŠå½“å‰æ‰“å¼€çš„æ ‡ç­¾æ•°æ®åŒæ­¥è‡³ localstory ä¸­ï¼Œå®ç°åˆ·æ–°åä¾ç„¶å¯ä»¥æ¢å¤å·²æ‰“å¼€çš„æ ‡ç­¾é¡µï¼Œä½†æ˜¯ç›®å‰æ„Ÿè§‰æ¯”è¾ƒé¸¡è‚‹ï¼Œåªæœ‰æŠŠè¡¨å•æ•°æ®ä¸€èµ·åŒæ­¥æ‰æœ‰å®ç”¨ä»·å€¼ã€‚\n\n\n### èœå•å’Œ Tab é¡µåŒæ­¥\n\n\nå› ä¸º url å·²ç»å’Œèœå•é¡µåŒæ­¥ï¼Œæ‰€ä»¥è·å–å½“å‰èœå•æœ€æ–¹ä¾¿çš„æ–¹å¼å°±æ˜¯ä» url ä¸­è·å–å½“å‰çš„è·¯ç”±ï¼Œç„¶åç”Ÿæˆæ ‡ç­¾é¡µï¼Œå½“åˆ‡æ¢æ ‡ç­¾é¡µæ—¶ï¼Œç›´æ¥ç”¨ history.push çš„æ–¹å¼æ”¹å˜ urlï¼Œæ­¤æ—¶èœå•é¡µä¹Ÿä¼šè·Ÿç€å˜ã€‚\n\n\n## å®æ–½\n\n\n### æ–°å»º tabPanes.tsx\n\n\n```typescript\nimport React, {\n  FC,\n  useState,\n  useEffect,\n  useRef,\n  useCallback,\n  Component,\n} from \"react\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { Tabs, Alert, Dropdown, Menu } from \"antd\";\nimport Home from \"@pages/miniapps\";\nimport { getKeyName } from \"@utils/routerUtils\";\nimport { SyncOutlined } from \"@ant-design/icons\";\nimport { useSelector } from \"react-redux\";\nimport style from \"./index.module.less\";\nimport { CommonObjectType, RefType } from \"@type/type\";\nimport { useActions } from \"@utils/hook\";\nimport { RootState } from \"@reducers/index\";\n\nconst { TabPane } = Tabs;\n\nconst initPane = [\n  {\n    title: \"ä»£ç ç®¡ç†\",\n    key: \"miniapps\",\n    content: Home,\n    closable: false,\n    path: \"/miniapps\",\n  },\n];\n\ninterface Props {\n  // é»˜è®¤æ¿€æ´»çš„Tabé¡µ\n  defaultActiveKey: string;\n  // æ ‡ç­¾é¡µçš„props\n  panesItem: {\n    title: string;\n    content: Component;\n    key: string;\n    closable: boolean;\n    path: string;\n  };\n  // æ¿€æ´»çš„æ ‡ç­¾é¡µ\n  tabActiveKey: string;\n}\n\n// å¤šé¡µç­¾ç»„ä»¶\nconst TabPanes: FC<Props> = (props) => {\n  // è®°å½•å½“å‰æ¿€æ´»çš„Tabé¡µ\n  const [activeKey, setActiveKey] = useState<string>(\"\");\n  // è®°å½•å½“å‰æ‰“å¼€çš„Tabé¡µ\n  const [panes, setPanes] = useState<CommonObjectType[]>(initPane);\n  // è®°å½•Tabé¡µçš„åˆ·æ–°çŠ¶æ€\n  const [isReload, setIsReload] = useState<boolean>(false);\n  // è®°å½•å½“å‰å³é”®é€‰ä¸­çš„Tabé¡µ\n  const [selectedPanel, setSelectedPanel] = useState<CommonObjectType>({});\n  // ç”¨useRefè®°å½•æœ€æ–°çš„Tabé¡µæ•°æ®\n  const pathRef: RefType = useRef<string>(\"\");\n\n  // å–å‡ºæ“ä½œTabé¡µçš„action\n  const { layouts } = useActions([\"layouts\"]);\n  // ä»storeå–å‡ºå½“å‰çš„Tabé¡µåˆ—è¡¨å’Œåˆ·æ–°è·¯å¾„\n  const { curTab, reloadPath } = useSelector(\n    (state: RootState) => state.layouts\n  );\n\n  // å–å‡ºprops\n  const { defaultActiveKey, panesItem, tabActiveKey } = props;\n  // ç”¨historyè¿›è¡Œè·³è½¬ï¼Œç»“åˆreact-router-cache-routeä¼šå°†æ•°æ®è¿›è¡Œç¼“å­˜\n  const history = useHistory();\n  // å–å‡ºå½“å‰çš„pathï¼Œä¾‹å¦‚/miniapps /logç­‰\n  const { pathname, search } = useLocation();\n  // å¯èƒ½ä¼šæœ‰å¸¦å‚æ•°çš„æƒ…å†µ\n  const fullPath = pathname + search;\n\n  // è®°å½•å½“å‰æ‰“å¼€çš„tab\n  const storeTabs = useCallback((ps): void => {\n    // å¯¹è·¯å¾„è¿›è¡Œç´¯åŠ ï¼Œå¯¹å½“å‰æ‰“å¼€çš„è·¯å¾„è¿›è¡Œå…¨å­˜å‚¨\n    const pathArr = ps.reduce(\n      (prev: CommonObjectType[], next: CommonObjectType) => [\n        ...prev,\n        next.path,\n      ],\n      []\n    );\n    // å°†æ•°æ®è®°å½•åˆ°storeä¸­\n    layouts.setTab(pathArr);\n  }, []);\n\n  // ä»æœ¬åœ°å­˜å‚¨ä¸­æ¢å¤å·²æ‰“å¼€çš„tabåˆ—è¡¨\n  const initTabs = useCallback((): void => {\n    const initPanes = curTab.reduce(\n      (prev: CommonObjectType[], next: string) => {\n        const { title, tabKey, component: Content } = getKeyName(next);\n        return [\n          ...prev,\n          {\n            title,\n            key: tabKey,\n            content: Content,\n            closable: tabKey !== \"/miniapps\",\n            path: next,\n          },\n        ];\n      },\n      []\n    );\n    // ä»è·¯ç”±ä¸­è·å–å½“å‰éœ€è¦æ‰“å¼€çš„Tabé¡µ\n    const { tabKey } = getKeyName(pathname);\n    // è®¾ç½®å½“å‰æ‰“å¼€çš„Tabé¡µ\n    setPanes(initPanes);\n    // è®¾ç½®å½“å‰æ¿€æ´»çš„Tabé¡µ\n    setActiveKey(tabKey);\n  }, [pathname]);\n\n  // åˆå§‹åŒ–é¡µé¢\n  useEffect(() => {\n    initTabs();\n  }, [initTabs]);\n\n  // tabåˆ‡æ¢\n  const onChange = (tabKey: string): void => {\n    setActiveKey(tabKey);\n  };\n\n  // ç§»é™¤tab\n  const remove = (targetKey: string): void => {\n    const delIndex = panes.findIndex((item: any) => item.key === targetKey);\n    panes.splice(delIndex, 1);\n\n    // åˆ é™¤éå½“å‰tab\n    if (targetKey !== activeKey) {\n      const nextKey = activeKey;\n      setPanes(panes);\n      setActiveKey(nextKey);\n      storeTabs(panes);\n      return;\n    }\n\n    // åˆ é™¤å½“å‰tabï¼Œåœ°å€å¾€å‰æ¨ï¼Œå¦‚æœå‰é¢æ²¡æœ‰tabé¡µå°±å¾€åæ¨\n    const nextPath = curTab[delIndex - 1] || curTab[delIndex + 1];\n    history.push(nextPath);\n    // è®°å½•åˆ é™¤åçš„Tabé¡µ\n    setPanes(panes);\n    // å°†æ•°æ®è®°å½•åˆ°store\n    storeTabs(panes);\n  };\n\n  // tabç‚¹å‡»åˆ é™¤æ“ä½œ\n  const onEdit = (targetKey: string | any, action: string) =>\n    action === \"remove\" && remove(targetKey);\n\n  // tabç‚¹å‡»ï¼Œæ¿€æ´»æ ‡ç­¾é¡µ\n  const onTabClick = (targetKey: string): void => {\n    const { path } = panes.filter(\n      (item: CommonObjectType) => item.key === targetKey\n    )[0];\n    history.push({ pathname: path });\n  };\n\n  // åˆ·æ–°å½“å‰ tab\n  const refreshTab = (): void => {\n    setIsReload(true);\n    setTimeout(() => {\n      setIsReload(false);\n    }, 1000);\n\n    layouts.reloadTab(pathname + search);\n    setTimeout(() => {\n      layouts.reloadTab(\"null\");\n    }, 500);\n  };\n\n  // å…³é—­å…¶ä»–æˆ–å…³é—­æ‰€æœ‰\n  const removeAll = async (isCloseAll?: boolean) => {\n    const { path, key } = selectedPanel;\n    console.log(\"selectedPanel\", path, key);\n    // å…³é—­æ‰€æœ‰å°±è·³è½¬åˆ°ä»£ç ç®¡ç†\n    // å…³é—­å…¶ä»–å°±è·³è½¬åˆ°å³é”®é€‰æ‹©çš„tabé¡µä¸Š\n    // æƒ…å†µä¸€ï¼šåœ¨å½“å‰æ¿€æ´»çš„tabé¡µæ“ä½œå…³é—­å…¶ä»–ï¼Œåˆ™ä¼šä¿ç•™å½“å‰çš„tabé¡µï¼›\n    // æƒ…å†µäºŒï¼šåœ¨å…¶ä»–æœªæ¿€æ´»çš„Tabé¡µæ“ä½œå…³é—­å…¶ä»–ï¼Œåˆ™ä¼šè·³è½¬åˆ°é¼ æ ‡æ“ä½œçš„tabé¡µ\n    history.push(isCloseAll ? \"/miniapps\" : path);\n\n    // å½“å‰å·²æ‰“å¼€çš„tabé¡µ\n    // å¦‚æœå³é”®æ“ä½œçš„ä¸æ˜¯ä»£ç ç®¡ç†é¡µï¼ˆminiappsï¼‰ï¼Œä¸”é€‰æ‹©çš„æ˜¯å…³é—­å…¶ä»–ï¼Œåˆ™å½“å‰æ‰“å¼€çš„Tabé¡µæ˜¯ä»£ç ç®¡ç†é¡µ+ å³é”®ç‚¹å‡»æ‰€åœ¨çš„é¡µé¢\n    // å¦åˆ™ï¼šå¦‚æœå³é”®æ“ä½œçš„æ˜¯ä»£ç ç®¡ç†é¡µï¼ˆminiappsï¼‰ï¼Œæˆ–è€…é€‰æ‹©çš„æ˜¯å…³é—­æ‰€æœ‰ï¼Œåˆ™å½“å‰æ‰“å¼€çš„Tabé¡µæ˜¯ä»£ç ç®¡ç†é¡µ\n    const nowPanes =\n      key !== \"/miniapps\" && !isCloseAll\n        ? [...initPane, selectedPanel]\n        : initPane;\n    setPanes(nowPanes);\n    // å¦‚æœæ˜¯å…³é—­å…¨éƒ¨ï¼Œå°±è·³è½¬åˆ°ä»£ç ç®¡ç†é¡µ\n    setActiveKey(isCloseAll ? \"/miniapps\" : key);\n    storeTabs(nowPanes);\n  };\n\n  useEffect(() => {\n    const newPath = pathname + search;\n\n    // å½“å‰çš„è·¯ç”±å’Œä¸Šä¸€æ¬¡çš„ä¸€æ ·ï¼Œreturn\n    if (!panesItem.path || panesItem.path === pathRef.current) return;\n\n    // ä¿å­˜è¿™æ¬¡çš„è·¯ç”±åœ°å€\n    pathRef.current = newPath;\n  });\n\n  useEffect(() => {\n    const index = panes.findIndex((_: CommonObjectType) => {\n      return _.key === panesItem.key;\n    });\n    // æ— æ•ˆçš„æ–°tabï¼Œreturn\n    if (\n      !panesItem.key ||\n      (index > -1 && pathRef.current === panes[index].path)\n    ) {\n      setActiveKey(tabActiveKey);\n      return;\n    }\n\n    // æ–°tabå·²å­˜åœ¨ï¼Œé‡æ–°è¦†ç›–æ‰ï¼ˆè§£å†³å¸¦å‚æ•°åœ°å€æ•°æ®é”™ä¹±é—®é¢˜ï¼‰\n    if (index > -1) {\n      panes[index].path = pathRef.current;\n      setPanes(panes);\n      setActiveKey(tabActiveKey);\n      return;\n    }\n    // æ·»åŠ æ–°tabå¹¶ä¿å­˜èµ·æ¥\n    panes.push(panesItem);\n    setPanes(panes);\n    setActiveKey(tabActiveKey);\n    storeTabs(panes);\n  }, [panes]);\n\n  const isDisabled = () => selectedPanel.key === \"/miniapps\";\n  // tabå³å‡»èœå•\n  const menu = (\n    <Menu>\n      <Menu.Item\n        key=\"1\"\n        onClick={() => refreshTab()}\n        disabled={selectedPanel.path !== fullPath}\n      >\n        åˆ·æ–°\n      </Menu.Item>\n      <Menu.Item\n        key=\"2\"\n        onClick={(e) => {\n          e.domEvent.stopPropagation();\n          remove(selectedPanel.key);\n        }}\n        disabled={isDisabled()}\n      >\n        å…³é—­\n      </Menu.Item>\n      <Menu.Item\n        key=\"3\"\n        onClick={(e) => {\n          e.domEvent.stopPropagation();\n          removeAll();\n        }}\n      >\n        å…³é—­å…¶ä»–\n      </Menu.Item>\n      <Menu.Item\n        key=\"4\"\n        onClick={(e) => {\n          e.domEvent.stopPropagation();\n          removeAll(true);\n        }}\n        disabled={isDisabled()}\n      >\n        å…¨éƒ¨å…³é—­\n      </Menu.Item>\n    </Menu>\n  );\n\n  const onRightClick = (e: CommonObjectType, panel: object) => {\n    e.preventDefault();\n    setSelectedPanel(panel);\n  };\n\n  return (\n    <div>\n      <Tabs\n        activeKey={activeKey}\n        className={style.tabs}\n        defaultActiveKey={defaultActiveKey}\n        hideAdd\n        onChange={onChange}\n        onEdit={onEdit}\n        onTabClick={onTabClick}\n        type=\"editable-card\"\n      >\n        {panes.map((pane: CommonObjectType) => (\n          <TabPane\n            closable={pane.closable}\n            key={pane.key}\n            tab={\n              <Dropdown\n                overlay={menu}\n                placement=\"bottomLeft\"\n                trigger={[\"contextMenu\"]}\n              >\n                <span onContextMenu={(e) => onRightClick(e, pane)}>\n                  {isReload &&\n                    pane.path === fullPath &&\n                    pane.path !== \"/401\" && (\n                      <SyncOutlined title=\"åˆ·æ–°\" spin={isReload} />\n                    )}\n                  {pane.title}\n                </span>\n              </Dropdown>\n            }\n          >\n            {reloadPath !== pane.path ? (\n              <pane.content path={pane.path} />\n            ) : (\n              <div style={{ height: \"100vh\" }}>\n                <Alert message=\"åˆ·æ–°ä¸­...\" type=\"info\" />\n              </div>\n            )}\n          </TabPane>\n        ))}\n      </Tabs>\n    </div>\n  );\n};\n\nexport default TabPanes;\n\n```\n\n\n### æ–°å»º useTabActive è‡ªå®šä¹‰ Hook\n\n\n```typescript\nconst noNewTab = [\"/login\", \"/\"]; // ä¸éœ€è¦æ–°å»º tabçš„é¡µé¢\ninterface PanesItemProps {\n  title: string;\n  content: Component;\n  key: string;\n  closable: boolean;\n  path: string;\n}\n\nexport const useTabActive = () => {\n  const { pathname, search } = useLocation();\n  const [panesItem, setPanesItem] = useState<PanesItemProps>({\n    title: \"\",\n    // @ts-ignore\n    content: null,\n    key: \"\",\n    closable: false,\n    path: \"\",\n  });\n  const pathRef: RefType = useRef<string>(\"\");\n  const [tabActiveKey, setTabActiveKey] = useState<string>(\"miniapps\");\n\n  useEffect(() => {\n    // è®°å½•æ ‡ç­¾é¡µ\n    const { tabKey, title, component: Content } = getKeyName(pathname);\n    // æ–°tabå·²å­˜åœ¨æˆ–ä¸éœ€è¦æ–°å»ºtabï¼Œreturn\n    if (pathname === pathRef.current || noNewTab.includes(pathname)) {\n      setTabActiveKey(tabKey);\n      return;\n    }\n    // è®°å½•æ–°çš„è·¯å¾„ï¼Œç”¨äºä¸‹æ¬¡æ›´æ–°æ¯”è¾ƒ\n    const newPath = search ? pathname + search : pathname;\n    pathRef.current = newPath;\n    setPanesItem({\n      title,\n      content: Content,\n      key: tabKey,\n      closable: tabKey !== \"/miniapps\",\n      path: newPath,\n    });\n    setTabActiveKey(tabKey);\n  }, [pathname]);\n\n  return { panesItem, tabActiveKey };\n};\n\n```\n\n\n### å°†åŸæ¥çš„ content å†…å®¹ç»„ä»¶è¿›è¡Œæ›¿æ¢\n\n\n```typescript\nconst { panesItem, tabActiveKey } = useTabActive()\n\n<Layout.Content>\n  <TabPanes\n    defaultActiveKey=\"miniapps\"\n    panesItem={panesItem}\n    tabActiveKey={tabActiveKey}\n   />\n</Layout.Content>\n\n```\n\n\n# é—®é¢˜\n\n\n## routes è·¯ç”±é‡å¤æ¸²æŸ“\n\n\n```typescript\nimport React, { useEffect } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport { RouteConfigComponentProps } from \"react-router-config\";\nimport { renderRoutes } from \"@utils/routerUtils\";\nimport config from \"@utils/config\";\nimport { useDispatch } from \"react-redux\";\nimport Layout from \"@layouts/default\";\nimport Autho from \"@components/autho\";\nimport NotFined from \"@components/errorPage/404\";\nimport { useActions } from \"@utils/hook\";\n\n// åˆå¹¶è·¯ç”±\nconst routes = [\n  ...require(\"@pages/manager_develop/router\").default,\n  ...require(\"@pages/miniapps/router\").default,\n  ...require(\"@pages/templates/router\").default,\n  ...require(\"@pages/log/router\").default,\n  ...require(\"@pages/dashboard/router\").default,\n  ...require(\"@pages/operations/router\").default,\n  { path: \"*\", exact: true, component: NotFined },\n];\n\nconst loginRoute = require(\"@pages/login/router\").default;\n\ntype RouteComponentType = React.ComponentType<RouteConfigComponentProps<any>>;\n\nconst Root: RouteComponentType = function (props) {\n  const dispatch = useDispatch();\n  // å–å‡ºæ“ä½œTabé¡µçš„action\n  const { layouts } = useActions([\"layouts\"]);\n  window.router = props;\n  window.dispatch = dispatch;\n\n  if (!props.route) {\n    return null;\n  }\n  // @ts-ignore\n  if (props.pathname === \"/\") {\n    window.router.history.push(config.homeUrl);\n    layouts.setTab([\"/miniapps\"]);\n  }\n  // ï¼ˆ1ï¼‰è¿™é‡Œæ¸²æŸ“äº†ä¸€æ¬¡\n  return renderRoutes(props.route.routes);\n};\n\nexport const rootRoutes = [\n  {\n    component: Root,\n    path: \"/\",\n    name: \"é¦–é¡µ\",\n    routes: [\n      ...loginRoute,\n      {\n        // ï¼ˆ2ï¼‰è¿™é‡Œæ¸²æŸ“äº†ä¸€æ¬¡\n        component: (props) => (\n          <Layout key=\"root_layout\">\n            {props.route && renderRoutes(props.route.routes)}\n          </Layout>\n        ),\n        routes: [\n          ...routes.map((item) => ({\n            ...item,\n            component: () => {\n              const C = item.component;\n              return (\n                <Autho block=\"nav\" funcCode={item.menuCode}>\n                  <C />\n                </Autho>\n              );\n            },\n          })),\n        ],\n      },\n    ],\n  },\n];\n\nconst RouterMap = () => {\n  return (\n    <Router basename={config.routerBaseName}>\n      {/* (3)è¿™é‡Œæ¸²æŸ“äº†ä¸€æ¬¡*/}\n      {renderRoutes(rootRoutes)}\n    </Router>\n  );\n};\n\nexport default RouterMap;\n\n```\n\n\nè¿™é‡Œä¸€å…±åœ¨ä¸‰ä¸ªåœ°æ–¹è°ƒç”¨äº†`renderRoutes(rootRoutes)`è¿›è¡Œäº†ç»„ä»¶æ¸²æŸ“ï¼Œè€Œä¸”`rootRoutes`çš„ç»“æ„æ¯”è¾ƒè¯¡å¼‚ï¼š\n\n\n```json\n[\n  {\n    path: \"/\",\n    name: \"é¦–é¡µ\",\n    routes: [\n      {\n        path: \"/login\",\n        exact: true,\n      },\n      {\n        routes: [\n          {\n            path: \"/operations/error\",\n            exact: true,\n            name: \"é”™è¯¯æ—¥å¿—\",\n            menuCode: \"error\",\n          },\n          {\n            path: \"/operations/errorinfo\",\n            name: \"é”™è¯¯è¯¦æƒ…\",\n            menuCode: \"errorinfo\",\n            exact: true,\n          },\n          {\n            path: \"/operations/performance\",\n            name: \"æ€§èƒ½ç›‘æ§\",\n            menuCode: \"performance\",\n            exact: true,\n          },\n          {\n            path: \"*\",\n            exact: true,\n          },\n        ],\n      },\n    ],\n  },\n];\n\n```\n\n\nå‚è€ƒ cms çš„è·¯ç”±ç»“æ„ï¼š\n\n\n```json\n[\n  {\n    routes: [\n      {\n        path: \"/\",\n        exact: true,\n      },\n      {\n        path: \"/register_customer\",\n        name: \"customer\",\n        title: \"é›†å›¢å®¢æˆ·\",\n        exact: true,\n      },\n      {\n        path: \"/region_customer\",\n        name: \"customer\",\n        title: \"åŒºåŸŸå®¢æˆ·\",\n        exact: true,\n      },\n      {\n        path: \"/user_project_visit\",\n        name: \"customer\",\n        title: \"é¡¹ç›®å®¢æˆ·\",\n        exact: true,\n      },\n      {\n        path: \"*\",\n        exact: true,\n      },\n    ],\n  },\n];\n\n```\n\n\næˆ–è€…å¦ä¸€ç§åµŒå¥—ç»“æ„ï¼š\n\n\n```json\n[\n  {\n    path: \"/\",\n    name: \"é¦–é¡µ\",\n    routes: [\n      {\n        path: \"/operations/error\",\n        exact: true,\n        name: \"é”™è¯¯æ—¥å¿—\",\n        menuCode: \"error\",\n      },\n      {\n        path: \"/operations/errorinfo\",\n        name: \"é”™è¯¯è¯¦æƒ…\",\n        menuCode: \"errorinfo\",\n        exact: true,\n      },\n      {\n        path: \"/operations/performance\",\n        name: \"æ€§èƒ½ç›‘æ§\",\n        menuCode: \"performance\",\n        exact: true,\n      },\n      {\n        path: \"*\",\n        exact: true,\n      },\n    ],\n  },\n];\n\n```\n\n\n## Layout å¸ƒå±€ç»„ä»¶è€¦åˆä¸¥é‡\n\n\n```typescript\n<Layout style={{ minHeight: \"100vh\", height: \"100%\", overflow: \"hidden\" }}>\n  <Sider\n    collapsible\n    collapsed={collapsed}\n    onCollapse={setCollapsed}\n    style={{ position: \"fixed\", zIndex: 100, height: \"100%\" }}\n  >\n    <div style={{ display: \"flex\", padding: 16 }}>\n      {platforms.length && (\n        <Select\n          onSelect={(id) => {\n            select({ ...platforms.find((item) => item.component_id === id) });\n          }}\n          defaultValue={component_id}\n          className={styles.env}\n        >\n          {platforms.map((opt) => (\n            <Select.Option\n              key={opt.component_id}\n              value={opt.component_id}\n              title={opt.component_name}\n            >\n              {opt.component_name}\n            </Select.Option>\n          ))}\n        </Select>\n      )}\n      <LogoutOutlined onClick={logout} className={styles.logut} />\n    </div>\n    {renderMenu()}\n  </Sider>\n  <Layout style={{ marginLeft: collapsed ? \"80px\" : \"200px\" }}>\n    <Layout.Content>\n      <TabPanes\n        defaultActiveKey=\"miniapps\"\n        panesItem={panesItem}\n        tabActiveKey={tabActiveKey}\n      />\n    </Layout.Content>\n    <Footer style={{ textAlign: \"center\" }}>Copyright Â©</Footer>\n  </Layout>\n</Layout>\n\n```\n\n\nå¯ä»¥çœ‹åˆ°ï¼Œå¸ƒå±€ç»„ä»¶åµŒå¥—äº†åŒ…æ‹¬å°ç¨‹åºå¹³å°çš„ä¸šåŠ¡ç»„ä»¶é€»è¾‘ï¼Œæˆ‘è¿™æ¬¡ä¹ŸæŠŠ Tab ç»„ä»¶åµŒå¥—è¿›å»äº†ï¼Œè€¦åˆæœ‰ç‚¹å¼ºï¼Œåç»­ç»´æŠ¤æˆæœ¬é«˜ï¼Œåé¢è€ƒè™‘ä»è·¯ç”±å‡ºå‘ï¼Œé‡æ–°æ¢³ç†ä¸‹ç»“æ„ã€‚\nå¯¹æ¯” cms çš„å¸ƒå±€ç»„ä»¶ï¼Œå°±å…·æœ‰ç›¸å¯¹é«˜çš„é€šç”¨æ€§\n\n\n```typescript\n<div\n  className=\"common-layout-default\"\n  style={{ background: props.bgColor || \"#fff\" }}\n>\n  <Header></Header>\n  <div\n    className=\"common-layouts-side-styles\"\n    style={{ maxWidth: props.maxWidth, minWidth: props.minWidth }}\n  >\n    <div className=\"layout-side\">\n      <SideNavigation></SideNavigation>\n    </div>\n    <div className=\"layout-content\">{props.children}</div>\n  </div>\n  <Footer></Footer>\n</div>\n\n```\n\n\n# éœ€è¦æµ‹è¯•çš„åŠŸèƒ½ç‚¹\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FkGiH4KxP7eKbIfUMnPhEcx9n1Ml.png)\n\n\n## ç™»å½•ç›¸å…³\n\n- ç›´æ¥è¾“å…¥.../login è¿›è¡Œç™»å½•åæ ‡ç­¾é¡µåŠŸèƒ½\n- æ­£å¸¸é€€å‡ºåé‡æ–°ç™»å½•åæ ‡ç­¾é¡µåŠŸèƒ½\n\n## æƒé™ç›¸å…³\n\n- æ— é¡µé¢æƒé™æ—¶çš„æ ‡ç­¾é¡µåŠŸèƒ½\n- ç›®å‰è·¯ç”±å’Œæ ‡ç­¾é¡µæ˜¯å…¨åŒ¹é…æ–°å»ºçš„ï¼Œåªæœ‰å½“è·¯ç”±å®Œå…¨ä¸€è‡´æ—¶æ‰ä¼šæ–°å»ºæ ‡ç­¾é¡µï¼Œå¦åˆ™ä¼šæ˜¾ç¤ºæ— æƒé™ï¼Œä¾‹å¦‚`.../p-yunke-ai-third-platform/operations/error`å’Œ`.../p-yunke-ai-third-platform/operations/error/`ï¼Œå¤šäº†ä¸€ä¸ª`/`éƒ½ä¸è¡Œ\n\n## æ ‡ç­¾é¡µåŠŸèƒ½\n\n\né»˜è®¤ä»£ç ç®¡ç†é¡µé¢ä¸ºé»˜è®¤é¡µé¢ï¼Œæ— æ³•å…³é—­ã€‚\n\n- æ–°å¢æ ‡ç­¾é¡µ\n\n\t> ç‚¹å‡»å·¦ä¾§èœå•ï¼Œå¦‚æœæ‰“å¼€çš„æ˜¯ä¸åŒçš„é¡µé¢ï¼Œåˆ™ä¼šæ–°å»º tab\n\n- å…³é—­æ ‡ç­¾é¡µ\n- åˆ·æ–°å½“å‰é¡µ\n\n\t> åªæœ‰åœ¨å½“å‰æ¿€æ´»çš„æ ‡ç­¾é¡µæ‰èƒ½è¿›è¡Œåˆ·æ–°é¡µé¢çš„æ“ä½œ\n\n- å…³é—­å…¶å®ƒæ ‡ç­¾\n- å…³é—­å…¨éƒ¨æ ‡ç­¾\n\n\t> è§„åˆ™ï¼šåœ¨å½“å‰å·²æ‰“å¼€çš„ tab é¡µï¼Œ å¦‚æœå³é”®æ“ä½œçš„ä¸æ˜¯ä»£ç ç®¡ç†é¡µï¼ˆminiappsï¼‰ï¼Œä¸”é€‰æ‹©çš„æ˜¯å…³é—­å…¶ä»–ï¼Œåˆ™å½“å‰æ‰“å¼€çš„ Tab é¡µæ˜¯ä»£ç ç®¡ç†é¡µ+ å³é”®ç‚¹å‡»æ‰€åœ¨çš„é¡µé¢  \n\t> å¦åˆ™ï¼šå¦‚æœå³é”®æ“ä½œçš„æ˜¯ä»£ç ç®¡ç†é¡µï¼ˆminiappsï¼‰ï¼Œæˆ–è€…é€‰æ‹©çš„æ˜¯å…³é—­æ‰€æœ‰ï¼Œåˆ™å½“å‰ä¿ç•™çš„ Tab é¡µæ˜¯ä»£ç ç®¡ç†é¡µ\n\n\n## é¡µé¢æ•°æ®ç¼“å­˜\n\n\nç›®å‰æ”¯æŒåœ¨ä¸åŒæ ‡ç­¾é¡µåˆ‡æ¢æ—¶ä¸ä¼šæ¸…ç©ºè¡¨å•æ•°æ®ï¼Œä½†æ˜¯åˆ·æ–°ä¾ç„¶ä¼šæ¸…ç©ºï¼ˆä»£ç ç®¡ç†é¡µé¢é™¤å¤–ï¼Œå•ç‹¬åšäº†åˆ·æ–°åä¾æ—§å¯ä»¥ç¼“å­˜æ•°æ®ï¼‰\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2021-10-12",
        "type": "Post",
        "slug": "peqmq8",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "æœ¬æ–‡ä»‹ç»äº†ä¸€ä¸ª React ä¸­åå°ç³»ç»Ÿå¤šé¡µç­¾æ–¹æ¡ˆï¼ŒåŒ…æ‹¬æ ‡ç­¾é¡µåŠŸèƒ½ã€é¡µé¢æ•°æ®ç¼“å­˜ã€æƒé™ç›¸å…³ç­‰åŠŸèƒ½ç‚¹ã€‚åŒæ—¶ï¼Œè¿˜æ¶‰åŠåˆ°è·¯ç”±ç»“æ„å’Œ Layout å¸ƒå±€ç»„ä»¶ç­‰æ–¹é¢çš„é—®é¢˜ã€‚æœ¬æ–‡æ—¨åœ¨å¸®åŠ©è¯»è€…ç†è§£å¤šé¡µç­¾å®ç°çš„åŸç†åŠå…¶åº”ç”¨åœºæ™¯ã€‚",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:22:00.000Z",
        "title": "React ä¸­åå°ç³»ç»Ÿå¤šé¡µç­¾æ–¹æ¡ˆ",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "React"
        ],
        "status": "Archived",
        "urlname": "aea49f8c-44b2-44d5-a269-c0d1ff23625d",
        "updated": "2023-08-26 15:22:00"
      },
      "body": "",
      "realName": "React ä¸­åå°ç³»ç»Ÿå¤šé¡µç­¾æ–¹æ¡ˆ",
      "relativePath": "/React ä¸­åå°ç³»ç»Ÿå¤šé¡µç­¾æ–¹æ¡ˆ.md"
    },
    {
      "id": "969bc5c0-227e-40fc-bed8-74216c1c53a9",
      "doc_id": "969bc5c0-227e-40fc-bed8-74216c1c53a9",
      "updated": 1693060980000,
      "body_original": "\n# äºŒè¿›åˆ¶ä¸åè¿›åˆ¶ä¹‹é—´çš„è½¬æ¢\n\n\n## åè¿›åˆ¶è½¬æ¢æˆäºŒè¿›åˆ¶\n\n\n### å–ä½™æ³•\n\n\n```java\npublic void test1() {\n  String numstr = \"\";\n  int de = 31;\n  while (de > 0) {\n    int res = de % 2; //é™¤2 å–ä½™æ•°ä½œä¸ºäºŒè¿›åˆ¶æ•°\n    numstr = res + numstr;\n    de = de / 2;\n  }\n  System.out.println(numstr); //11111\n}\n```\n\n\nåè¿›åˆ¶æ•´æ•°è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•´æ•°é‡‡ç”¨â€œé™¤ 2 å–ä½™ï¼Œé€†åºæ’åˆ—â€æ³•ã€‚å…·ä½“åšæ³•æ˜¯ï¼šç”¨ 2 æ•´é™¤åè¿›åˆ¶æ•´æ•°ï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ªå•†å’Œä½™æ•°ï¼›å†ç”¨ 2 å»é™¤å•†ï¼Œåˆä¼šå¾—åˆ°ä¸€ä¸ªå•†å’Œä½™æ•°ï¼Œå¦‚æ­¤è¿›è¡Œï¼Œç›´åˆ°å•†ä¸ºå°äº 1 æ—¶ä¸ºæ­¢ï¼Œç„¶åæŠŠå…ˆå¾—åˆ°çš„ä½™æ•°ä½œä¸ºäºŒè¿›åˆ¶æ•°çš„ä½ä½æœ‰æ•ˆä½ï¼Œåå¾—åˆ°çš„ä½™æ•°ä½œä¸ºäºŒè¿›åˆ¶æ•°çš„é«˜ä½æœ‰æ•ˆä½ï¼Œä¾æ¬¡æ’åˆ—èµ·æ¥ã€‚\n\n\n### åŸç†\n\n\nå‡è®¾åè¿›åˆ¶æ•´æ•° A åŒ–å¾—çš„äºŒè¿›åˆ¶æ•°ä¸º`abcde`çš„å½¢å¼ï¼Œé‚£ä¹ˆç”¨ä¸Šé¢çš„æ–¹æ³•æŒ‰æƒå±•å¼€ï¼Œ å¾— `A=a(2^4)+b(2^3)+c(2^2)+d(2^1)+e(2^0)` ï¼ˆåé¢çš„å’Œä¸æ­£æ˜¯åŒ–åè¿›åˆ¶çš„è¿‡ç¨‹å—ï¼‰ å‡è®¾è¯¥æ•°æœªè½¬åŒ–ä¸ºäºŒè¿›åˆ¶,é™¤ä»¥åŸºæ•°`2`å¾— `A/2=a(2^4)/2+b(3^1)/2+c(2^2)/2+d(1^3)/2+e(2^0)/2` æ³¨æ„ï¼š`e`é™¤ä¸å¼€äºŒï¼Œä½™ä¸‹äº†ï¼å…¶ä»–çš„ç»å¯¹èƒ½é™¤å¼€ï¼Œå› ä¸ºä»–ä»¬éƒ½åŒ…å«`2`ï¼Œè€Œ`e`ä¹˜çš„æ˜¯`1`ï¼Œä»–æœ¬èº«ç»å¯¹ä¸åŒ…å«å› æ•°`2`ï¼Œåªèƒ½ä½™ä¸‹ã€‚æ‰€ä»¥å¯ä»¥å¾—åˆ°ä½™æ•°`e`ï¼Œ`A/2 - e/2` å¾—åˆ°æ–°çš„æ•´æ•°`a(2^3)+b(2^2)+c(2^1)+d(2^0)`ï¼Œç„¶å å†é™¤ä»¥åŸºæ•°`2`ä½™ä¸‹äº†`d`ï¼Œä»¥æ­¤ç±»æ¨ã€‚å½“è¿™ä¸ªæ•°ä¸èƒ½å†è¢«`2`é™¤æ—¶ï¼Œå…ˆä½™æ‰çš„`e`ä½æ•°åœ¨åŸæ•°ä½ï¼Œè€Œåæ¥çš„ä½™æ•°æ•°ä½é«˜ï¼Œæ‰€ä»¥è¦æŠŠæ‰€æœ‰çš„ä½™æ•°åè¿‡æ¥å†™ã€‚æ­£å¥½æ˜¯`abcde`\n\n\n### ç§»ä½å¼‚æˆ–æ³•\n\n\n```java\npublic void test2() {\n  int num = 31;\n  //å®šä¹‰ä¸€ä¸ªStringç”¨äºè¿”å›å¾—åˆ°çš„äºŒè¿›åˆ¶\n  String binary = \"\";\n  while (num > 0) {\n    //è·å–æ¯ä¸€ä½\n    int bit = num & 1;\n    //å°†è·å–çš„ä½æ·»åŠ åˆ°å­—ç¬¦ä¸²\n    binary = bit + binary;\n    //å‘å³ç§»ä¸€ä½\n    num = num >> 1;\n  }\n  System.out.println(binary);\n}\n```\n\n\nè¿™ç§ä½è¿ç®—è¿ç”¨äº†ä¸€ä¸ªç‰¹ç‚¹ï¼šä»»ä½•äºŒè¿›åˆ¶æ•°ä¸ 1 è¿›è¡Œä¸è¿ç®—éƒ½ä¼šå¾—åˆ°å…¶æœ€ä½çš„ä½ä½æœ‰æ•ˆä½ï¼Œå³äºŒè¿›åˆ¶æ•°çš„æœ€åä¸€ä¸ªæ•°æœ¬èº«ã€‚æ‰€ä»¥è®©è¿™ä¸ªæ­£æ•´æ•°ä¸ 1 è¿›è¡Œä¸è¿ç®—ï¼Œå†å³ç§»ä¸€ä½åæŠŠæœ€åä¸€ä½æ¶ˆé™¤æ‰ï¼ˆæ•´æ•°/2ï¼‰ï¼Œå†è¿›è¡Œå¦‚æ­¤çš„å¾ªç¯æ“ä½œå°±å¯ä»¥å¾—åˆ°è¿™ä¸ªæ­£æ•´æ•°çš„æ¯ä¸€ä½äºŒè¿›åˆ¶æ•°ï¼Œå› ä¸ºå…ˆè¿ç®—çš„æ•°ä½ä½ï¼Œåè¿ç®—çš„é«˜ï¼Œæ‰€ä»¥è¿›è¡Œä¸€ä¸ªåå‘æ’åˆ—å°±å¯ä»¥å¾—åˆ°è¯¥æ­£æ•´æ•°å¯¹åº”çš„äºŒè¿›åˆ¶æ•°ã€‚\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2020-04-17",
        "type": "Post",
        "slug": "oslix7",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T14:43:00.000Z",
        "title": "è°ˆä¸€è°ˆäºŒè¿›åˆ¶",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "æ•°æ®ç»“æ„"
        ],
        "status": "Archived",
        "urlname": "969bc5c0-227e-40fc-bed8-74216c1c53a9",
        "updated": "2023-08-26 14:43:00"
      },
      "body": "",
      "realName": "è°ˆä¸€è°ˆäºŒè¿›åˆ¶",
      "relativePath": "/è°ˆä¸€è°ˆäºŒè¿›åˆ¶.md"
    },
    {
      "id": "af91247d-4fac-406b-8272-9a807defeefd",
      "doc_id": "af91247d-4fac-406b-8272-9a807defeefd",
      "updated": 1693060980000,
      "body_original": "\n# å¼•è¨€\n\n\nåœ¨ 2018 å¹´å­¦ä¹  Java çš„ WEB å¼€å‘æ—¶ï¼Œå°±æ…¢æ…¢å˜å¾—ä¸Šç˜¾èµ·æ¥ï¼Œä¸å¤ªæ„¿æ„ç”¨è§†é¢‘ä¸­ç»™çš„é™æ€ç½‘é¡µæ¥åšé¡¹ç›®ã€‚è‡ªå·±ä¾¿ç”¨ä¸å¤ªç†Ÿç»ƒçš„ JS å†™äº†ä¸ªæ³¨å†Œç½‘é¡µï¼Œç„¶åè¿˜ç”¨ä¸Šäº†é‚®ç®±éªŒè¯ç ï¼Œå¾ˆå–œæ¬¢è¿™ä¸ªç½‘é¡µã€‚ä½†æ˜¯åæ¥çš„é¡¹ç›®ä¸€ç›´ç”¨ä¸ä¸Šï¼Œç›´åˆ°æœ€è¿‘åšä¸€ä¸ªç½‘ç«™ï¼Œåˆšå¥½å¯ä»¥ç”¨åˆ°ä¹‹å‰åšçš„æ³¨å†Œç½‘é¡µã€‚å°±æŠŠå®ƒç”¨æ›´é«˜çº§çš„ Angular JS æ”¹é€ äº†ä¸€ä¸‹ï¼Œå¹¶æ”¹æˆäº†æ‰‹æœºçŸ­ä¿¡éªŒè¯ç ï¼Œæ„Ÿè§‰æ›´æœ‰æˆå°±æ„Ÿäº†ï¼ æ­¤æ¬¡å¼€å‘çš„çŸ­ä¿¡å¾®æœåŠ¡æ˜¯åˆ©ç”¨ SpringBoot å¿«é€Ÿæ­å»º ActiveMQï¼Œå› ä¸ºæˆ‘çš„äº‘æœåŠ¡å™¨å’ŒåŸŸåéƒ½åœ¨è…¾è®¯äº‘ï¼Œè€Œä¸”è…¾è®¯äº‘çŸ­ä¿¡æ¯ä¸ªæœˆé€ 100 æ¡çŸ­ä¿¡ï¼Œå¯¹æˆ‘æ—¥å¸¸å¼€å‘æµ‹è¯•è€Œè¨€ï¼Œæ ¹æœ¬ç”¨ä¸å®Œï¼Œæ‰€ä»¥ä½¿ç”¨è…¾è®¯äº‘çŸ­ä¿¡ API å®Œæˆå‘é€çŸ­ä¿¡ï¼Œé‡Œé¢æœ‰å¥½å¤šæŠ€æœ¯éƒ½æ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦ï¼Œæ‰€ä»¥å†™ä¸€ä¸‹è®°å½•ä¸‹ç»†èŠ‚ã€‚\n\n\n# é¡¹ç›®æ¶æ„\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FuN9hIJs_P9C-Ybf_nfv6rgLcLFA.png)\n\n\n# åˆ©ç”¨ SpringBoot æ­å»º ActiveMQ\n\n\n## åˆ›å»º Maven å·¥ç¨‹ letttgaco_sms_serviceï¼ˆæ³¨æ„ï¼šæ‰“åŒ…æ–¹å¼ä¸º jarï¼‰\n\n\næ·»åŠ å¦‚ä¸‹ä¾èµ–è‡³ pom.xml\n\n\n```xml\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\txsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n\t<modelVersion>4.0.0</modelVersion>\n\t<groupId>cn.letttgaco.sms</groupId>\n\t<artifactId>letttgaco_sms_service</artifactId>\n\t<version>1.0</version>\n    <!-- ç”¨Eclipseå»ºSpringBooté¡¹ç›®ä¼šé»˜è®¤ä¸ºjdk1.6 è¿™é‡Œè°ƒæ•´ä¸ºjdk1.7 -->\n\t<properties>\n\t\t<java.version>1.7</java.version>\n\t</properties>\n\t<parent>\n\t\t<groupId>org.springframework.boot</groupId>\n\t\t<artifactId>spring-boot-starter-parent</artifactId>\n\t\t<version>1.4.0.RELEASE</version>\n\t</parent>\n\t<dependencies>\n        <!-- èµ·æ­¥ä¾èµ– SpringBootæ ¸å¿ƒéƒ¨åˆ†å°±æ˜¯ä¾èµ–ä¼ é€’ï¼Œå®ƒä¼šè‡ªåŠ¨å¼•å…¥WEBå¼€å‘æ‰€éœ€è¦çš„æ‰€æœ‰åŒ…ï¼Œ\n\t\t\tç”šè‡³è¿tomcatéƒ½å†…ç½®äº†ï¼Œæ‰€ä»¥è¿™ä¹Ÿæ˜¯å®ƒæ­å»ºå¦‚æ­¤ä¹‹å¿«çš„åŸå› äº†-->\n\t\t<dependency>\n\t\t\t<groupId>org.springframework.boot</groupId>\n\t\t\t<artifactId>spring-boot-starter-web</artifactId>\n\t\t</dependency>\n\t\t<!-- activtemq åªéœ€è¦å¼•å…¥è¿™ä¸€ä¸ªä¾èµ–ï¼Œå®ƒå°±ä¼šæŠŠæ‰€æœ‰ç”¨åˆ°çš„å…³è”jaråŒ…éƒ½ä¾èµ–ä¼ é€’è¿‡æ¥-->\n\t\t<dependency>\n\t\t\t<groupId>org.springframework.boot</groupId>\n\t\t\t<artifactId>spring-boot-starter-activemq</artifactId>\n\t\t</dependency>\n\t\t<!-- è…¾è®¯äº‘çŸ­ä¿¡API -->\n\t\t<dependency>\n\t\t\t<groupId>com.github.qcloudsms</groupId>\n\t\t\t<artifactId>qcloudsms</artifactId>\n\t\t\t<version>1.0.6</version>\n\t\t</dependency>\n        <!-- springbootçƒ­éƒ¨ç½² é™¤äº†æ”¹pomæ–‡ä»¶ï¼Œå…¶ä»–æ–‡ä»¶æ”¹äº†éƒ½ä¸ç”¨é‡å¯ï¼Œç®€ç›´èŠ‚çœå¤§é‡æ—¶é—´å•Š-->\n\t\t<dependency>\n\t\t\t<groupId>org.springframework.boot</groupId>\n\t\t\t<artifactId>spring-boot-devtools</artifactId>\n\t\t</dependency>\n\t</dependencies>\n</project>\n```\n\n\n## åˆ›å»ºå¼•å¯¼ç±» Application.java\n\n\nè¿™ä¸ªç±»æ˜¯ç¨‹åºçš„å…¥å£ï¼Œå¯åŠ¨å®ƒå°±èƒ½å¯åŠ¨ SpringBoot å®¹å™¨\n\n\n```java\npackage cn.letttgaco.sms;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\n//@SpringBootApplicationå…¶å®å°±æ˜¯ä»¥ä¸‹ä¸‰ä¸ªæ³¨è§£çš„æ€»å’Œ\n//@Configurationï¼š ç”¨äºå®šä¹‰ä¸€ä¸ªé…ç½®ç±»\n//@EnableAutoConfiguration ï¼šSpring Bootä¼šè‡ªåŠ¨æ ¹æ®ä½ jaråŒ…çš„ä¾èµ–æ¥è‡ªåŠ¨é…ç½®é¡¹ç›®ã€‚\n//@ComponentScanï¼š å‘Šè¯‰Spring å“ªä¸ªpackages çš„ç”¨æ³¨è§£æ ‡è¯†çš„ç±» ä¼šè¢«springè‡ªåŠ¨æ‰«æå¹¶ä¸”è£…å…¥beanå®¹å™¨ã€‚\npublic class Application {\n\tpublic static void main(String[] args) {\n\t\tSpringApplication.run(Application.class, args);\n\t}\n}\n```\n\n\n## ä½¿ç”¨è…¾è®¯äº‘ SMS éœ€è¦å‡†å¤‡çš„ä¿¡æ¯\n\n\nåœ¨è…¾è®¯äº‘å¼€é€šçŸ­ä¿¡æœåŠ¡ï¼Œç”³è¯·å¥½çŸ­ä¿¡ç­¾åå’ŒçŸ­ä¿¡æ¨¡æ¿åï¼Œå¯ä»¥å°†ç›¸å…³é…ç½®å‚¨å­˜åˆ°é…ç½®æ–‡ä»¶ application.propertiesï¼ˆç›´æ¥åœ¨ resources ä¸­åˆ›å»ºï¼‰ä¸­ã€‚[ç‚¹å‡»å‰å¾€è…¾è®¯äº‘çŸ­ä¿¡å®˜æ–¹æ–‡æ¡£](https://cloud.tencent.com/document/product/382/18071)\n\n\n```java\n// çŸ­ä¿¡åº”ç”¨SDK AppID\n\tint appid = 1400xxxx; // 1400å¼€å¤´\n\n    // çŸ­ä¿¡åº”ç”¨SDK AppKey\n    String appkey = \"qwertyuiopasdfghjkl123456789\";\n\n    // éœ€è¦å‘é€çŸ­ä¿¡çš„æ‰‹æœºå·ç \n    String[] phoneNumbers = {\"21212313123\", \"12345678902\", \"12345678903\"};\n\n    // çŸ­ä¿¡æ¨¡æ¿IDï¼Œéœ€è¦åœ¨çŸ­ä¿¡åº”ç”¨ä¸­ç”³è¯·\n    int templateId = 7839; // NOTE: è¿™é‡Œçš„æ¨¡æ¿ID`7839`åªæ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼ŒçœŸå®çš„æ¨¡æ¿IDéœ€è¦åœ¨çŸ­ä¿¡æ§åˆ¶å°ä¸­ç”³è¯·\n    // ç­¾å\n    String smsSign = \"è…¾è®¯äº‘\"; // NOTE: ç­¾åå‚æ•°ä½¿ç”¨çš„æ˜¯`ç­¾åå†…å®¹`ï¼Œè€Œä¸æ˜¯`ç­¾åID`ã€‚è¿™é‡Œçš„ç­¾å\"è…¾è®¯äº‘\"åªæ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼ŒçœŸå®çš„ç­¾åéœ€è¦åœ¨çŸ­ä¿¡æ§åˆ¶å°ç”³è¯·ã€‚\n```\n\n\n## åˆ›å»ºè…¾è®¯äº‘ SMS å·¥å…·ç±» SmsUtil.java\n\n\n```java\npackage cn.letttgaco.sms;\n\nimport java.io.IOException;\nimport java.util.Map;\n\nimport org.json.JSONException;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.core.env.Environment;\nimport org.springframework.stereotype.Component;\n\nimport com.github.qcloudsms.SmsMultiSender;\nimport com.github.qcloudsms.SmsMultiSenderResult;\nimport com.github.qcloudsms.httpclient.HTTPException;\n@Component\npublic class SmsUtil {\n\t//ç”¨æ¥è¯»å–springbootçš„é…ç½®æ–‡ä»¶ä¸­çš„å†…å®¹\n\t@Autowired\n\tprivate Environment env;\n    \n\t/**\n\t * æˆ‘åªåœ¨é…ç½®æ–‡ä»¶ä¸­å­˜å‚¨äº†appidå’Œappkey,å…¶ä»–ä¿¡æ¯æˆ‘é€‰æ‹©ä»ä¸Šå±‚ä¼ è¿‡æ¥\n\t * @param map\n\t */\n\tpublic void sendSms(Map<String,String> map) {\n\t\ttry {\n\t\t\t//å› ä¸ºæˆ‘è¿™é‡Œåªä¼šç”¨åˆ°å•ä¸ªæ‰‹æœºå·ï¼Œæ‰€ä»¥ç”¨mapä¼ è¾“\n\t\t\tString phone = map.get(\"phone\");\n\t\t\tint templateId = Integer.parseInt(map.get(\"templateId\"));\n\t\t\tString smsSign = map.get(\"smsSign\");\n            //å¤šä¸ªæ‰‹æœºå·å¯ä»¥åœ¨æ•°ç»„ä¸­å¡«å†™å¤šä¸ª\n\t\t\tString[] phoneNumbers = {phone};\n\t\t\tString code = map.get(\"code\");\n            //æˆ‘çš„çŸ­ä¿¡æ¨¡æ¿æ˜¯â€œæ¬¢è¿æ³¨å†Œï¼Œ{1}ä¸ºæ‚¨çš„éªŒè¯ç ,è¯·äº5åˆ†é’Ÿå†…å¡«å†™ã€‚â€\n            //{1}å¯¹åº”ä¸‹é¢æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªä¿¡æ¯\n\t\t\tString[] params = { code };// å¯¹åº”æ¨¡æ¿ä¸­çš„å†…å®¹\n\t\t\t//ä»é…ç½®æ–‡ä»¶ä¸­è·å–ä¿¡æ¯\n\t\t\tint appid = Integer.parseInt(env.getProperty(\"appid\"));\n\t\t\tString appkey = env.getProperty(\"appkey\");\n\t\t\tSmsMultiSender msender = new SmsMultiSender(appid,appkey);\n\t\t\t// ç­¾åå‚æ•°æœªæä¾›æˆ–è€…ä¸ºç©ºæ—¶ï¼Œä¼šä½¿ç”¨é»˜è®¤ç­¾åå‘é€çŸ­ä¿¡\n\t\t\tSmsMultiSenderResult result = msender.sendWithParam(\"86\", phoneNumbers,templateId, params, smsSign, \"\", \"\");\n\t\t\tSystem.out.println(result);\n\t\t} catch (HTTPException e) {\n\t\t\t// HTTPå“åº”ç é”™è¯¯\n\t\t\te.printStackTrace();\n\t\t} catch (JSONException e) {\n\t\t\t// jsonè§£æé”™è¯¯\n\t\t\te.printStackTrace();\n\t\t} catch (IOException e) {\n\t\t\t// ç½‘ç»œIOé”™è¯¯\n\t\t\te.printStackTrace();\n\t\t}\n\t}\n\n}\n```\n\n\n## åˆ›å»ºæ¶ˆæ¯çš„æ¶ˆè´¹è€… SmsListener.java\n\n\nåˆ©ç”¨ SpringBoot ç”šè‡³ä¸ç”¨é…ç½® ActiveMQ çš„ xml æ–‡ä»¶ï¼ï¼ï¼ï¼\n\n\n```java\npackage cn.letttgaco.sms;\n\nimport java.util.Map;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.jms.annotation.JmsListener;\nimport org.springframework.stereotype.Component;\n/**\n * æ¶ˆæ¯çš„æ¶ˆè´¹ç«¯,ç›‘å¬æ¶ˆæ¯\n * @author LetTTGACO\n *\n */\n@Component\npublic class SmsListener {\n\t\n\t@Autowired\n\tprivate SmsUtil smsUtil;\n\t//destination=\"sendSms\"æŒ‡æ¶ˆè´¹ç«¯ä¼šç›‘å¬åç§°ä¸ºsendSmsçš„é˜Ÿåˆ—\n\t@JmsListener(destination=\"sendSms\")\n\tpublic void sendSms(Map<String,String> map) {\n\t\tsmsUtil.sendSms(map);\n\t}\n\n}\n```\n\n\n## åˆ›å»ºæ¶ˆæ¯çš„ç”Ÿäº§è€…\n\n\n```java\npackage cn.letttgaco.user.service.impl;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.data.redis.core.RedisTemplate;\nimport org.springframework.jms.core.JmsMessagingTemplate;\n\nimport com.alibaba.dubbo.config.annotation.Service;\n\n\n/**\n * æ¶ˆæ¯çš„ç”Ÿäº§è€…\n * @author LetTTGACO\n *\n */\n@RestController\npublic class UserServiceImpl implements UserService {\n\t\n    @Autowired\n\tprivate JmsMessagingTemplate jmsMessagingTemplate;\n    \n\t@Value(\"${templateId}\")\n\tprivate String templateId;\n\t\n\t@Value(\"${smsSign}\")\n\tprivate String smsSign;\n\t\n\t@RequestMapping(\"/sendSms\")\n\tpublic void sendSms(String phone) {\n\t\t//å°†çŸ­ä¿¡å†…å®¹å‘é€ç»™ActiveMQ\n\t\tMap<String, String> map = new HashMap<String, String>();\n\t\tmap.put(\"phone\", phone);//æ‰‹æœºå·\n\t\tmap.put(\"templateId\", templateId);//ç­¾åæ¨¡æ¿\n\t\tmap.put(\"smsSign\", smsSign);//ç­¾åå†…å®¹\n\t\tjmsMessagingTemplate.convertAndSend(\"sendSms\",phone);\n\t\t\n\t}\n\t\n}\n```\n\n\n# æµ‹è¯•\n\n\n> æ³¨ï¼šå¯ä»¥åœ¨ application.properties è®¾ç½®å†…ç½® tomcat çš„è®¿é—®ç«¯å£å·ï¼Œé»˜è®¤ä¸º 8080ã€‚\n\n\n```xml\nserver.port=9080\n```\n\n\n## å¯åŠ¨ Application.java\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fog02flc86lD33GHFiEu9v_zJOA3.png)\n\n\n## æ‰“å¼€æµè§ˆå™¨\n\n\nè¾“å…¥`http://localhost:9080/sendSms?phone=13333333333` æ¶ˆæ¯äº§ç”Ÿè¿‡ç¨‹ï¼š\n\n1. æµè§ˆå™¨è®¿é—®åˆ°æ§åˆ¶å±‚ sendSms()æ–¹æ³•äº§ç”Ÿæ¶ˆæ¯ï¼Œå¹¶æ¨é€ç»™ ActiveMQã€‚\n2. æ¶ˆè´¹è€…ç›‘å¬æ¶ˆæ¯ï¼Œæ¥æ”¶ ActiveMQ çš„æ¶ˆæ¯ï¼Œæ‰§è¡Œå‘é€çŸ­ä¿¡çš„ä»»åŠ¡ã€‚\n3. æ‰‹æœºæ”¶åˆ°çŸ­ä¿¡\n\n---\n\n\nè‡³æ­¤ï¼ŒçŸ­ä¿¡å¾®æœåŠ¡æ­å»ºæˆåŠŸï¼\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2019-04-02",
        "type": "Post",
        "slug": "qykfat",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "è¿™ç¯‡æ–‡ç« ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ SpringBootã€ActiveMQ å’Œè…¾è®¯äº‘ SMS æ­å»º Java çŸ­ä¿¡å¾®æœåŠ¡ï¼Œå¹¶æä¾›äº†è¯¦ç»†çš„æ­¥éª¤å’Œä»£ç ç¤ºä¾‹ã€‚",
        "æ›´æ–°æ—¶é—´": "2023-08-26T14:43:00.000Z",
        "title": "JavaçŸ­ä¿¡å¾®æœåŠ¡å¼€å‘ SpringBoot+ActiveMQ+è…¾è®¯äº‘SMS",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Java"
        ],
        "status": "Archived",
        "urlname": "af91247d-4fac-406b-8272-9a807defeefd",
        "updated": "2023-08-26 14:43:00"
      },
      "body": "",
      "realName": "JavaçŸ­ä¿¡å¾®æœåŠ¡å¼€å‘ SpringBoot+ActiveMQ+è…¾è®¯äº‘SMS",
      "relativePath": "/JavaçŸ­ä¿¡å¾®æœåŠ¡å¼€å‘ SpringBoot+ActiveMQ+è…¾è®¯äº‘SMS.md"
    },
    {
      "id": "49a7c01d-86a0-4cf9-bb14-7a55a4651215",
      "doc_id": "49a7c01d-86a0-4cf9-bb14-7a55a4651215",
      "updated": 1693063320000,
      "body_original": "\n# å¼•è¨€\n\n\nåœ¨æ²¡æœ‰é‡åˆ°[yuque-hexo](https://github.com/x-cold/yuque-hexo)ä¹‹å‰ï¼Œæˆ‘åšå®¢æ˜¯ Hexo+Github Pages çš„éƒ¨ç½²æ–¹å¼ï¼š\n\n- æœ¬åœ°é…ç½® Hexo æºç \n- åˆ©ç”¨æœ¬åœ°çš„ markdown ç¼–è¾‘å™¨ä¹¦å†™æ–‡ç« \n- Hexo éƒ¨ç½²åˆ° Github Pages/Coding Pages ä¸Š\n\nç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼š\n\n- æœ¬åœ°ç¼–è¾‘å™¨é±¼é¾™æ··æ‚ï¼Œä½¿ç”¨æ‰‹æ„Ÿä¸€è¨€éš¾å°½\n- ä»£ç å­˜å‚¨åœ¨æœ¬åœ°ä¸æ–¹ä¾¿\n- GitHub Pages å›½å†…è®¿é—®é€Ÿåº¦ä»¤äººå ªå¿§ï¼ˆæœ‰æ®µæ—¶é—´æˆ‘è¿˜åŒé‡éƒ¨ç½²åœ¨äº† Coding Pages ä¸Šï¼Œä½†æ˜¯å¤ªä¸ç¨³å®šäº†ï¼‰\n\næœ¬åœ°çš„ç¼–è¾‘å™¨æˆ‘æ˜¯æŒ‘äº†åˆæŒ‘ï¼Œæ€»ç®—æ‰¾åˆ°ä¸€ä¸ªæ‰‹æ„Ÿè¿˜ä¸é”™çš„[Typora](https://typora.io/)ï¼Œä½†è¿˜æ˜¯é™äºæœ¬åœ°ç¼–è¾‘çš„å±€é™æ€§å’Œä¸æ–¹ä¾¿ï¼Œå°±æ‡’çš„åœ¨æœ¬åœ°å†™åšå®¢äº†ã€‚ åœ¨è¯•ç”¨äº†è¯­é›€ä¹‹åï¼Œå‘ç°è¯­é›€çš„ç¼–è¾‘å™¨å¤ªå¥½ç”¨äº†ï¼ŒåŠŸèƒ½é½å…¨ï¼Œé€Ÿåº¦ä¹Ÿå¿«ã€‚åæ¥æˆ‘å°±ä¸€ç›´åœ¨è¯­é›€ä¸Šè®°å½•å„ç§æ–‡ç« ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰åŒæ­¥åˆ°åšå®¢ã€‚æ‰€åœ¨å…¬å¸å›¢é˜Ÿä¹Ÿç”¨è¯­é›€æ¥è®°å½•å„ç§æŠ€æœ¯æ–¹æ¡ˆç­‰æ–‡æ¡£ã€‚å°±è¿™æ ·æˆ‘çš„åšå®¢å‡ ä¹åœæ›´äº†ä¸€å¹´ã€‚\n\n\n---\n\n\nç›´åˆ°æˆ‘é‡åˆ°äº†[yuque-hexo](https://github.com/x-cold/yuque-hexo)ï¼Œçªç„¶å°±å¼•èµ·äº†æˆ‘çš„å…´è¶£ã€‚ç»“åˆæ¨èçš„æœ€ä½³å®è·µæ–‡ç« ï¼Œæˆ‘æ²¡æ—¥æ²¡å¤œæäº†å¥½å‡ å¤©ï¼Œç»ˆäºæ­å»ºå¥½äº†æˆ‘çš„[æ–°åšå®¢](https://1874.cool/)ã€‚\n\n\n# å¼€å§‹\n\n\næˆ‘çš„æ–°åšå®¢æ˜¯åŸºäº\n\n\n> Hexo + è¯­é›€ + yuque-hexo + web hook + severless + Github Actions\n\n\næ‰˜ç®¡å¹³å°æˆ‘é€‰æ‹©çš„æ˜¯\n\n\n> è…¾è®¯äº‘çš„ COS é™æ€ç½‘ç«™+è‡ªå®šä¹‰ CDN åŠ é€Ÿ\n\n\nè‡³äºä¸ºä»€ä¹ˆé€‰æ‹©è…¾è®¯äº‘ COSï¼Œæ˜¯å› ä¸ºæˆ‘çš„äº‘æœåŠ¡å™¨ã€åŸŸåã€å›¾åºŠéƒ½ä½¿ç”¨çš„è…¾è®¯äº‘çš„æœåŠ¡ã€‚å†åŠ ä¸Š COS é™æ€ç½‘ç«™+CDN åŠ é€Ÿçš„æè‡´ä½“éªŒï¼Œè®©æˆ‘å¿ƒåŠ¨äº†ã€‚è€Œä¸”æˆ‘è¿™ä¸ªæˆ˜äº”æ¸£çš„ä¸ªäººåšå®¢çš„è®¿é—®é‡å¯¹äºæ”¶è´¹çš„ COS æ¥è¯´ï¼Œä¹Ÿæ²¡å¤šé’±ï¼Œå°±å…ˆåšä¸ªè¯•éªŒå§ï¼Œä¸‡ä¸€å“ªå¤©~~åšå®¢ç«äº†~~ï¼ˆæ²¡é’±äº†ï¼‰ï¼Œå†æ¢ä¹Ÿä¸è¿Ÿã€‚\n\n\n# éƒ¨ç½²æµç¨‹\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FvjX9uckFsBD3DDgkfoo-IZ3b8yJ.png)\n\n\n> PSï¼šåœ¨Github Actions æŒç»­é›†æˆ Docker æ„å»ºå¹¶éƒ¨ç½² Node é¡¹ç›®åˆ°äº‘æœåŠ¡å™¨ä¸­ï¼Œæˆ‘å·²ç»å°†è°ƒç”¨äº‘å‡½æ•°æ”¹ä¸ºè°ƒæˆ‘è‡ªå·±çš„ node é¡¹ç›®äº†ï¼Œå†ç”± node æœåŠ¡è°ƒç”¨ github actions\n\n\n# åˆå§‹åŒ– Hexo\n\n\né¦–å…ˆéœ€è¦åœ¨æœ¬åœ°åˆå§‹åŒ– hexo ä»“åº“\n\n\n```shell\nnpx hexo-cli init blog\n```\n\n\n> npx å¯ä»¥åœ¨ä¸å…¨å±€å®‰è£…ä¾èµ–æƒ…å†µä¸‹ä½¿ç”¨ hexo-cli çš„å‘½ä»¤\n\n\nåˆå§‹åŒ– hexo æˆåŠŸåå¯ä»¥å®‰è£…ä½ å–œæ¬¢çš„ä¸»é¢˜ç­‰é…ç½®ï¼Œè¿™é‡Œä¸ä½œèµ˜è¿°ã€‚\n\n\n# å®‰è£… yuque-hexo æ’ä»¶\n\n\nå®˜æ–¹æ–‡æ¡£ï¼š[yuque-hexo](https://github.com/x-cold/yuque-hexo)\n\n\n## å®‰è£…ä¾èµ–\n\n\n```shell\nnpm i yuque-hexo\n```\n\n\n## é…ç½®è¯­é›€\n\n1. è®¿é—®[å·¥ä½œå°](https://www.yuque.com/dashboard)=>è´¦æˆ·è®¾ç½®=Token=>æ–°å»º token å¹¶é…ç½®å¥½æƒé™ã€‚**Access Token å³ä¸º YUQUE_TOKEN**\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FiMisZ8z0CXkE_JhM4M3HYtVKH8Z.png)\n\n1. è®¿é—®[å·¥ä½œå°](https://www.yuque.com/dashboard)=>è´¦æˆ·è®¾ç½®=>è´¦æˆ·è®¾ç½®=>ä¸ªäººè·¯å¾„ï¼Œè®¾ç½®è¯­é›€çš„ç®€æ˜“çš„ä¸ªäººè·¯å¾„ï¼ˆå»ºè®®ï¼‰ï¼Œ**æ‹¿åˆ°ä¸ªäººè·¯å¾„ã€‚**\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FqEnqU_PHRB_3vaMUYJP2hjyTXfN.png)\n\n1. æ–°å»ºä¸€ä¸ªæ”¾ç½®åšå®¢çš„çŸ¥è¯†åº“ï¼ˆå¯è§èŒƒå›´ä¸ºäº’è”ç½‘å¯è§ï¼‰\n2. è¿›å…¥åšå®¢çŸ¥è¯†åº“ï¼Œè®¾ç½®åšå®¢çŸ¥è¯†åº“çš„è·¯å¾„ï¼ˆå»ºè®®ï¼‰ï¼Œ**æ‹¿åˆ°çŸ¥è¯†åº“çš„è·¯å¾„**ã€‚\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FmlvxdkN3QSn1fj3FDrQr6tDfi5r.png)\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fm5RGoda0mSPPczTrWRFxT4L16DS.png)\n\n\n## é…ç½® hexo\n\n\næ‹¿åˆ°ä¸Šè¿°çš„è¯­é›€ä¸ªäººè·¯å¾„å’ŒçŸ¥è¯†åº“è·¯å¾„ï¼Œè¿›è¡Œ hexo çš„é…ç½®ã€‚\n\n\n> package.json\n\n\n```json\n{\n  \"scripts\": {\n    \"hexo:build\": \"hexo generate\",\n    \"hexo:clean\": \"hexo clean\",\n    \"deploy\": \"hexo deploy\",\n    \"server\": \"hexo server\",\n    \"hexo\": \"npm run hexo:clean && npm run hexo:build && npm run server\",\n    \"yuque:clean\": \"yuque-hexo clean\",\n    \"yuque:sync\": \"yuque-hexo sync\",\n    \"yuque\": \"npm run yuque:clean && npm run yuque:sync\"\n  },\n  \"yuqueConfig\": {\n    \"postPath\": \"source/_posts\",\n    \"baseUrl\": \"https://www.yuque.com/api/v2\",\n    \"login\": \"è¯­é›€ä¸ªäººè·¯å¾„\",\n    \"repo\": \"çŸ¥è¯†åº“è·¯å¾„\",\n    \"onlyPublished\": true,\n    \"onlyPublic\": true\n  }\n}\n```\n\n\n# é…ç½®è…¾è®¯äº‘ COS\n\n\nå½“æˆ‘ä»¬å¼€å§‹æ—¶æˆ‘ä»¬éœ€è¦åšå¦‚ä¸‹å‡†å¤‡ï¼š\n\n- åŸŸå ï¼ˆéœ€è¦å¤‡æ¡ˆï¼Œä¸å¤‡æ¡ˆå¯ä¸´æ—¶ä½¿ç”¨ COS æä¾›çš„ä¸´æ—¶åŸŸåï¼‰\n- è…¾è®¯äº‘è´¦å· å¼€é€š COS æœåŠ¡ï¼ˆå»ºè®®ä½¿ç”¨ V5 ç‰ˆæœ¬ COS æ§åˆ¶å°ï¼Œå¦‚ä¸º V4 ç‰ˆæœ¬å¯æäº¤å·¥å•è®©åå°å‡çº§ä¸º V5 ç‰ˆæœ¬ï¼‰\n\nå‚è€ƒèµ„æ–™ï¼š[ä¸€é”®éƒ¨ç½² hexo åšå®¢åˆ°è…¾è®¯äº‘ COS å¯¹è±¡å­˜å‚¨](https://werty.cn/2019/06/hexo/%E4%B8%80%E9%94%AE%E9%83%A8%E7%BD%B2hexo%E5%8D%9A%E5%AE%A2%E5%88%B0%E8%85%BE%E8%AE%AF%E4%BA%91COS%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%82%A8/)\n\n\n## å¼€å¯é™æ€ç½‘ç«™\n\n\nè®¿é—® [è…¾è®¯äº‘å¯¹è±¡å­˜å‚¨æ§åˆ¶å°](https://console.cloud.tencent.com/cos/bucket)=>åŸºç¡€é…ç½®=>é™æ€ç½‘ç«™ï¼Œ **å¼€å¯é™æ€ç½‘ç«™åŠŸèƒ½ã€‚**\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FikwiN4n7oezapO3LJA6XYK6dZOQ.png)\n\n\n## é…ç½®è‡ªå®šä¹‰ CDN åŠ é€ŸåŸŸå\n\n\nè®¿é—® [è…¾è®¯äº‘å¯¹è±¡å­˜å‚¨æ§åˆ¶å°](https://console.cloud.tencent.com/cos/bucket)=>åŸŸåä¸ä¼ è¾“ç®¡ç†=>è‡ªå®šä¹‰ CDN åŠ é€ŸåŸŸåï¼Œ**é…ç½®è‡ªå®šä¹‰åŠ é€ŸåŸŸå**\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fl2amqnJo65UKTDg7ozmsg5amAeH.png)\n\n\n## è§£æåŸŸå\n\n\nè®¿é—®[æˆ‘çš„åŸŸåç®¡ç†](https://console.cloud.tencent.com/cns)=>æ·»åŠ åŸŸåè§£æè®°å½•=>è®©åŸŸåæŒ‡å‘ä¸Šé¢çš„ CNAM åŸŸå\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FiZKKLW8VFjLpUY4DPvvCdh-kePL.png)\n\n\n## è·å–é…ç½®å‚æ•°\n\n\né¦–å…ˆæˆ‘ä»¬éœ€è¦åœ¨è…¾è®¯äº‘æ§åˆ¶å°è·å–ä¸‹åˆ—æ‰€éœ€çš„é…ç½®å‚æ•°ï¼š\n\n\n| åç§°        | æè¿°                     |\n| --------- | ---------------------- |\n| SecretId  | å¼€å‘è€…æ‹¥æœ‰çš„é¡¹ç›®èº«ä»½è¯†åˆ« IDï¼Œç”¨ä»¥èº«ä»½è®¤è¯ |\n| SecretKey | å¼€å‘è€…æ‹¥æœ‰çš„é¡¹ç›®èº«ä»½å¯†é’¥           |\n| Bucket    | COS ä¸­ç”¨äºå­˜å‚¨æ•°æ®çš„å®¹å™¨åç§°       |\n| Region    | Bucket æ‰€åœ¨çš„åœ°åŸŸä¿¡æ¯ã€‚        |\n\n\n### è·å– SecretId å’Œ SecretKey\n\n\nè¿›å…¥[è®¿é—®ç®¡ç†](https://console.cloud.tencent.com/cam/overview)=>[å¯†é’¥ç®¡ç†](https://console.cloud.tencent.com/cam/capi)=>ã€æ–°å¢å¯†é’¥ã€‘=>**è·å– SecretId å’Œ SecretKey**\n\n\n> è¿™é‡Œå»ºè®®å¯ä»¥æ–°å¢å­ç”¨æˆ·ï¼Œå¹¶è®¾ç½®æƒé™ï¼Œè·å–å­ç”¨æˆ·çš„å¯†é’¥ï¼Œè¿™é‡Œä¸ä½œèµ˜è¿°ã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FhvBmhn85j6XZG2H1SeRFFfH4v21.png)\n\n\n### è·å– bucket å’Œ region\n\n\nè®¿é—®[è…¾è®¯äº‘å¯¹è±¡å­˜å‚¨æ§åˆ¶å°](https://console.cloud.tencent.com/cos/bucket)=>åŸºæœ¬ä¿¡æ¯ï¼Œ**è·å–å­˜å‚¨æ¡¶åç§°å’Œæ‰€å±åœ°åŸŸ**\n\n\n### \n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FlY6trvKTOwRUZBKjO1N5Zs8K6N1.png)\n\n\n# é…ç½® Github Actions\n\n\né¦–å…ˆæˆ‘ä»¬éœ€è¦åœ¨ github æ–°å»ºä¸€ä¸ªç§æœ‰åšå®¢ä»“åº“ï¼ˆä»¥ä¸‹ç®€ç§°**åšå®¢ä»“åº“**ï¼‰ï¼Œç”¨äºå­˜æ”¾ hexo æºç ï¼Œå¹¶ä¸æœ¬åœ°çš„ hexo åšå…³è”ã€‚ æ‰€éœ€çš„é…ç½®å‚æ•°ï¼š\n\n\n| åç§°          | æè¿°                 |\n| ----------- | ------------------ |\n| SECRET_ID   | è…¾è®¯äº‘çš„ SecretId      |\n| SECRET_KEY  | è…¾è®¯äº‘çš„ SecretKey     |\n| YUQUE_TOKEN | è¯­é›€çš„ Access Token   |\n| BUCKET      | è…¾è®¯äº‘ COS é™æ€ç½‘ç«™çš„å­˜å‚¨æ¡¶åç§° |\n| REGION      | è…¾è®¯äº‘ COS é™æ€ç½‘ç«™çš„åœ°åŸŸåç§°  |\n\n\n## é…ç½® Github\n\n\n### è·å– Github è®¿é—® Token\n\n\nè®¿é—®[GIthub Token é…ç½®](https://github.com/settings/tokens/)=>Generate new token=>å‹¾é€‰å¿…è¦çš„å‚æ•°ï¼Œç”Ÿæˆ token\n\n\n> æ³¨æ„ä¸‹ï¼šè¿™ä¸ª Token åªä¼šå‡ºç°ä¸€æ¬¡ï¼Œæœ€å¥½å¤åˆ¶å‡ºæ¥ä½¿ç”¨ï¼Œå¦‚æœå¿˜è®°äº†ï¼Œåªèƒ½é‡æ–°ç”Ÿæˆä¸€ä¸ª\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FussD8LZRmLdE4Bf7syjdq7j1Sps.png)\n\n\n> Github Token ç”¨é€”ï¼š\n\n\t- ç”¨æ¥åœ¨æµæ°´çº¿å·¥ä½œæ—¶ï¼Œä¸Šä¼ è¯­é›€æ–‡ç« åˆ°åšå®¢ä»“åº“ã€‚\n\t- ä¸‹æ–‡ä¸­éœ€è¦ç”¨åˆ°è¿™ä¸ª token å¤–éƒ¨è°ƒç”¨ Github Actions\n\n### é…ç½®ä»“åº“ Actions secrets\n\n\nè¿›å…¥åšå®¢ä»“åº“çš„è®¾ç½®ï¼Œé…ç½® `secrets`ã€‚æŠŠä¹‹å‰è·å–çš„è…¾è®¯äº‘çš„`SECRET_ID` å’Œ `SECRET_KEY`å’Œè¯­é›€çš„`YUQUE_TOKEN`é…ç½®åˆ°è¿™é‡Œã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fj3i2PVipW8AfTyzzJ8bW_voyFtR.png)\n\n\n> SECRET_IDã€SECRET_KEYã€BUCKETã€REGION ç”¨äºä¸Šä¼ é™æ€ç½‘ç«™æ–‡ä»¶åˆ° COS YUQUE_TOKEN ç”¨äºæ‹‰å–è¯­é›€çš„æ–‡ç«  GITHUB_TOKEN ä¸ç”¨é…ç½®ï¼Œå¯ä»¥åœ¨ Github Actions ä¸­ç›´æ¥è·å–\n\n\n## é…ç½®åšå®¢ä»“åº“\n\n\nåœ¨æ ¹ç›®å½•æ–°å¢`.github/workflows/main.yaml`æ–‡ä»¶ è¿™é‡Œç›´æ¥ä¸Šä»£ç ï¼š\n\n\n```yaml\nname: Deplo To COS\n\non:\n\t# æœ¬åœ°æµ‹è¯•æ—¶å¯ä»¥å¼€å¯ï¼Œéƒ¨ç½²åä¸å»ºè®®å¼€å¯ï¼Œå› ä¸ºä¼šæ¶‰åŠåˆ°æ›´æ”¹ä¸€äº›é…ç½®ï¼Œä¼šå¤šæ¬¡é¢‘ç¹è§¦å‘æ„å»º\n\t# å…è®¸æ‰‹åŠ¨pushè§¦å‘\n  # push:\n  #    branches:\n  #      - master\n  # å…è®¸å¤–éƒ¨ä»“åº“äº‹ä»¶è§¦å‘\n  repository_dispatch:\n    types:\n    \t# è¿™é‡Œçš„å€¼éœ€è¦å’Œä¸‹æ–‡çš„äº‘å‡½æ•°çš„event_typeä¿æŒä¸€è‡´\n      - start\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n\n    steps:\n      - name: æ£€æŸ¥åˆ†æ”¯\n        uses: actions/checkout@master\n\n      - name: å®‰è£…nodeç¯å¢ƒ\n        uses: actions/setup-node@master\n        with:\n          node-version: \"12.x\"\n\n      - name: ç¼“å­˜ä¾èµ–\n        uses: actions/cache@v1\n        id: cache\n        with:\n          path: node_modules\n          key: ${{runner.OS}}-${{hashFiles('**/package-lock.json')}}\n\n      - name: å®‰è£…ä¾èµ–\n        if: steps.cache.outputs.cache-hit != 'true'\n        run: |\n          export TZ='Asia/Shanghai'\n          npm install\n\n      - name: å®‰è£…COSç›¸å…³ä¾èµ–\n        run: |\n          sudo pip install coscmd\n          sudo pip install tccli\n\n      - name: é…ç½®COS\n        env:\n          SECRET_ID: ${{ secrets.SECRET_ID }}\n          SECRET_KEY: ${{ secrets.SECRET_KEY }}\n          BUCKET: ${{ secrets.BUCKET }}\n          REGION: ${{ secrets.REGION }}\n        run: |\n          coscmd config -a $SECRET_ID -s $SECRET_KEY -b $BUCKET -r $REGION\n          tccli configure set secretId $SECRET_ID\n          tccli configure set secretKey $SECRET_KEY\n          tccli configure set region $REGION\n\n      - name: æ‹‰å–è¯­é›€çš„æ–‡ç« \n        env:\n          YUQUE_TOKEN: ${{ secrets.YUQUE_TOKEN }}\n        run: |\n          npm run yuque:clean\n          npm run yuque:sync\n\n      - name: é…ç½®Gitç”¨æˆ·åé‚®ç®±\n        run: |\n          git config --global user.name \"1874\"\n          git config --global user.email \"1225751694@qq.com\"\n\n      - name: æäº¤yuqueæ‹‰å–çš„æ–‡ç« åˆ°GitHubä»“åº“\n        run: |\n          echo `date +\"%Y-%m-%d %H:%M:%S\"` begin > time.txt\n          git add .\n          git commit -m \"Refresh yuque json\" -a\n\n      - name: æ¨é€æ–‡ç« åˆ°ä»“åº“\n        uses: ad-m/github-push-action@master\n        with:\n        \t# GITHUB_TOKENä¸ç”¨é…ç½®åœ¨secrets\n          github_token: ${{ secrets.GITHUB_TOKEN }}\n\n      - name: ç”Ÿæˆé™æ€æ–‡ä»¶\n        run: |\n          npm run hexo:clean\n          npm run hexo:build\n\n      - name: ä¸Šä¼ æ–‡ç« åˆ°coså¹¶åˆ·æ–°CDN\n        run: |\n          coscmd upload -rfs --delete ./public/ /\n          tccli cdn PurgePathCache --cli-unfold-argument --Paths https://1874.cool/ --FlushType flush\n```\n\n\n# é…ç½®è…¾è®¯äº‘å‡½æ•°\n\n\n> PSï¼šåœ¨Github Actions æŒç»­é›†æˆ Docker æ„å»ºå¹¶éƒ¨ç½² Node é¡¹ç›®åˆ°äº‘æœåŠ¡å™¨ä¸­ï¼Œæˆ‘å·²ç»å°†è°ƒç”¨äº‘å‡½æ•°æ”¹ä¸ºè°ƒæˆ‘è‡ªå·±çš„ node é¡¹ç›®äº†ï¼Œå› ä¸ºè…¾è®¯äº‘å‡½æ•°ç°åœ¨ï¼ˆ2022-07-16ï¼‰å¥½è´µäº†ï¼\n\n1. è®¿é—®[äº‘æ•°æ§åˆ¶å°](https://console.cloud.tencent.com/scf)=>æ–°å»ºäº‘å‡½æ•°\n2. æ¨¡ç‰ˆé€‰æ‹©ä»å¤´å¼€å§‹ï¼Œå‡½æ•°ç±»å‹é€‰æ‹©äº‹ä»¶å‡½æ•°ï¼Œè¿è¡Œç¯å¢ƒé€‰æ‹© python2.7\n3. åœ¨çº¿ç¼–å†™å‡½æ•°ä»£ç \n\n```python\n# -*- coding: utf8 -*- \nimport requests \ndef main_handler(event, context):\n    r = requests.post(\"https://api.github.com/repos/LetTTGACO/1874/dispatches\",\n    json = {\"event_type\": \"start\"},\n    headers = {\"User-Agent\":'curl/7.52.1',\n              'Content-Type': 'application/json',\n              'Accept': 'application/vnd.github.everest-preview+json',\n              'Authorization': 'token Githubè®¿é—®token'})\n    if r.status_code == 204:\n        return \"This's OK!\"\n    else: \n        return r.status_code\n```\n\n\n> event_type è¯´æ˜ event_type å€¼éœ€è¦å’Œ Github Actions ä¸­é…ç½®çš„ repository_dispatch çš„ types å€¼ä¿æŒä¸€è‡´ Authorization è¯´æ˜ Authorization å€¼ä¸º å­—ç¬¦ä¸² â€œtoken + Github è®¿é—® tokenâ€ï¼Œä¸è¦å¿˜äº†åŠ  token\n\n1. è§¦å‘æœŸé…ç½®=>è‡ªå®šä¹‰åˆ›å»º=>é…ç½®å¦‚ä¸‹å›¾æ‰€ç¤º\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fv6EtiOMRj1v9_23wK-di7YAsKfT.png)\n\n1. éƒ¨ç½²å®Œæˆåè¿›å…¥è§¦å‘ç®¡ç†ï¼Œæœ€ä¸‹é¢å°±æ˜¯äº‘å‡½æ•°åœ°å€\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FkhVJCWmBWFVsqWAW3uVCw5vVuDq.png)\n\n\n# é…ç½®è¯­é›€ webhook\n\n\nè®¿é—®åšå®¢çŸ¥è¯†åº“=>è®¾ç½®=>æ¶ˆæ¯æ¨é€ï¼Œé€‰æ‹©å…¶ä»–æ¸ é“ï¼Œè®¾ç½®æœºå™¨äººåç§°å’Œä¸Šæ–‡è·å–åˆ°çš„äº‘å‡½æ•°åœ°å€ï¼Œé€‰æ‹©è§¦å‘æ¡ä»¶\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fr_bBB8LiuuO4bZ-xPbS1rpXD1ir.png)\n\n\n> å‘å¸ƒæ–‡æ¡£å’Œæ›´æ–°æ–‡æ¡£ï¼Œéœ€è¦é€‰æ‹©æ–‡æ¡£æœ‰è¾ƒå¤§æ›´æ–°ï¼Œæ¨é€ç»™å…³æ³¨è€…ï¼Œæ‰ä¼šè§¦å‘ webhookã€‚ ä½†æ˜¯ç»è¿‡æˆ‘çš„æµ‹è¯•ï¼Œä¸€æ—¦æŸä¸€ç¯‡æ–‡ç« é€‰æ‹©æ–‡æ¡£æœ‰è¾ƒå¤§æ›´æ–°ï¼Œæ¨é€ç»™å…³æ³¨è€…ã€‚åç»­çš„æ›´æ–°ï¼Œä¸ç®¡é€‰æ²¡é€‰æ–‡æ¡£æœ‰è¾ƒå¤§æ›´æ–°ï¼Œæ¨é€ç»™å…³æ³¨è€…ï¼Œéƒ½ä¼šè§¦å‘ webhookã€‚å¦‚æœå› ä¸ºéƒ¨ç½²é¢‘ç¹å¯¼è‡´å‡ºé”™çš„è¯ï¼Œå»ºè®®é€‰æ‹©è¯„å®¡é˜¶æ®µè§¦å‘ã€‚ä¹Ÿå¯ä»¥æ¯æ¬¡é€šè¿‡æµ‹è¯•æŒ‰é’®æ‰‹åŠ¨è§¦å‘ã€‚\n\n\n# Doneï¼å‘å¸ƒæ–‡ç« \n\n\næ— è®ºæ˜¯å‘å¸ƒæ–°æ–‡ç« è¿˜æ˜¯æ›´æ–°åˆ é™¤ç­‰ç­‰æ“ä½œï¼Œåªè¦é€‰æ‹©æ–‡æ¡£æœ‰è¾ƒå¤§æ›´æ–°ï¼Œæ¨é€ç»™å…³æ³¨è€…å³å¯è‡ªåŠ¨è§¦å‘ã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fg0QmVZZQc9nRAGKw9fdIzw4uMsH.png)\n\n\n# å¸¸è§é—®é¢˜\n\n\n## è¯­é›€å›¾ç‰‡æ˜¾ç¤ºå¼‚å¸¸ï¼ˆé˜²ç›—é“¾ï¼‰çš„è§£å†³åŠæ³•\n\n\nç”±äºè¯­é›€çš„å›¾ç‰‡ç”±æœ‰é˜²ç›—é“¾çš„é™åˆ¶ï¼Œä¼šå¯¼è‡´éƒ¨ç½²åï¼Œåšå®¢ç½‘ç«™æ˜¾ç¤ºå›¾ç‰‡å¼‚å¸¸ã€‚ å¤„ç†åŠæ³•æœ‰ä¸¤ç§ï¼š\n\n1. åœ¨è¯­é›€ä¸Šä½¿ç”¨å›¾ç‰‡çš„æ—¶å€™ï¼Œé¿å¼€ç›´æ¥å¤åˆ¶å›¾ç‰‡åˆ°è¯­é›€ã€‚å…ˆå°†å›¾ç‰‡ä¸Šä¼ åˆ°è‡ªå·±çš„å›¾åºŠåï¼Œç›´æ¥ä½¿ç”¨ markdown çš„å›¾ç‰‡è¯­æ³•ï¼š`![](https://xxxx.com/a.jpg)`æ’å…¥å›¾ç‰‡åˆ°é€‚å½“ä½ç½®ï¼Œä¾‹å¦‚ï¼š\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FioacWCiuPFjNteg-vR3cLc1WLxS.png)\n\n1. ä¸ºäº†ä¸ç ´åè¯­é›€ç¼–è¾‘å™¨çš„ä½“éªŒï¼Œæˆ‘ä¿®æ”¹äº† yuque-hexo çš„æºä»£ç ï¼Œå‘å¸ƒäº†[yuqe-hexo-with-cdn](https://github.com/LetTTGACO/yuque-hexo-with-cdn)æ’ä»¶ã€‚é€‚é…äº†å°†è¯­é›€ä¸­çš„å›¾ç‰‡ä¸Šä¼ åˆ°è…¾è®¯äº‘ COS å›¾åºŠåï¼Œå°†åŸæœ‰çš„è¯­é›€å›¾ç‰‡é“¾æ¥æ›¿æ¢æ‰ã€‚\n\n## yuqe-hexo-with-cdn æ’ä»¶\n\n\næ›¿æ¢ä¾èµ–[yuque-hexo](https://github.com/x-cold/yuque-hexo)ä¸º[yuqe-hexo-with-cdn](https://github.com/LetTTGACO/yuque-hexo-with-cdn)\n\n\n```shell\nnpm i yuqe-hexo-with-cdn\n```\n\n\n> ç›®å‰ x-code å·²ç»å°†æˆ‘çš„æ–¹æ¡ˆåˆå¹¶åˆ°ä¸»åˆ†æ”¯äº†ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨yuque-hexoè¿›è¡Œé…ç½®\n\n\nä¿®æ”¹åšå®¢ä»“åº“çš„ package.json\n\n\n```json\n{\n  \"scripts\": {\n    \"hexo:build\": \"hexo generate\",\n    \"hexo:clean\": \"hexo clean\",\n    \"deploy\": \"hexo deploy\",\n    \"server\": \"hexo server\",\n    \"hexo\": \"npm run hexo:clean && npm run hexo:build && npm run server\",\n    \"yuque:clean\": \"yuque-hexo clean\",\n    \"yuque:sync\": \"yuque-hexo sync\",\n    \"yuque\": \"npm run yuque:clean && npm run yuque:sync\"\n  },\n  \"yuqueConfig\": {\n    \"postPath\": \"source/_posts\",\n    \"baseUrl\": \"https://www.yuque.com/api/v2\",\n    \"login\": \"è¯­é›€ä¸ªäººè·¯å¾„\",\n    \"repo\": \"çŸ¥è¯†åº“è·¯å¾„\",\n    \"onlyPublished\": true,\n    \"onlyPublic\": true,\n    \"imgCdn\": {\n      \"enabled\": true,\n      \"bucket\": \"COSå­˜å‚¨æ¡¶åç§°\",\n      \"region\": \"COSåœ°åŸŸåç§°\",\n      \"prefixKey\": \"blog-images\"\n    }\n  }\n}\n```\n\n\nimgCdn è¯­é›€å›¾ç‰‡è½¬è…¾è®¯äº‘ COS å›¾åºŠé…ç½®è¯´æ˜ æ³¨æ„ï¼šå¼€å¯åä¼šå°†åŒ¹é…åˆ°çš„æ‰€æœ‰çš„å›¾ç‰‡éƒ½ä¸Šä¼ åˆ° COS\n\n\n| **å‚æ•°å**   | **å«ä¹‰**                | **é»˜è®¤å€¼** |\n| --------- | --------------------- | ------- |\n| enabled   | æ˜¯å¦å¼€å¯                  | false   |\n| bucket    | è…¾è®¯ COS çš„ bucket åç§°    | -       |\n| region    | è…¾è®¯ COS çš„ region(åœ°åŸŸåç§°) | -       |\n| prefixKey | æ–‡ä»¶å‰ç¼€                  | -       |\n\n\n> prefixKey è¯´æ˜ï¼š å¦‚æœéœ€è¦å°†å›¾ç‰‡ä¸Šä¼ åˆ° COS çš„æ ¹ç›®å½•ï¼Œé‚£ä¹ˆ prefixKey ä¸ç”¨é…ç½®ã€‚ å¦‚æœæƒ³ä¸Šä¼ åˆ°æŒ‡å®šç›®å½• blog/image ä¸‹ï¼Œåˆ™éœ€è¦é…ç½® prefixKey ä¸ºâ€œprefixKeyâ€: â€œblog/imageâ€ã€‚ ç›®å½•åå‰åéƒ½ä¸éœ€è¦åŠ æ–œæ \n\n\n**ä¸Šä¼ åˆ° COS å›¾åºŠä¹Ÿæ˜¯éœ€è¦è…¾è®¯äº‘çš„**[**SECRET_ID å’Œ SECRET_KEY**](about:blank#GCUe2)**ä½œä¸ºç¯å¢ƒå˜é‡æ³¨å…¥çš„ï¼Œä½†åœ¨ä¹‹å‰çš„æµç¨‹ä¸­ï¼Œæˆ‘ä»¬å·²ç»åœ¨åšå®¢ä»“åº“çš„ secrets æ³¨å…¥äº†ï¼Œæ‰€ä»¥è¿™é‡Œå°±ä¸éœ€è¦å†é¢å¤–æ³¨å…¥äº†ã€‚** **æ’ä»¶æ›´å¤šè¯¦æƒ…ä»‹ç»è¯·ç§»æ­¥ï¼š**[yuqe-hexo-with-cdn](https://github.com/LetTTGACO/yuque-hexo-with-cdn)\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2022-01-19",
        "type": "Post",
        "slug": "roeayv",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "è¯¥æ–‡æ¡£ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨è¯­é›€äº‘ç«¯å†™ä½œHexo+Github Actions+COSè¿›è¡ŒæŒç»­é›†æˆï¼Œä»¥åŠå¦‚ä½•é…ç½®è…¾è®¯äº‘å‡½æ•°å’Œè¯­é›€webhookï¼Œæœ€åä»‹ç»äº†ä¸€äº›å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆã€‚",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:22:00.000Z",
        "title": "è¯­é›€äº‘ç«¯å†™ä½œHexo+Github Actions+COSæŒç»­é›†æˆ",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "CI/CD",
          "Hexo"
        ],
        "status": "Archived",
        "urlname": "49a7c01d-86a0-4cf9-bb14-7a55a4651215",
        "updated": "2023-08-26 15:22:00"
      },
      "body": "",
      "realName": "è¯­é›€äº‘ç«¯å†™ä½œHexo+Github Actions+COSæŒç»­é›†æˆ",
      "relativePath": "/è¯­é›€äº‘ç«¯å†™ä½œHexo+Github Actions+COSæŒç»­é›†æˆ.md",
      "needUpdate": 1
    },
    {
      "id": "e9a8c0ae-05f5-4bb4-b40b-2df593e8814d",
      "doc_id": "e9a8c0ae-05f5-4bb4-b40b-2df593e8814d",
      "updated": 1693060920000,
      "body_original": "\n# å‰è¨€\n\n\nåœ¨ä¼˜åŒ–å°ç¨‹åºå‘å¸ƒå¹³å°çš„æ—¶å€™ï¼Œå½“æ—¶ç ”ç©¶ä»£ç çš„æ—¶å€™ï¼Œå‘ç°åŒäº‹å†™çš„ä¸€æ®µä»£ç ï¼Œæ˜¯ç”¨æ¥åšå¼‚æ­¥ä»»åŠ¡åˆ‡å‰²çš„ï¼Œå½“æ—¶å¾ˆå¥½å¥‡è¿™ä¸ªä»»åŠ¡åˆ‡å‰²å¯ä»¥è§£å†³ä»€ä¹ˆé—®é¢˜ã€‚\n\n\n# è°ƒç ”\n\n\nç”±äºå¾®ä¿¡é‚£è¾¹çš„é™åˆ¶ï¼Œä¸€æ¬¡æ€§åªèƒ½åŒæ—¶å‘èµ· 6 ä¸ªæ¥å£è¯·æ±‚ï¼Œå¦‚æœå‘èµ·çš„æ›´å¤šå°±ä¼šæŠ¥é”™ã€‚æ‰€ä»¥æ‰æœ‰äº†è¿™ä¸ªä»»åŠ¡åˆ‡å‰²çš„ä»£ç ï¼Œä½†æ˜¯åœ¨æˆ‘å®é™…çš„æµ‹è¯•è¿‡ç¨‹ä¸­å‘ç°ï¼ŒåŒæ—¶å‘èµ·çš„ 6 ä¸ªè¯·æ±‚ï¼Œå…¶å®è¿˜æ˜¯ä¸²è¡Œæ‰§è¡Œçš„ï¼Œä¸Šä¸€ä¸ªç»“æŸä¹‹åæ‰ä¼šè°ƒç”¨ä¸‹ä¸€ä¸ªï¼Œç„¶åæˆ‘å°±å¯¹æ¯”äº†å„ä¸ªæ–¹å¼çš„è°ƒç”¨ç»“æœã€‚\n\n\n# æµ‹è¯•\n\n\n## ä¸€æ¬¡æ€§å‘é€ 100 ä¸ªè¯·æ±‚\n\n\n```javascript\nconst post = () => {\n  return new Promise((resolve, reject) => {\n    fetch('http://localhost:18740/users/1').then((res) => res.json()).then((r) => {\n      console.log(r);\n      resolve(r)\n    })\n  })\n}\n\nfor (let index = 0; index < 100; index++) {\n  post()\n}\n```\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FqXLYewoSqF2lUHzTtHkn4eZqlQL.png)\n\n\n## await ä¸²è¡Œè°ƒç”¨ 100 ä¸ªæ¥å£\n\n\n```javascript\nconst post = () => {\n  return new Promise((resolve, reject) => {\n    fetch('http://localhost:18740/users/1').then((res) => res.json()).then((r) => {\n      console.log(r);\n      resolve(r)\n    })\n  })\n}\n\nfor (let index = 0; index < 100; index++) {\n  await post()\n}\n```\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fm_bNFGmIkCQEzLsQMtBVnydBvV7.png)\n\n\n## åˆ†ç»„è°ƒç”¨ï¼Œç­‰å¾…ä¸Šä¸€ç»„æ¥å£å…¨éƒ¨è¿”å›å†è°ƒç”¨ä¸‹ä¸€ç»„\n\n\n```javascript\nconst flatJobs = (jobs, concurrent_count) => {\n  const concurrentCount = concurrent_count || 6\n  return jobs\n    .reduce((queues, c, i) => {\n      if (i % concurrentCount > 0) {\n        queues[queues.length - 1].push(c)\n        return queues\n      }\n\n      queues.push([c])\n      return queues\n    }, [[]])\n}\n\n\nconst runSerialJobsQueue = async (jobs) => {\n  let p = 0\n  const res = []\n  while (p < jobs.length) {\n    const part_res = await Promise.all(jobs[p].map(fn => fn().catch(() => false)))\n    res.push(...part_res)\n    ++p\n  }\n  return res\n}\n\nconst post = () => {\n  return new Promise((resolve, reject) => {\n    fetch(\"http://localhost:18740/users/1\").then((res) =>res.json()).then(r => resolve(r))\n  })\n}\n\nconst rows = Array(100).fill(0)\n\nconst jobs = rows.map((row) => {\n  return async () => {\n    const res = await post(row)\n    return { res }\n  }\n})\n\nconst j = flatJobs(jobs)\nrunSerialJobsQueue(j)\n```\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fg43nh7sWluHTdS1FccEUWY6ye5d.png)\n\n\n## è¿æ¥ç¨‹æ± è°ƒç”¨ï¼Œåªè¦æœ‰è¿æ¥è°ƒç”¨ç»“æŸé‡Šæ”¾è¿æ¥ï¼Œä¾¿å¼€å§‹æ–°çš„è¿æ¥\n\n\n```javascript\nasync function asyncPool(poolLimit, array, iteratorFn) {\n  // if (shouldAssert) {\n  //   assertType(poolLimit, \"poolLimit\", [\"number\"]);\n  //   assertType(array, \"array\", [\"array\"]);\n  //   assertType(iteratorFn, \"iteratorFn\", [\"function\"]);\n  // }\n  const ret = [];\n  const executing = [];\n  for (const item of array) {\n    const p = Promise.resolve().then(() => iteratorFn(item, array));\n    ret.push(p);\n\n    if (poolLimit <= array.length) {\n      const e = p.then(() => executing.splice(executing.indexOf(e), 1));\n      executing.push(e);\n      if (executing.length >= poolLimit) {\n        await Promise.race(executing);\n      }\n    }\n  }\n  return Promise.all(ret);\n}\n\n\n\nconst post = () => {\n  return new Promise((resolve, reject) => {\n    fetch('http://localhost:18740/users/1').then((res) => res.json()).then((r) => {\n      console.log(r);\n      resolve(r)\n    })\n  })\n}\n\n\nconst results = asyncPool(6, Array(100).fill(0), post);\n```\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FmjVFdQv6FKc8HpFVo4Ciy3bU9h6.png)\n\n\n# æ€è€ƒ\n\n\nå¯ä»¥çœ‹å‡ºï¼Œæ— è®ºæ˜¯å…ˆå¾ªç¯ä¸­ä¸€æ¬¡æ€§è·‘å®Œå¼‚æ­¥è¯·æ±‚ï¼Œè¿˜æ˜¯ await ä¸²è¡Œå»è·‘æ¥å£ï¼Œæˆ–è€…è¯´åˆ†ç»„ç”¨ promise.all å»æ‰§è¡Œï¼Œæˆ–è€…ç”¨çº¿ç¨‹æ± å»æ‰§è¡Œï¼Œ100 ä¸ªæ¥å£çš„ç”¨æ—¶éƒ½å‡ ä¹æ²¡æœ‰å·®åˆ«ã€‚é‚£å°±æœ‰äº†æ–°çš„ç–‘é—®ï¼Œæ—¢ç„¶è¿˜æ˜¯ä¸€ä¸ªä¸ªå¤„ç†çš„ï¼Œä¸ºä»€ä¹ˆè¶…è¿‡ 6 ä¸ªï¼Œå¾®ä¿¡å°±ç»™é™åˆ¶äº†ï¼Œåæ­£ä¹Ÿæ˜¯ä¸€ä¸ªä¸ªå¤„ç†çš„ã€‚\n\n\nç»è¿‡åˆ†æï¼Œå…¶å®è¿™ 100 ä¸ªæ¥å£è™½ç„¶æ˜¯åŒæ—¶å‘èµ·ï¼Œä¹Ÿå°±æ˜¯å¹¶å‘çš„ï¼Œä½†æ˜¯å´ä¸æ˜¯åŒæ—¶æ‰§è¡Œï¼ˆå¹¶è¡Œï¼‰çš„ï¼Œå¾®ä¿¡æ—¢é™åˆ¶äº†å¹¶å‘é‡ï¼Œä¹Ÿé™åˆ¶äº†å¹¶è¡Œé‡ï¼Œæ‰€ä»¥æ‰å¯¼è‡´äº†è¿™æ ·çš„ç»“æœã€‚\n\n\nå½“ç„¶ï¼Œå¾®ä¿¡å»é™åˆ¶å¹¶å‘å’Œå¹¶è¡Œæ˜¯ä¸ºäº†å®‰å…¨è€ƒè™‘çš„ï¼Œä¸€æ¬¡æ€§å‘é€å¤ªå¤šæ¥å£ï¼Œä¼šå¯¼è‡´ç³»ç»Ÿç‚¸äº†ï¼\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2021-08-14",
        "type": "Post",
        "slug": "epmi4g",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T14:42:00.000Z",
        "title": "å…³äºæ¥å£çš„è¯·æ±‚çš„ä¸€äº›æ€è€ƒ",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "å¹¶å‘"
        ],
        "status": "Archived",
        "urlname": "e9a8c0ae-05f5-4bb4-b40b-2df593e8814d",
        "updated": "2023-08-26 14:42:00"
      },
      "body": "",
      "realName": "å…³äºæ¥å£çš„è¯·æ±‚çš„ä¸€äº›æ€è€ƒ",
      "relativePath": "/å…³äºæ¥å£çš„è¯·æ±‚çš„ä¸€äº›æ€è€ƒ.md"
    },
    {
      "id": "9a588e82-f423-4887-a07b-159f06e02b09",
      "doc_id": "9a588e82-f423-4887-a07b-159f06e02b09",
      "updated": 1693060920000,
      "body_original": "\n# å¼•è¨€\n\n\næœ€è¿‘åœ¨è°ƒè¯•å¼€å‘ç¯å¢ƒçš„æ—¶å€™ï¼Œ`node`ç¯å¢ƒå„ç§é—®é¢˜ï¼Œç´¢æ€§å…¨éƒ¨é‡æ–°å®‰è£…ä¸€æ¬¡ï¼Œè¿™é‡Œè®°å½•ä¸‹æ•´ä¸ªå®‰è£…è¿‡ç¨‹ã€‚\n\n\n# å¸è½½\n\n\n## å¸è½½ nvm\n\n\nå½“æˆ‘ä»¬ç›´æ¥åœ¨ç»ˆç«¯è¾“å…¥`nvm`æ—¶ï¼Œæç¤ºå‘Šè¯‰æˆ‘ä»¬ï¼Œå½“å¸è½½`nvm`æ—¶è¿˜éœ€è¦å–ç¯å¢ƒå˜é‡ä¸­å°†ç›¸å…³çš„å˜é‡å…¨éƒ¨åˆ é™¤æ‰è¡Œã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FlfNndBLq_OVgSi11jH36W2r-n-3.png)\n\n1. åˆ é™¤`ï½/.nvm`æ–‡ä»¶å¤¹\n\n```shell\nrm -rf ~/.nvm\n```\n\n1. å¦‚æœæœ‰ä»¥ä¸‹æ–‡ä»¶ï¼Œä¾æ¬¡ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ï¼Œå¹¶åˆ é™¤å…¶ä¸­çš„ nvm ç›¸å…³çš„å˜é‡\n- `~/.profile`\n- `~/.bash_profile`\n- `~/.zshrc`\n- `~/.bashrc`\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FnEHSYHDcKow3IZtIdWH7hrFdVQy.png)\n\n\n## å¸è½½ nodeã€yarnã€npm\n\n\næ£€æŸ¥ä»¥ä¸‹ç›®å½•ï¼Œå°†`node`ã€`yarn`ã€`npm`ç›¸å…³çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹å…¨éƒ¨åˆ é™¤\n\n- `~/`\n- `/usr/local/bin`\n\n# å®‰è£…\n\n\n## å®‰è£… nodeï¼ˆå¯é€‰ï¼‰\n\n\nç”±äºé¡¹ç›®ä¸­ç»å¸¸ä¼šä½¿ç”¨`git hooks`æ¥è§„èŒƒä»£ç ï¼Œè€Œå…¶è„šæœ¬æŒ‡å®šçš„nodeåœ°å€ä¸€èˆ¬æŒ‡å‘çš„æ˜¯`/usr/local/bin/node`ï¼Œå¦‚æœä½ ä½¿ç”¨`nvm`ç®¡ç†`node`ç‰ˆæœ¬çš„è¯ï¼Œnodeåœ°å€ä¸€èˆ¬æ˜¯`/Users/xxx/.nvm/versions/node/v12.22.12/bin/node`ï¼Œæ‰€ä»¥åœ¨è¿è¡Œæ—¶å¯èƒ½ä¼šæŠ¥é”™`node command not found`ã€‚è€Œæˆ‘è‡ªå·±ç”¨çš„æ˜¯`WebStorm`ï¼Œå°±æœ‰è¿™ä¸ªé—®é¢˜ã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FrqJL1Fp9eHIZXC8eNYbEkrnPtZt.png)\n\n\nè§£å†³åŠæ³•æœ‰ä¸¤ç§ï¼š\n\n1. å»ºç«‹è½¯é“¾æ¥ï¼Œå°†`nvm`ä¸­çš„`node`æŒ‡å‘`/usr/local/bin/node`ï¼Œç›¸å½“äºåˆ›å»ºäº†ä¸€ä¸ªå¿«æ·æ–¹å¼ã€‚\n\n```shell\nln -s /Users/fangpengfei/.nvm/versions/node/v12.22.12/bin/node /usr/local/bin/node\n```\n\n\n> ä½†æ˜¯è¿™ç§å»ºç«‹è½¯é“¾æ–¹å¼å¯èƒ½ä¼šæœ‰ä¸ªé—®é¢˜ï¼šç”¨æˆ·å¯¹`/usr/local/bin`æ–‡ä»¶å¤¹çš„è®¿é—®æƒé™ä¸å¤Ÿï¼ˆå³ä½¿ä½¿ç”¨äº†`sudo`ï¼‰ï¼Œè¿™å°±æ˜¯å¦ä¸€ä¸ªé—®é¢˜äº†ï¼Œå¯ä»¥è°·æ­Œä¸€ä¸‹ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚\n\n1. **å…ˆä»å®˜ç½‘å®‰è£…åŒ…å®‰è£…**`node`**ï¼ˆæ¨èï¼‰**\n\nå› ä¸ºå®‰è£…åŒ…ä¼šç›´æ¥å°†`node`å®‰è£…åœ¨`/usr/local/bin/node`ä¸­ï¼Œè¿™æ ·ç³»ç»Ÿä¹Ÿæœ‰äº†ä¸€ä»½`node`ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œæˆ‘è¿˜å»ºè®®å¯ä»¥åœ¨æœªå®‰è£…`nvm`å‰ï¼Œå…ˆå…¨å±€å®‰è£…`yarn`å’Œ`pnpm`ï¼ˆéœ€è¦çš„è¯ï¼‰ï¼Œè¿™æ ·åé¢ä¹Ÿä¸éœ€è¦å°†`nvm`ä¸­çš„`yarn`è½¯é“¾åˆ°`/usr/local/bin/yarn`ä¸Šã€‚\n\n\n## å®‰è£… nvm\n\n\nå½“ç„¶ä½ ä¹Ÿå¯ä»¥ç›´æ¥å®‰è£…`nvm`ï¼Œåˆ©ç”¨`nvm`ç®¡ç†`node`ç‰ˆæœ¬ï¼Œåç»­å¦‚æœå‡ºç°ä¸Šè¿°é—®é¢˜ï¼Œå†ç”¨è½¯é“¾æ–¹å¼è§£å†³å°±è¡Œã€‚ è¿›å…¥`nvm`çš„[github](https://github.com/nvm-sh/nvm#install--update-script=)å®˜ç½‘ï¼Œç”¨`curl`å®‰è£…`nvm`\n\n\n```shell\ncurl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash\n```\n\n\nåˆ©ç”¨`nvm`å®‰è£…`node`ï¼Œè¿™é‡Œæˆ‘ä»å®˜ç½‘å®‰è£…çš„`node`ç‰ˆæœ¬æ˜¯`v16.14.2`ï¼Œæ‰€ä»¥`nvm`æˆ‘å†è£…ä¸€ä¸ª`v12`ç‰ˆæœ¬çš„ï¼Œå¹¶ä¸”è®¾ç½®ä¸º`default`ç‰ˆæœ¬ä»¥åº”å¯¹å¤§éƒ¨åˆ†é¡¹ç›®çš„`node`ç‰ˆæœ¬è¦æ±‚ã€‚\n\n\n```shell\nnvm install 12nvm alias default 12\n```\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FuB-VClzE71G3G6Nr7YA7qRZgY1e.png)\n\n\n# å¤§åŠŸå‘Šæˆï¼\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2022-04-22",
        "type": "Post",
        "slug": "is8lw3",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•åœ¨MacOSä¸Šå¸è½½nvm/nodeå¹¶é‡æ–°å®‰è£…ã€‚åŒ…æ‹¬å¸è½½nvmã€nodeã€yarnã€npmçš„æ­¥éª¤ï¼Œä»¥åŠå®‰è£…nodeå’Œnvmçš„è¿‡ç¨‹ã€‚åŒæ—¶ï¼Œè¿˜æä¾›äº†è§£å†³nodeåœ°å€é—®é¢˜çš„ä¸¤ç§æ–¹æ³•ã€‚",
        "æ›´æ–°æ—¶é—´": "2023-08-26T14:42:00.000Z",
        "title": "MacOSå¼€å‘ç¯å¢ƒæ²»ç†-å¸è½½nvm/nodeå¹¶é‡æ–°å®‰è£…",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Node"
        ],
        "status": "Archived",
        "urlname": "9a588e82-f423-4887-a07b-159f06e02b09",
        "updated": "2023-08-26 14:42:00"
      },
      "body": "",
      "realName": "MacOSå¼€å‘ç¯å¢ƒæ²»ç†-å¸è½½nvm!nodeå¹¶é‡æ–°å®‰è£…",
      "relativePath": "/MacOSå¼€å‘ç¯å¢ƒæ²»ç†-å¸è½½nvm!nodeå¹¶é‡æ–°å®‰è£….md"
    },
    {
      "id": "88e73589-a9b1-4652-b05e-116b288aa5b8",
      "doc_id": "88e73589-a9b1-4652-b05e-116b288aa5b8",
      "updated": 1693060920000,
      "body_original": "\nåœ¨ä½¿ç”¨`springmvc+mybatis`åˆ†é¡µæ’ä»¶`pagehelper`æ—¶ï¼Œåªåœ¨ä¸šåŠ¡å±‚å¼•ç”¨äº† mybatis çš„åˆ†é¡µæ’ä»¶çš„ jar åŒ…è€Œè¡¨ç°å±‚æ¥æ”¶æ—¶æ²¡æœ‰å¼•ç”¨ï¼Œä¼šæŠ¥è¿™æ ·çš„è­¦å‘Šï¼š\n\n\n```java\nè­¦å‘Š: Hessian/Burlap: 'com.github.pagehelper.Page' is an unknown class in WebappClassLoader\ncontext:\ndelegate: false\nrepositories:\n----------> Parent Classloader:\nClassRealm[plugin>org.apache.tomcat.maven:tomcat7-maven-plugin:2.2\njava.lang.ClassNotFoundException: com.github.pagehelper.Page\n```\n\n\nè§£å†³åŠæ³•ï¼š`mybatis`çš„åˆ†é¡µ`pagehelper`æ’ä»¶ä¾èµ–äº`mybatis`çš„ç›¸å…³ jar åŒ…ï¼Œå› æ­¤è§£å†³åŠæ³•æ˜¯åœ¨è¡¨ç°å±‚åŒæ—¶åŠ å…¥åˆ†é¡µ`pagehelper`çš„`jar`åŒ…å’Œ`mybatis`çš„ç›¸å…³ jar åŒ…ï¼Œå¦‚ä¸‹:\n\n\n```xml\n<dependency>\n\t<groupId>org.mybatis</groupId>\n\t<artifactId>mybatis</artifactId>\n</dependency>\n<dependency>\n\t<groupId>org.mybatis</groupId>\n\t<artifactId>mybatis-spring</artifactId>\n</dependency>\n<dependency>\n\t<groupId>com.github.miemiedev</groupId>\n\t<artifactId>mybatis-paginator</artifactId>\n</dependency>\n<dependency>\n\t<groupId>com.github.pagehelper</groupId>\n\t<artifactId>pagehelper</artifactId>\n</dependency>\n```\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2019-02-08",
        "type": "Post",
        "slug": "ywdq07",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T14:42:00.000Z",
        "title": "Mybatisåˆ†é¡µæ’ä»¶è­¦å‘Šè§£å†³åŠæ³•",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Java"
        ],
        "status": "Archived",
        "urlname": "88e73589-a9b1-4652-b05e-116b288aa5b8",
        "updated": "2023-08-26 14:42:00"
      },
      "body": "",
      "realName": "Mybatisåˆ†é¡µæ’ä»¶è­¦å‘Šè§£å†³åŠæ³•",
      "relativePath": "/Mybatisåˆ†é¡µæ’ä»¶è­¦å‘Šè§£å†³åŠæ³•.md"
    },
    {
      "id": "4df7c95e-9f18-437e-a4fa-34f2dfd07c74",
      "doc_id": "4df7c95e-9f18-437e-a4fa-34f2dfd07c74",
      "updated": 1693060920000,
      "body_original": "\n# Access-Control-Allow-Origin ç›¸å…³\n\n\n## é—®é¢˜å‡ºç°\n\n\nNo â€˜Access-Control-Allow-Originâ€™ header is present on the requested resourceï¼Œä½†æ˜¯ status 200 OK\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fipa7Fg68MI7orwWfEZmwY-oNzX4.png)\n\n\n```text\nAccess to XMLHttpRequest at 'http://xxx/get' from origin 'http://ccc' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.\n```\n\n\nè¿™ç§ç°è±¡æ˜¯æœåŠ¡å™¨ç«¯åå°å…è®¸ OPTIONS è¯·æ±‚,å¹¶ä¸”æ¥å£ä¹Ÿå…è®¸ OPTIONS è¯·æ±‚,ä½†æ˜¯å¤´éƒ¨åŒ¹é…æ—¶å‡ºç°ä¸åŒ¹é…ç°è±¡. æ¯”å¦‚ origin å¤´éƒ¨æ£€æŸ¥ä¸åŒ¹é…,æ¯”å¦‚å°‘äº†ä¸€äº›å¤´éƒ¨çš„æ”¯æŒ(å¦‚å¸¸è§çš„ X-Requested-With å¤´éƒ¨),ç„¶åæœåŠ¡ç«¯å°±ä¼šå°† response è¿”å›ç»™å‰ç«¯,å‰ç«¯æ£€æµ‹åˆ°è¿™ä¸ªåå°±è§¦å‘ XHR.onerror,å¯¼è‡´å‰ç«¯æ§åˆ¶å°æŠ¥é”™.\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FkHkJ6Q9H_zop1YV_KAhWivdtRhD.png)\n\n\n## è§£å†³åŠæ³•\n\n\nå¢åŠ è·¨åŸŸä¸­é—´ä»¶ï¼š\n\n\n```javascript\nimport { Context } from \"koa\";\n\n/**\n * è·¨åŸŸç™½åå•\n */\nenum WhiteList {\n  DEV = 'http://dev-xxx.com:6666',\n  TEST_HTTP = 'http://test.com',\n  TEST_HTTPS = 'https://test.com',\n  PROD_HTTP = 'http://prod.com',\n  PROD_HTTPS = 'https://prod.com',\n}\n\n/**\n * è·¨åŸŸä¸­é—´ä»¶\n * @param ctx ä¸Šä¸‹æ–‡æ‹¿åˆ°Originæ¥åˆ¤æ–­æ˜¯å¦æ˜¯è·¨åŸŸè¯·æ±‚\n * @param next å¦‚æœæ˜¯è·¨åŸŸå°±è®¾ç½®å…è®¸çš„æºå’ŒHeaders,å†æ”¾è¡Œ\n */\nexport async function CORSMiddleware(ctx: Context, next: (err?: any) => Promise<any>): Promise<any> {\n  // è·å– Origin è¯·æ±‚å¤´ï¼Œåªæœ‰éç®€å•è¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨æ‰ä¼šå¸¦ä¸ŠOriginå­—æ®µæ¥æ ‡è¯†\n  const requestOrigin = ctx.get('Origin');\n\n  // ä¸ç®¡æœ‰æ²¡æœ‰è·¨åŸŸéƒ½è¦è®¾ç½® Vary: Origin\n  ctx.set('Vary', 'Origin')\n\n  const whiteList = Object.values(WhiteList) as string[]\n\n  // 1.å¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œè¯´æ˜æ²¡æœ‰è·¨åŸŸï¼Œè·³è¿‡\n  // 2.æˆ–è€… ä¸åœ¨åŸŸåç™½åå•ä¸­è¿™ç›´æ¥è·³è¿‡\n  if (!requestOrigin || !whiteList.includes(requestOrigin)) {\n    return await next();\n  }\n  // è®¾ç½®å“åº”å¤´\n  ctx.set('Access-Control-Allow-Origin', requestOrigin)\n  // è·¨åŸŸè§£å†³\n  ctx.set('Access-Control-Allow-Headers', 'Content-Type, Authorization, X-Requested-With');\n  ctx.set('Access-Control-Allow-Methods', 'PUT, POST, GET, DELETE, OPTIONS');\n  // è¯¥å­—æ®µå¯é€‰ï¼Œç”¨æ¥æŒ‡å®šæœ¬æ¬¡é¢„æ£€è¯·æ±‚çš„æœ‰æ•ˆæœŸï¼Œå•ä½ä¸ºç§’ã€‚\n  // å½“è¯·æ±‚æ–¹æ³•æ˜¯PUTæˆ–DELETEç­‰ç‰¹æ®Šæ–¹æ³•æˆ–è€…Content-Typeå­—æ®µçš„ç±»å‹æ˜¯application/jsonæ—¶ï¼ŒæœåŠ¡å™¨ä¼šæå‰å‘é€ä¸€æ¬¡è¯·æ±‚è¿›è¡ŒéªŒè¯\n  // ä¸‹é¢çš„çš„è®¾ç½®åªæœ¬æ¬¡éªŒè¯çš„æœ‰æ•ˆæ—¶é—´ï¼Œå³åœ¨è¯¥æ—¶é—´æ®µå†…æœåŠ¡ç«¯å¯ä»¥ä¸ç”¨è¿›è¡ŒéªŒè¯\n  ctx.set(\"Access-Control-Max-Age\", '86400');\n  return await next();\n}\n```\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2021-09-03",
        "type": "Post",
        "slug": "fgligg",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T14:42:00.000Z",
        "title": "è·¨åŸŸåœºæ™¯æ±‡æ€»",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Bugs"
        ],
        "status": "Archived",
        "urlname": "4df7c95e-9f18-437e-a4fa-34f2dfd07c74",
        "updated": "2023-08-26 14:42:00"
      },
      "body": "",
      "realName": "è·¨åŸŸåœºæ™¯æ±‡æ€»",
      "relativePath": "/è·¨åŸŸåœºæ™¯æ±‡æ€».md"
    },
    {
      "id": "ed1e7737-88f0-4197-8f29-47ceb92792f0",
      "doc_id": "ed1e7737-88f0-4197-8f29-47ceb92792f0",
      "updated": 1693060920000,
      "body_original": "\n# å¼•è¨€\n\n\nå¹´æœ«äº†ï¼Œè¶ç€é¡¹ç›®æ’æœŸç›¸å¯¹ç©ºé—²ï¼ŒæŠ½ç©ºé˜…è¯»[å´æµ©éºŸ](https://github.com/gwuhaolin)è€å¸ˆçš„[ã€Šæ·±å…¥æµ…å‡º Webpackã€‹](https://webpack.wuhaolin.cn/)è¿™æœ¬ä¹¦ï¼Œå‡†å¤‡æä¸€æ webpack ä¸­çš„ç‚¹ç‚¹æ»´æ»´ï¼Œå‡ºä¸€ä¸ª webpack ä¼˜åŒ–ä¸“é¢˜ã€‚åˆšå¥½æœ€è¿‘åœ¨æƒ³ç€åšä¸€ä¸ªé€‚åˆå›¢é˜Ÿå†…éƒ¨çš„å‰ç«¯ä¸­åå°è„šæ‰‹æ¶ï¼Œæ¥å­¦ä¹ å­¦ä¹ å˜¿å˜¿ã€‚\n\n\n# é…ç½®\n\n\n## åœ¨ webpack4.0 ä¸­ä½¿ç”¨ hard-source-webpack-plugin\n\n\n```shell\nnpm install hard-source-webpack-plugin -D\n```\n\n\n```javascript\n// webpack.config.js\nconst HardSourceWebpackPlugin = require('hard-source-webpack-plugin');\n\nmodule.exports = {\n  entry: // ...\n  output: // ...\n  plugins: [\n    new HardSourceWebpackPlugin()\n  ]\n}\n```\n\n\nå…·ä½“é…ç½®å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£[hard-source-webpack-plugin](https://github.com/mzgoddard/hard-source-webpack-plugin)\n\n\n## åœ¨ webpack5.0 ä¸­ä½¿ç”¨ cache é€‰é¡¹\n\n\nåœ¨ webpack5.0 ä¸­ï¼Œæ­¤æ’ä»¶çš„å®ç°å·²å†…ç½®åˆ° cache é€‰é¡¹ä¸­ï¼Œæ‰€ä»¥ä¸èƒ½åœ¨ 5.0 ç‰ˆæœ¬ä¸­ä½¿ç”¨ï¼Œä¼šæŠ¥é”™ï¼ï¼\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FoiMFr2CMDshCw_MGF4WeqIKUYQA.png)\n\n\nå› ä¸ºåœ¨ webpack5.0ï¼Œè¿™ä¸ªä¾èµ–è¢«åˆ é™¤äº†ï¼\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FmDnTPy5j_FwsIp5D0jp-34_JaJm.png)\n\n\næˆ‘åœ¨[issue](https://github.com/mzgoddard/hard-source-webpack-plugin/issues/514)ä¸­æ‰¾åˆ°äº†å¯ä»¥ä½¿ç”¨ cache é€‰é¡¹æ¥é…ç½®ã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FpZWmwu0ixR5JgawCmB6DeAn_3f-.png)\n\n\nä½¿ç”¨è¯´æ˜ï¼š\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FvUqfwsno_MaITg4zneUPJyBrysU.png)\n\n\nå…·ä½“é…ç½®æ–‡æ¡£è¯·å‚è€ƒ[webpack5.0#cache](https://webpack.js.org/configuration/other-options/#cache)\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2021-02-06",
        "type": "Post",
        "slug": "kolyq9",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "æœ¬æ–‡ä»‹ç»äº†åœ¨Webpackä¸­ä½¿ç”¨å¤šè¿›ç¨‹/å¤šå®ä¾‹è§£æèµ„æºçš„æ–¹æ³•ï¼Œä»¥åŠä¼˜åŒ–Webpackæ€§èƒ½çš„ä¸¤ç§æ–¹æ³•ï¼šåœ¨Webpack4ä¸­ä½¿ç”¨hard-source-webpack-pluginæ’ä»¶ï¼Œåœ¨Webpack5ä¸­ä½¿ç”¨cacheé€‰é¡¹ã€‚æœ¬æ–‡è¿˜æåˆ°äº†ä½¿ç”¨hard-source-webpack-pluginæ’ä»¶çš„æ³¨æ„äº‹é¡¹ã€‚",
        "æ›´æ–°æ—¶é—´": "2023-08-26T14:42:00.000Z",
        "title": "Webpacké…ç½®-å¤šè¿›ç¨‹/å¤šå®ä¾‹è§£æèµ„æº",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Webpack"
        ],
        "status": "Archived",
        "urlname": "ed1e7737-88f0-4197-8f29-47ceb92792f0",
        "updated": "2023-08-26 14:42:00"
      },
      "body": "",
      "realName": "Webpacké…ç½®-å¤šè¿›ç¨‹!å¤šå®ä¾‹è§£æèµ„æº",
      "relativePath": "/Webpacké…ç½®-å¤šè¿›ç¨‹!å¤šå®ä¾‹è§£æèµ„æº.md"
    },
    {
      "id": "d2a19be4-4efc-428a-9ebb-0a85e340290d",
      "doc_id": "d2a19be4-4efc-428a-9ebb-0a85e340290d",
      "updated": 1697647620000,
      "body_original": "\n## å‰è¨€\n\n\nå…ˆä»‹ç»ã€Šæˆ‘çš„ç¬”è®°ç®¡ç†æ³•ã€‹çš„å¯è’™è€å¸ˆâ€”â€”[Flomo 101](https://help.flomoapp.com/community/tips/idea.html)ï¼Œæ­£å› ä¸ºçœ‹äº†è¿™ä¸ªæ ç›®ï¼Œæ‰è®©æˆ‘æ€»ç»“å‡ºå±äºè‡ªå·±çš„å·¥ä½œæµç¨‹ï¼Œæˆ–è€…è¯´ç¬”è®°ç®¡ç†æ³•ã€‚ä¸“æ ä¸­æ¨èçš„[ã€Šå¡ç‰‡ç¬”è®°å†™ä½œæ³•ï¼šå¦‚ä½•å®ç°ä»é˜…è¯»åˆ°å†™ä½œ ã€‹](https://weread.qq.com/web/bookDetail/3d8326d072552e803d87c41)è¿™æœ¬ä¹¦ä¹Ÿè®©æˆ‘å—ç›ŠåŒªæµ…ï¼Œæˆ‘çš„å¡ç‰‡ç¬”è®°å°±æ˜¯ä»è¿™æœ¬ä¹¦å¼€å§‹çš„ã€‚\n\n\n## ã€Šå¡ç‰‡ç¬”è®°å†™ä½œæ³•ï¼šå¦‚ä½•å®ç°ä»é˜…è¯»åˆ°å†™ä½œ ã€‹\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/1874-blog-images//9fe8c2c66843f9d9a828b9b2cbae240a.png)\n\n\n> **ã€Œæˆ‘çš„ç ”ç©¶è¯¾é¢˜æ˜¯ç¤¾ä¼šç†è®ºï¼ŒæŒç»­æ—¶é—´æ˜¯30å¹´ï¼Œæˆæœ¬ä¸ºé›¶ã€â€”â€”å°¼å…‹æ‹‰æ–¯Â·å¢æ›¼**\n\n\nä½ æ˜¯å¦ä¼šäº§ç”Ÿç–‘é—®ï¼š\n\n- 30å¹´çš„ç ”ç©¶ï¼Œä¸ºä»€ä¹ˆæˆæœ¬ä¼šæ˜¯é›¶å‘¢ï¼Ÿ\n- ä»–æ˜¯æ€ä¹ˆåšåˆ°çš„ï¼Ÿ\n\n## ç»§ç»­å¸¦ç€ç–‘é—®\n\n- ä½ æ˜¯å¦æ—¶å¸¸æœ‰ä¸€äº›çªç„¶è¹¦å‡ºçš„æƒ³æ³•ï¼Œç„¶è€Œå› ä¸ºæ²¡æœ‰åŠæ—¶è®°å½•ä¸‹æ¥å°±å†ä¹Ÿæ²¡æƒ³èµ·æ¥è¿‡ï¼Œæˆ–è€…ç”¨åˆ°çš„æ—¶å€™å´è®°ä¸èµ·è¯¦ç»†çš„å†…å®¹\n- ä½ æ˜¯å¦åœ¨ Github ç‚¹äº† Star å´å†ä¹Ÿæ²¡æœ‰å»ç ”ç©¶è¿‡ï¼Œæ”¶è— = æˆ‘çœ‹è¿‡äº†\n- ä»0å†™æ–‡æ¡£æ—¶çš„è‰°éš¾ï¼Œè‹¦äºæ‰¾ä¸åˆ°èµ„æ–™å’Œè®ºç‚¹\n- æƒ³æ­å»ºä¸€ä¸ªåšå®¢ç½‘ç«™å´ä¸çŸ¥é“å†™ä»€ä¹ˆï¼Œå¥½ä¸å®¹æ˜“æ­å»ºçš„åšå®¢å´å¤§éƒ¨ä»½æ—¶é—´èŠ±åœ¨è£…ä¿®ä¸Š\n- ä½ æ˜¯å¦ä¹°äº† Kindle å´æ‹¿æ¥å½“æ³¡é¢æ¡¶\n\nä»¥ä¸Šé—®é¢˜æœ‰3ä¸ªå…³é”®èŠ‚ç‚¹ï¼šè®°å½•ã€å›é¡¾ã€åˆ†äº«ã€‚è¯»å®Œã€Šå¡ç‰‡ç¬”è®°å†™ä½œæ³•ã€‹ï¼Œè¿™äº›é—®é¢˜å°†å…¨éƒ¨è¿åˆƒè€Œè§£ã€‚\n\n\n## **ä»€ä¹ˆæ˜¯å¡ç‰‡ç¬”è®°æ³•**\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/1874-blog-images//ab76b81eb1e93109d2bf1772cf219a39.png)\n\n\nä»æœ¬è´¨ä¸Šè®²ï¼Œå¡ç‰‡ç¬”è®°æ³•ä¸æ˜¯ä¸€ç§**ã€ŒæŠ€å·§ã€**ï¼Œè€Œæ˜¯ä¸€ä¸ª**ã€Œæµç¨‹ã€**ï¼Œä¸€ç§å­˜å‚¨å’Œç»„ç»‡çŸ¥è¯†ã€æ‰©å±•è®°å¿†ã€ç”Ÿæˆæ–°è¿æ¥å’Œæƒ³æ³•çš„æ–¹æ³•ã€‚\n\n\nç®€å•æ¥è¯´å°±æ˜¯ï¼ŒæŠŠä½ æ„Ÿå…´è¶£æˆ–è€…è§‰å¾—è‡ªå·±æœªæ¥ä¼šç”¨åˆ°çš„çŸ¥è¯†æ”¶é›†èµ·æ¥ï¼Œç„¶åç”¨ä¸€ç§æ ‡å‡†åŒ–çš„æ–¹æ³•å¤„ç†è¿™äº›ç¬”è®°ï¼Œç¡®ä¿é¢—ç²’åº¦å’Œæ ‡å‡†ç»Ÿä¸€ï¼Œæœ€åå»ºç«‹ç¬”è®°ä¹‹é—´çš„è”ç³»ï¼Œä¾›æ—¥åæœ‰éœ€è¦çš„æ—¶å€™æ£€ç´¢ä½¿ç”¨ã€‚\n\n\nå¡ç‰‡ç¬”è®°æ³•å……å½“ç€**ç¬¬äºŒå¤§è„‘**çš„è§’è‰²ã€‚\n\n\n## ä¸ºä»€ä¹ˆè¦è®°å½•å¡ç‰‡\n\n\n> è¯•æƒ³ä¸€ä¸‹å¦‚æœä½ çš„æ–‡ç« å¹¶ä¸æ˜¯ä»ä¸€å¼ ç™½çº¸å¼€å§‹å†™èµ·ï¼Œè€Œæ˜¯å·²ç»æœ‰äººæŠŠä½ å‡†å¤‡äº†åˆç¨¿ï¼ŒåŒ…æ‹¬æ‰€æœ‰çš„å‚è€ƒèµ„æ–™ã€å¼•æ–‡å’Œä¸€äº›éå¸¸é«˜æ˜çš„æƒ³æ³•ã€‚å”¯ä¸€è¦åšçš„å°±æ˜¯ä¿®æ”¹è¿™ä¸ªåˆç¨¿ï¼Œç„¶åæŠŠåˆ†äº«å‡ºå»ã€‚ä½ å¯èƒ½è¦æ‰¾å‡ºé”™åˆ«å­—ã€ä¿®æ”¹æŸäº›å¥å­çš„æªè¾ï¼Œåˆ é™¤å¤šä½™çš„å¥å­ï¼Œä¹Ÿè®¸è¿˜è¦å¢åŠ å‡ æ®µè¯æ¥è¡¥è®ºè¯æ¼æ´ã€‚ä¸è¿‡è¿™ä¸ªæ—¶å€™å…¶å®ä»»åŠ¡å·²ç»ç›¸å½“æ˜ç¡®äº†ï¼Œæ²¡æœ‰ä»€ä¹ˆæ˜¯åœ¨å‡ å¤©å†…å®Œæˆä¸äº†çš„ï¼Œå½“ç„¶ä¹Ÿæ²¡æœ‰è¯´å¾ˆä¹ˆæ˜¯éš¾ä»¥æ¿€åŠ±è‡ªå·±å»åšçš„ã€‚å½“ç»ˆç‚¹å°±åœ¨çœ¼å‰çš„æ—¶å€™ï¼Œæ¯ä¸ªäººéƒ½æœ‰åŠ¨åŠ›ã€‚æ˜¾ç„¶ä»åˆç¨¿åˆ°æˆç¨¿è¿™ä¸€æ­¥æ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚â€”â€”ã€Šå¡ç‰‡ç¬”è®°å†™ä½œæ³•ã€‹\n\n\nè®°å½•å¡ç‰‡ï¼Œå°±æ˜¯æ„å»ºè‡ªå·±çš„çŸ¥è¯†ç½‘ç»œçš„ç¬¬ä¸€æ­¥ï¼Œè®°å½•çš„åŒæ—¶ä¹Ÿä»£è¡¨ç€æ€è€ƒï¼Œè€Œæ€è€ƒæ˜¯ä¼šæœ‰è¿é”ååº”çš„ã€‚é€šè¿‡å’Œå·²æœ‰ç¬”è®°çš„å…³è”ï¼Œè¯ç”Ÿæ–°çš„æƒ³æ³•ï¼Œç»§ç»­è®°ä¸‹æ¥ã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/1874-blog-images//1c55d1d7204a05a946080d6531794fe2.png)\n\n\nåœ¨æŸç§ç¨‹åº¦æ¥è¯´ï¼ŒçŸ¥è¯†ç½‘ç»œçš„æ„å»ºå’Œã€Œèººå¹³è¯´ã€ä¸å†²çªï¼Œç”šè‡³æˆ‘è§‰å¾—çŸ¥è¯†ç½‘ç»œçš„æ„å»ºåœ¨ä¸€å®šç¨‹åº¦ä¸Šå°±æ˜¯ä¸ºäº†ã€Œèººå¹³ã€ã€‚\n\n\nä¸ªäººè®¤ä¸ºèººå¹³æ›´å¤šçš„æ˜¯å¯¹å¾…å·¥ä½œå¯¹å¾…ç”Ÿæ´»çš„æ€åº¦ï¼Œäº«å—ç”Ÿæ´»ï¼Œä¸»æ‰“çš„å°±æ˜¯ä¸€ä¸ªè½»æ¾ï¼Œè¿™æ˜¯èººå¹³çš„æ ¸å¿ƒé€»è¾‘ã€‚\n\n\nä½†æ— è®ºä½ èººå¹³ä¸å¦ï¼Œç”Ÿæ´»ä¸­ã€å·¥ä½œä¸­é‡åˆ°çš„é—®é¢˜å’ŒæŠ‰æ‹©æ˜¯ä¸ä¼šæ¶ˆå¤±çš„ã€‚æ¯å½“åšæŠ‰æ‹©çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šæ›´å€¾å‘äºè‡ªæˆ‘è®¤ä¸ºçš„æ€§ä»·æ¯”é«˜çš„é€‰æ‹©ï¼Œèƒ½è®©æˆ‘ä»¬ç”¨æ›´å°‘çš„æ—¶é—´ã€ç²¾åŠ›ã€é‡‘é’±å»é¢å¯¹è¿™ä¸ªé—®é¢˜ã€‚\n\n\n**è€ŒçŸ¥è¯†ç½‘ç»œçš„æ„å»ºå°±æ˜¯ä¸ºäº†æ¶ˆé™¤ä¸ç¡®å®šæ€§ï¼Œä¸ºäº†æ›´å¥½çš„å†³ç­–ï¼Œåœ¨è¿™ä¸€ç‚¹ä¸Šå’Œèººå¹³ä¸è°‹è€Œåˆ**\n\n\n## **å›é¡¾çš„é‡è¦æ€§**\n\n\nç›¸æ¯”ä¹‹ä¸‹ï¼Œä¼ ç»Ÿçš„ç¬”è®°ç³»ç»Ÿæ˜¯ä¸ºäº†æ‰¾åˆ°ä½ æ„å›¾æœç´¢çš„ä¸œè¥¿ï¼Œè®©ä½ çš„å¤§è„‘ç–²äºå›å¿†ï¼Œè€Œå¢æ›¼å¡ç‰‡ç›’ç¬”è®°ç³»ç»Ÿåˆ™æ˜¯ä¸ºäº†ç»™ä½ å‘ˆç°ä½ å·²ç»å¿˜è®°çš„æƒ³æ³•ï¼Œè®©ä½ çš„å¤§è„‘ä¸“æ³¨äºæ€è€ƒã€‚\n\n\nå…¸å‹çš„æ—¥å¸¸å·¥ä½œåŒ…æ‹¬ä»¥ä¸‹å…¨éƒ¨æˆ–éƒ¨åˆ†ç¯èŠ‚ï¼Œæ¯”å¦‚é˜…è¯»å¹¶è®°ç¬”è®°ï¼›å¯¹å¡ç‰‡ç›’ä¸­çš„ç¬”è®°å»ºç«‹å…³è”ï¼Œè¿™ä¸ªè¿‡ç¨‹åˆä¼šæ¿€å‘ä½ æ–°çš„æƒ³æ³•ï¼›è®°ä¸‹è¿™äº›æƒ³æ³•ï¼Œå¹¶å°†å®ƒä»¬æ·»åŠ åˆ°è®¨è®ºä¸­ï¼›å†™åˆ°çº¸ä¸Šæ—¶ï¼Œä½ åˆå‘ç°è®ºç‚¹ä¸­æœ‰ä¸€ä¸ªæ¼æ´ï¼Œäºæ˜¯åˆ°å¡ç‰‡ç¬”è®°ç³»ç»Ÿä¸­å»æŸ¥æ‰¾ç¼ºå¤±çš„é“¾æ¥ã€‚\n\n\næƒ³æ³•å°±æ˜¯åœ¨è¿™æ ·å›é¡¾çš„è¿‡ç¨‹ä¸­ä¸æ–­äº§ç”Ÿå’Œä¿®æ­£ã€‚\n\n\n## **åˆ†äº«ä½ çš„æ´è§**\n\n\n> è´¹æ›¼å­¦ä¹ æ³•ï¼šå°±æ˜¯å­¦ä»»ä½•ä¸œè¥¿ï¼Œå¦‚æœä½ èƒ½ç”¨ç®€å•çš„è¯ï¼Œç”¨è‡ªå·±çš„è¯ï¼Œä¸å¸¦è¡Œè¯æœ¯è¯­ï¼Œè¯´ç»™å…«åå²çš„è€å¤ªå¤ªå¬ï¼Œè¯´ç»™å…«å²çš„å°å­©å¬ã€‚å½“è¿™äº›äººéƒ½å¬æ‡‚äº†ï¼Œä½ å°±æŠŠè¿™ä¸ªæ¦‚å¿µææ˜ç™½äº†ã€‚\n\n\næˆ‘ä»¬å¹³æ—¶å†™åšå®¢å†™åˆ†äº«ä¹Ÿæ˜¯åŒæ ·çš„é“ç†ï¼Œå½“æˆ‘å°†å­¦ä¹ æˆæœåˆ†äº«å‡ºå»çš„æ—¶å€™ï¼Œæˆ‘ä¼šä¸æ–­çš„ç»™è‡ªå·±æŒ‘åˆºï¼Œå¯»æ‰¾æ¼æ´å¹¶è¡¥ä¸Šï¼Œç›¸å½“äºåŠ æ·±å’Œå›é¡¾ä½ ä¹‹å‰è®°ä¸‹æ¥çš„çŸ¥è¯†ç‚¹ã€‚\n\n\nåˆ†äº«æ˜¯ä¸ºäº†è®©ä½ æ›´äº†è§£çŸ¥è¯†ï¼Œè€Œä¸æ˜¯è£…é€¼ï¼Œç¤¾åŒºçš„åé¦ˆæ˜¯ä¸ºäº†è®©ä½ å¾—åˆ°æŒç»­ä¸æ–­çš„æ­£åé¦ˆï¼ŒæŒä¹…åŒ–è¿™ä¸ªè¿‡ç¨‹ã€‚\n\n\nå†™åšå®¢ã€å‚ä¸å¼€æºç¤¾åŒºé¡¹ç›®ç­‰éƒ½æ˜¯éå¸¸å¥½çš„æ­£åé¦ˆå’ŒæŠ€æœ¯è¿›æ­¥ã€‚\n\n\nåˆ†äº«ä¹Ÿæ˜¯ä¸ºäº†æŸä¸ªé¢†åŸŸçš„ç²¾è¿›ã€‚\n\n\n**çŸ¥è¯†æ˜¯ç”¨äºç”Ÿäº§çš„ï¼Œä¿¡æ¯æœ¬è´¨ä¸Šæ˜¯ä¸ºäº†æ¶ˆé™¤ä¸ç¡®å®šæ€§ï¼Œè€ŒçŸ¥è¯†æ˜¯ä¸ºäº†æ›´å¥½çš„å†³ç­–ï¼Œä¸ºäº†å¡‘é€ æ›´å¥½çš„è‡ªå·±ã€‚**\n\n\n## **Flomo**\n\n\nè€ŒFlomoå°±æ˜¯ä»å¢æ›¼çš„å¡ç‰‡ç¬”è®°ç®¡ç†æ³•å­•è‚²å‡ºæ¥çš„ç¬¦åˆç°ä»£å®è·µçš„ç¬”è®°è½¯ä»¶ã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/1874-blog-images//42c3fa272abb47aaffa7a3856c535dec.png)\n\n\nflomo 101çš„ç†å¿µè®©æˆ‘éå¸¸æ„Ÿæ…¨ã€‚\n\n\nâ€œæˆ‘æ•™ä½ å¦‚ä½•é˜…è¯»ï¼Œå¦‚ä½•æ€è€ƒï¼Œå¦‚ä½•è®°ç¬”è®°ï¼Œå½“ç„¶æˆ‘ä¹Ÿå–è½¯ä»¶ã€‚è™½ç„¶æˆ‘æ„è¯†åˆ°ä½ å­¦ä¼šäº†ä¹‹åï¼Œå¾ˆæœ‰å¯èƒ½é€‰æ‹©æ¯”æˆ‘æ›´ä¼˜ç§€æ›´å¼ºå¤§çš„ç¬”è®°è½¯ä»¶ã€‚ä½†å…¶å®è¿™å·²ç»è¾¾åˆ°æˆ‘å¸ƒé“çš„ç›®çš„äº†ã€‚â€\n\n\næˆ‘ç”šè‡³è§‰å¾—ï¼Œæ‰€æœ‰å·¥å…·ç±»çš„äº§å“éƒ½åº”è¯¥æœ‰101ä¸“æ ï¼Œæ—¢ç„¶åšäº†è¿™ä¸ªäº§å“è‚¯å®šæ˜¯è§‰å¾—å¤§å®¶å¯èƒ½éœ€è¦å®ƒï¼Œå¹¶ä¸”ä¸ºå…¶æŠ•å…¥ç²¾åŠ›ã€‚é‚£ä¹ˆå°±åº”è¯¥èŠ±æ—¶é—´æ•™å¤§å®¶ä¸ºä»€ä¹ˆéœ€è¦è¿™æ¬¾è½¯ä»¶ã€‚æˆ‘è§‰å¾—è¿™æ‰æ˜¯äº§å“åˆ›å§‹äººåº”è¯¥è¦åšçš„ã€‚\n\n\nFlomoç¬”è®°è½¯ä»¶ä¹Ÿåœ¨æˆ‘çš„ç¬”è®°ç®¡ç†æ³•ä¸­å……å½“äº†éå¸¸é‡è¦çš„è§’è‰²ã€‚\n\n\n## **æˆ‘çš„ç¬”è®°ç®¡ç†æ³•**\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/1874-blog-images//9ff3a66c45552304754e6076f252fbb8.png)\n\n\næˆ‘çš„ç¬”è®°ç®¡ç†æ³•é‡Œé¢æ¶‰åŠå‡ ä¸ªä¿¡æ¯è¾“å…¥å’Œè¾“å‡ºæ—¶çš„é‡è¦çš„åœºæ™¯å’Œéœ€æ±‚ï¼š\n\n- çªç„¶è¹¦å‡ºçš„æƒ³æ³•ã€è®¡åˆ’ï¼Œæˆ‘æƒ³éšä¾¿æ‰¾ä¸ªåœ°æ–¹å†™ä¸‹æ¥\n- åœ¨ä¸“æ³¨çš„ç¯å¢ƒä¸­é˜…è¯»å¸æ”¶åˆ°çš„æ€è€ƒï¼Œæˆ‘å¯ä»¥å¾ˆå…¨é¢çš„è®°ä¸‹æ¥ï¼Œä¹Ÿå¯èƒ½å…ˆä¸´æ—¶è®°ä¸‹æ¥ï¼Œä¸“æ³¨é˜…è¯»\n- åœ¨å˜ˆæ‚/é›¶ç¢çš„ç¯å¢ƒä¸­å¸æ”¶åˆ°çš„æ€è€ƒï¼Œæˆ‘æƒ³å…ˆéšä¾¿æ‰¾ä¸ªåœ°æ–¹å†™ä¸‹æ¥ï¼Œå¹¶ä¸”é˜…è¯»çš„æ–‡ç« ã€è§†é¢‘å¯ä»¥å…ˆä¿å­˜ä¸‹æ¥ç­‰åˆ°åœ¨ä¸“æ³¨çš„ç¯å¢ƒä¸­ä»”ç»†é˜…è¯»\n\nåœ¨å®è·µè¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°ã€çªç„¶è¹¦å‡ºçš„æƒ³æ³•ã€‘æ¬¡æ•°éå¸¸çš„å¤šï¼Œç”šè‡³åœ¨ä¸“æ³¨é˜…è¯»æ—¶çœ‹åˆ°æŸæ®µè¯æ‰€äº§ç”Ÿçš„è¯»ä¹¦ç¬”è®°å…¶å®ä¹Ÿæ˜¯ä¸€äº›è‡ªå·±çš„é›¶ç¢æ€è€ƒï¼Œåªä¸è¿‡æœ‰æ—¶å€™æ„Ÿæ‚Ÿæ¯”è¾ƒæ·±åˆ»ï¼Œæœ‰æ—¶å€™åªæ˜¯ä¸€ç‚¹ç‚¹æ€è€ƒã€‚\n\n\næ€»ç»“ä¸‹æ¥ï¼ŒFlomoè¿™æ¬¾è½¯ä»¶å……å½“äº†æˆ‘éå¸¸é‡è¦çš„ä½œç”¨ï¼Œå®ƒå…·å¤‡çš„å¿«æ·è®°å½•ã€æ ‡ç­¾åˆ†ç±»ã€åŒå‘é“¾æ¥ï¼Œåœ¨æˆ‘çš„ç¬”è®°ç®¡ç†æµç¨‹ä¸­å±äºæ‰€æœ‰**çµæ„Ÿçš„æ±‡é›†åœ°ã€‚**\n\n- åœ¨å˜ˆæ‚/é›¶ç¢ç¯å¢ƒä¸­æ‰€ä¾èµ–çš„æ–‡æ¡£æ”¶è—/ç¨åé˜…è¯»éœ€æ±‚ï¼Œåˆ™ç”¨ Readwise Reader å’Œ Raindrop è¡¥å……ã€‚\n- æ–‡æ¡£çš„æ²‰æ·€ï¼Œæˆ‘ç”¨æ›´é¢å‘æ–‡æ¡£å½¢å¼çš„Notionå’Œè¯­é›€æ¥è¡¥å……ã€‚\n- åˆ†äº«æˆ‘çš„æ–‡ç« ï¼Œæˆ‘åˆ™æ˜¯ä½¿ç”¨æˆ‘è‡ªå·±å¼€å‘æ–‡æ¡£åŒæ­¥å·¥å…· Elogï¼Œå°†æ²‰æ·€å¥½çš„æ–‡æ¡£åˆ†äº«åˆ°å„ä¸ªåšå®¢å¹³å°/å…¬ä¼—å·/è®ºå›ä¸Šå»\n- æ›´å¤šçš„å…³äºæˆ‘å·¥ä½œ/ä¸ªäººçš„OKRï¼Œæˆ‘æ˜¯ç”¨æ»´ç­”æ¸…å•åšè¾…åŠ©ã€‚\n\n### **ç¨åé˜…è¯»**\n\n\nåœ¨é›¶ç¢çš„æ—¶é—´ï¼Œä¾‹å¦‚æ—©èµ·ã€åœ°é“ã€åˆä¼‘è¿™äº›æ—¶é—´æ®µä¸­ï¼Œéƒ½å¯ä»¥è¿›å…¥ã€Œå¿«é€Ÿæµè§ˆã€æ¨¡å¼ã€‚\n\n\n> ã€Œå¿«é€Ÿæµè§ˆã€çš„å…³é”®åœ¨äºè¦æŠŠé‡ç‚¹æ”¾åœ¨ã€Œå‘ç°ã€è€Œä¸æ˜¯ã€Œå¸æ”¶ã€ä¸Šé¢ã€‚å› ä¸ºå‰è€…èŠ±çš„æ—¶é—´å¾ˆçŸ­ï¼Œè€Œåè€…ä¼šå¾ˆé•¿ï¼Œæœ€æœ‰æ•ˆç‡çš„åšæ³•æ˜¯ï¼Œçœ‹åˆ°ä½ æ„Ÿå…´è¶£çš„ï¼Œå°±æŠŠä»–æ‰”åœ¨ä¸€ä¸ªç»Ÿä¸€çš„åœ°æ–¹ï¼Œç„¶åå¿˜æ‰ï¼Œå»çœ‹å‘ç°ä¸‹ä¸€ä¸ªã€‚ç­‰åˆ·å®Œä½ çš„æ—¶é—´çº¿åï¼Œå†å¼€å§‹ã€Œå¸æ”¶ã€åˆšåˆšæ‰”è¿›æ¥çš„ä¸€å †ä¿¡æ¯ã€‚è¿™æœ‰ç‚¹åƒä½ åœ¨ shopping, æŠŠä½ æƒ³è¦çš„éƒ½æ”¾åœ¨è´­ç‰©è½¦ä¸Šï¼Œç„¶åå›å®¶å†æŠŠè¿™ä¸€è½¦çš„ä¸œè¥¿å¸æ”¶æ•´ç†ã€‚â€”â€”Randy Luã€Šæˆ‘çš„ç¬”è®°ç®¡ç†æ³•ã€‹\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/1874-blog-images//8b171e9c3bf37e9aa2bd2d6d60f7f3eb.png)\n\n\nå½“ç„¶ï¼Œç»“åˆå¡ç‰‡ç¬”è®°ç®¡ç†æ³•ä¸­æ‰€æåˆ°çš„å›é¡¾çš„é‡è¦æ€§ï¼Œå½“æˆ‘ä»¬æ”¶è—èµ·æ¥ä¹‹åï¼Œä¸€å®šè¦æŠ½æ—¶é—´å»é˜…è¯»å®ƒï¼Œå¹¶è®°å½•è‡ªå·±æƒ³æ³•ï¼Œæ‰èƒ½è®©æ”¶è—å˜çš„æ›´æœ‰æ„ä¹‰ã€‚\n\n\n### **å¦‚ä½•é˜…è¯»è‹±æ–‡æ–‡æ¡£**\n\n\nè‹±æ–‡ç¤¾åŒºçš„å¯¹äºç¨‹åºå‘˜éå¸¸é‡è¦ï¼Œä¸€æ‰‹çš„æŠ€æœ¯ã€æ–‡ç« å¾ˆå¤šéƒ½æ˜¯è‹±æ–‡ã€‚åœ¨ä¹‹å‰æˆ‘éƒ½æ˜¯å³é”®ç¿»è¯‘ä¸ºä¸­æ–‡ï¼Œè€Œä¸”è¿˜æ˜¯ä¸ä¼šä»”ç»†åœ°å»çœ‹ã€‚è‡ªä»æœ‰ä¸ª ChatGPTï¼Œæˆ‘ç°åœ¨çœ‹åˆ°æ¨èçš„æœ‰æ„æ€è‹±æ–‡æ–‡ç« ä¹Ÿèƒ½ç‚¹è¿›å»æµ…è¯»ä¸€äºŒã€‚\n\n\nå¾—ç›Šäº ChatGPT æ’ä»¶çš„æ–‡ç« æ€»ç»“åŠŸèƒ½ï¼Œæˆ‘å¯ä»¥å¾ˆæ–¹ä¾¿çš„è®© AI å¸®æˆ‘æ€»ç»“ä¸‹è¿™ç¯‡æ–‡æ¡£çš„é‡ç‚¹ã€‚å¦‚æœé‡åˆ°æˆ‘æ„Ÿå…´è¶£æˆ–è€…æƒ³æ·±å…¥äº†è§£çš„çŸ¥è¯†ç‚¹ï¼Œæˆ‘ä¼šæ‰¾åˆ°å¯¹åº”çš„ä½ç½®æ‰“å¼€åŒè¯­ç¿»è¯‘ï¼Œè¯¦ç»†é˜…è¯»ã€‚\n\n\nåœ¨ ChatGPT åº”ç”¨çˆ†å‘çš„ç°åœ¨ï¼ŒåŸºäº ChatGPT æµè§ˆå™¨æ’ä»¶å’ŒåŒè¯­ç¿»è¯‘è½¯ä»¶èƒ½è®©è‡ªå·±å¿«é€Ÿäº†è§£å„ç§æ–‡æ¡£ã€‚\n\n\n### **ä¸ºä»€ä¹ˆæ— æ³•åšæŒå†™åšå®¢**\n\n\nå°±åƒV2EXç¤¾åŒºè¯„è®ºç»å¸¸è¯´çš„é‚£æ ·ï¼Œæ¯ä¸ªç¨‹åºå‘˜éƒ½æƒ³æœ‰ä¸€ä¸ªå±äºè‡ªå·±çš„å·¥å…·ç½‘ç«™å’Œåšå®¢ã€‚\n\n\nä½†å¾ˆå¤šäººå½“ç„¶ä¹ŸåŒ…æ‹¬æˆ‘éƒ½æŠŠæ—¶é—´èŠ±åœ¨è£…ä¿®ä¸Šï¼Œåšå®¢è¿ç§»äº†ä¸€æ¬¡åˆä¸€æ¬¡ã€‚\n\n\nå°±åƒæ–‡ç« å¼€å¤´è¯´çš„ï¼Œå› ä¸ºå¾ˆå¤šäººæŠŠå†™åšå®¢å½“ä½œä» 0 åˆ° 1 çš„è¿‡ç¨‹ï¼Œè„‘å­é‡Œæˆ–è€…èº«è¾¹å‡ ä¹æ²¡æœ‰è®ºç‚¹å’Œå®è·µï¼Œè¿™æ ·å°±å¾ˆéš¾å½¢æˆä¸€ç¯‡æ–‡æ¡£ã€‚\n\n\nå†™åšå®¢çš„è¿‡ç¨‹å°±åº”è¯¥æ˜¯ä¸€ä¸ªç»„ç»‡ä¹‹å‰ç¬”è®°çš„è¿‡ç¨‹ï¼Œå°†ä¹‹å‰çš„æƒ³æ³•è®ºç‚¹ç»„ç»‡èµ·æ¥ï¼Œè‡ªç„¶è€Œç„¶å°±èƒ½ç¡®å®šæ–‡ç« çš„ä¸»é¢˜ã€‚è€Œä¸æ˜¯å…ˆç¡®å®šä¸»é¢˜ï¼Œç„¶åæ ¹æ®ä¸»é¢˜å»å¯»æ‰¾è®ºç‚¹çš„è¿‡ç¨‹ã€‚\n\n\nä½†å€¼å¾—æ³¨æ„çš„æ˜¯ï¼šåšå®¢å¹³å°ä¸æ˜¯èµ„è®¯ç½‘ç«™ï¼Œä¸å¿…åœ¨æ„æ›´æ–°é¢‘ç‡ã€‚\n\n\næ­£åº”å¦‚æ­¤ï¼Œå†™ä½œå’Œæ€è€ƒåœ¨å¡ç‰‡ç¬”è®°ç®¡ç†æ³•ä¸­å°±åº”è¯¥æ˜¯ä¸€ä¸ªè‡ªç„¶è€Œç„¶å½¢æˆçš„è¿‡ç¨‹ã€‚å½“ä½ æƒ³è¦åˆ†äº«çš„æ—¶å€™å°±å¯ä»¥å¾ˆå®¹æ˜“çš„æ€»ç»“å‡ºä¸€ç¯‡åˆ†äº«æ–‡æ¡£ã€‚\n\n\næ­£å¦‚å½“å‰è¿™ç¯‡æ–‡ç« ä¸€æ ·ï¼Œå®ƒçš„å½¢æˆå°±æ˜¯å„ç§æƒ³æ³•æŸ”å’Œåœ¨ä¸€èµ·äº§ç”Ÿçš„ã€‚\n\n\n### **åšå®¢çš„å®šä½**\n\n\nå¦‚Randy Luçš„ã€Šä¸ºä»€ä¹ˆæ— æ³•åšæŒå†™åšå®¢ã€‹ä¸­è¯´çš„é‚£æ ·ã€‚\n\n\n> å†™åšå®¢çš„ç¬¬ä¸€ä¸ªæ„ä¹‰æ˜¯**è®©é™Œç”Ÿäººé€šè¿‡åšå®¢äº†è§£åˆ°ä½ æ˜¯ä»€ä¹ˆäººã€ä½ åœ¨æƒ³ä»€ä¹ˆã€ä½ åšäº†ä»€ä¹ˆ**ã€‚ä¸å¦¨è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœä½ æ­£å‡†å¤‡æ‰¾å·¥ä½œï¼Œä¸€ä½ç´ ä¸ç›¸è¯†çš„ HR å¦‚æœè¦äº†è§£ä½ ï¼Œå…‰æ˜¯ä¸€ä»½ç®€å†å°±èƒ½è®© HR çŸ¥é“ä½ çš„ä»·å€¼å—ï¼Ÿå¦‚æœä½ æœ‰ä¸€ä¸ªç²¾å½©çš„åšå®¢ï¼ŒHR ä¹Ÿè®¸èƒ½é€šè¿‡ä½ çš„åšå®¢äº†è§£ä½ å¯¹æŠ€æœ¯çš„å±äºè‡ªå·±çš„æ€è€ƒã€ä½ åœ¨ä¸šä½™æ—¶é—´åœ¨æƒ³çš„äº‹æƒ…æ˜¯ä»€ä¹ˆã€‚è¿™æ¯”ç®€å†æœ¬èº«æ›´åƒä¸€ä»½ç«‹ä½“çš„ç®€å†ã€‚\n\n\næˆ‘è®¤ä¸ºåšå®¢å’Œå¾®ä¿¡å…¬ä¼—å·ç­‰å¹³å°ä¸€æ ·ï¼Œéƒ½æ˜¯ä¸€ä¸ªæ‰“é€ ä¸ªäºº IP çš„å¹³å°ï¼Œæœ‰äº†ä¸ªäºº IPï¼Œæ‰èƒ½æ’¬åŠ¨å…¶ä»–çš„èµ„æºã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/1874-blog-images//4145fd6910d0d099dc9ed34af6d5f828.png)\n\n\n## **æŠŠå·¥å…·åµŒå…¥åˆ°å·¥ä½œæµç¨‹ï¼Œè€Œä¸æ˜¯å°†å·¥ä½œæµç¨‹åµŒå…¥å·¥å…·**\n\n\n## **é‡è¦çš„ä¸æ˜¯è®°å½•ï¼Œè€Œæ˜¯æ›´å¥½çš„æ€è€ƒ**\n\n\n## æ¨è\n\n\n### ä¹¦ç±\n\n\n[ã€Šå¡ç‰‡ç¬”è®°å†™ä½œæ³•ï¼šå¦‚ä½•å®ç°ä»é˜…è¯»åˆ°å†™ä½œ ã€‹](https://weread.qq.com/web/bookDetail/3d8326d072552e803d87c41)\n\n\n### æ‰©å±•é˜…è¯»\n\n\n[Flomo 101](https://help.flomoapp.com/thinking/write-card.html)\n\n\n[ä¸ºä»€ä¹ˆæ— æ³•åšæŒå†™åšå®¢â€”â€” Randy Lu](https://lutaonan.com/blog/reason-why-your-blog-is-not-alive/)\n\n\n[æˆ‘çš„ç¬”è®°ç®¡ç†æ³•â€”â€” Randy Lu](https://lutaonan.com/blog/how-do-i-take-note/)\n\n\n[å°‘æ¥ çš„çŸ¥è¯†ç®¡ç†Bç«™](https://www.bilibili.com/video/BV1Vq4y1X7i8/)\n\n\n### ä¿¡æ¯æµå…¥å£\n\n\n[V2EX](https://www.v2ex.com/)\n\n\n[é˜®ä¸€å³°çš„å‘¨åˆŠ](https://github.com/ruanyf/weekly)\n\n\n[Hack News](https://hackernews.betacat.io/zh.html)\n\n\n[Youtube](https://www.youtube.com/)\n\n\n[Xï¼ˆTwitterï¼‰](https://twitter.com/)\n\n\n[å°å®‡å®™æ’­å®¢](https://www.xiaoyuzhoufm.com/)\n\n\n[å¾®ä¿¡è¯»ä¹¦](https://weread.qq.com/web)\n\n\n### è½¯ä»¶/å·¥å…·\n\n\n[Raindrop](https://raindrop.io/)ï¼šä¹¦ç­¾ç®¡ç†å·¥å…·ã€ç¨åé˜…è¯»å·¥å…·\n\n\n[Readwise Reader](https://readwise.io/read)ï¼šç¨åé˜…è¯»å·¥å…·\n\n\n[Notepal](https://notepal.randynamic.org/)ï¼šå¾®ä¿¡è¯»ä¹¦ç¬”è®°åŒæ­¥åˆ°Flomoç­‰\n\n\n[Flomo](https://flomoapp.com/)ï¼šå¡ç‰‡ç¬”è®°è½¯ä»¶\n\n\n[Notion](https://www.notion.so/)ï¼šAll in oneç¬”è®°è½¯ä»¶\n\n\n[è¯­é›€](https://www.yuque.com/)ï¼šç¬”è®°è½¯ä»¶\n\n\n[Elog](https://github.com/LetTTGACO/elog)ï¼šæ–‡æ¡£åŒæ­¥åˆ°åšå®¢\n\n\n[ChatGPTæ€»ç»“åŠ©æ‰‹](https://chrome.google.com/webstore/detail/chatgpt-summary-assistant/nnjcoododbeemlmmhbfmmkbneniepaog)ï¼šç»“åˆ [Free GPT](https://github.com/chatanywhere/GPT_API_free)ï¼Œæ€»ç»“ç½‘é¡µæ–‡ç« æ’ä»¶\n\n\n[æ²‰æµ¸å¼ç¿»è¯‘](https://chrome.google.com/webstore/detail/immersive-translate/bpoadfkcbjbfhfodiogcnhhhpibjhbnh)ï¼šåŒè¯­ç¿»è¯‘æ’ä»¶\n\n\n## å¼•ç”¨\n\n\n[ä¸ºä»€ä¹ˆæ— æ³•åšæŒå†™åšå®¢â€”â€” Randy Lu](https://lutaonan.com/blog/reason-why-your-blog-is-not-alive/)\n\n\n[æˆ‘çš„ç¬”è®°ç®¡ç†æ³•â€”â€” Randy Lu](https://lutaonan.com/blog/how-do-i-take-note/)\n\n\n[ä¸ºä½•è¦å†™å¡ç‰‡â€”â€” Flomo 101](https://help.flomoapp.com/thinking/write-card.html)\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-08-18T14:16:00.000Z",
        "date": "2023-10-19",
        "type": "Post",
        "slug": "how-do-i-take-note",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-10-18T16:47:00.000Z",
        "title": "æˆ‘çš„ç¬”è®°ç®¡ç†æ³•",
        "category": "éšç¬”",
        "tags": [
          "éšç¬”"
        ],
        "status": "Published",
        "urlname": "d2a19be4-4efc-428a-9ebb-0a85e340290d",
        "updated": "2023-10-18 16:47:00"
      },
      "body": "",
      "realName": "æˆ‘çš„ç¬”è®°ç®¡ç†æ³•",
      "relativePath": "/æˆ‘çš„ç¬”è®°ç®¡ç†æ³•.md"
    },
    {
      "id": "74a06a6c-40b4-4408-8636-14cf996b3a71",
      "doc_id": "74a06a6c-40b4-4408-8636-14cf996b3a71",
      "updated": 1693060920000,
      "body_original": "\n# èƒŒæ™¯\n\n\næœ€è¿‘åœ¨é¡¹ç›®ä¸­é‡åˆ°ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„å›¾å†Œä¸šåŠ¡éœ€æ±‚ï¼š\n\n- ç”¨æˆ·åœ¨åå°ä¸Šä¼  pdf å›¾å†Œæ–‡ä»¶ï¼Œå‰å°å¯ä»¥è¿›è¡Œ pdf æµè§ˆï¼Œæµè§ˆæ–¹å¼ä¸ºå·¦å³ç¿»é¡µæ¨¡å¼ï¼ˆé»˜è®¤ pdf æ˜¯ä»ä¸Šåˆ°ä¸‹çš„ï¼‰ï¼Œè¿˜æœ‰å…¶ä»–ç©æ³•ï¼Œæœ¬è´¨æ˜¯èŠ±æ ·çœ‹å›¾ï¼ˆç¿»é¡µç”µå­ä¹¦ï¼‰ã€‚\n- åç»­åˆäº§ç”Ÿäº†ä»˜è´¹éœ€æ±‚ï¼šå¯ä»¥é¢„è§ˆå‰ 5 é¡µï¼Œåé¢å›¾å†Œæµè§ˆéœ€è¦ä»˜è´¹æŸ¥é˜…ã€‚\n\n# æŠ€æœ¯é€‰å‹\n\n\nåŸºäºä¸Šè¿°ä¸šåŠ¡ï¼Œæˆ‘ä»¬ç®€å•è¿›è¡Œéœ€æ±‚æ‹†è§£ï¼š\n\n- pdf æ–‡ä»¶å¤§å°ï¼Œéœ€è¦è€ƒè™‘æ–‡ä»¶çš„ä¸Šä¼ é€Ÿåº¦å’Œé¡µé¢é¢„è§ˆé€Ÿåº¦\n- æµè§ˆæ–¹å¼ï¼Œè¦æ±‚çµæ´»æ€§ï¼Œæ‰€ä»¥è¦åšæˆå›¾ç‰‡åŒ–æµè§ˆ\n\n## æ–¹æ¡ˆ 1\n\n- æ–‡ä»¶å­˜å‚¨é‡‡ç”¨é˜¿é‡Œäº‘ oss å­˜å‚¨ï¼Œå‰ç«¯æœåŠ¡ç›´æ¥è·Ÿ oss å­˜å‚¨äº¤äº’ï¼Œå®ç°å‰ç«¯ä¸Šä¼ ä¸ä¸‹è½½ï¼Œæ•ˆç‡æœ€å¤§åŒ–ï¼ˆæ²¡æœ‰ä¸­é—´å•†èµšå·®ä»·ï¼‰\n- æŠ€æœ¯ä¸Šé€‰æ‹© pdf.js + canvasï¼›ä¸Šä¼ æ—¶ï¼Œå‰ç«¯è§£æ pdf æ–‡ä»¶åï¼ŒæŒ‰é¡µè¯»æµï¼Œåˆ©ç”¨ canvas è½¬åŒ–ä¸ºå›¾ç‰‡åä¸Šä¼ ï¼›æµè§ˆæ—¶ï¼Œç›´æ¥å¯¹æ¯é¡µçš„å›¾ç‰‡è¿›è¡Œè¯»å–å¹¶å‘ˆç°ï¼›\n\nç„¶è€Œåœ¨å®è·µè¿‡ç¨‹ä¸­å‡ºç°äº†é¢„æ–™ä¹‹ä¸­çš„é—®é¢˜ï¼šç”±äºåå°ä¸Šä¼ çš„ pdf å¤§å¤šéƒ½æ˜¯å‡ åç”šè‡³å‡ ç™¾é¡µçš„ pdfï¼Œä» oss æ‹¿åˆ° pdf é“¾æ¥åï¼Œå‰ç«¯ canvas è¿›è¡Œæ¸²æŸ“å±•ç¤ºçš„é€Ÿåº¦ç›¸å½“æ„Ÿäººï¼Œæ— æ³•è¾¾åˆ°äº§å“ç»ç†çš„è¦æ±‚ã€‚ é—®é¢˜åˆ†æ:\n\n- å‰ç«¯å·¥ä½œé‡å¤§ï¼Œæ—¶é—´ä¸è¶³ã€‚\n- æ›´æ·±å…¥æ€è€ƒæŠ€æœ¯ç»†èŠ‚ï¼šåˆ‡å›¾åçš„æ¸…æ™°åº¦é—®é¢˜ã€å›¾ç‰‡å‹ç¼©é—®é¢˜ã€å›¾ç‰‡å‘½åè§„åˆ™é—®é¢˜ã€ç½‘ç»œæŸä¸ªå›¾ç‰‡ä¸Šä¼ å¤±è´¥é—®é¢˜ã€å¤§æ–‡ä»¶ OOM é—®é¢˜ç­‰ã€‚\n\n## æ–¹æ¡ˆ 2\n\n\nåŸºäºä»¥ä¸Šé—®é¢˜ï¼Œæˆ‘ä»¬å¯¹æ–¹æ¡ˆè¿›è¡Œæ”¹è¿›ï¼š\n\n- å‰ç«¯ç›´æ¥å°† pdf è¿›è¡Œåˆ†ç‰‡ä¸Šä¼ è‡³ ossï¼Œä¿ç•™äº†åŸ pdfï¼Œåç»­å³ä¾¿å‡ºç°æœªçŸ¥ pdf æ•…éšœä¹Ÿå¯ä»¥è„šæœ¬å¤„ç†ï¼ˆå¦‚å›¾ç‰‡æ¸…æ™°åº¦é—®é¢˜ï¼‰\n- åç«¯æ–°å¢ pdf å¤„ç†æœåŠ¡ï¼Œä» oss è·å– pdf åå¤„ç†åˆ‡å›¾åï¼Œå†å°†å›¾ç‰‡ä¸Šä¼  oss\n- å‰ç«¯æ ¹æ®çº¦å®šè§„åˆ™è·å–å›¾ç‰‡ä¿¡æ¯å¹¶å‘ˆç°\n\nè¿™æ ·åšçš„å¥½å¤„å°±æ˜¯ï¼š\n\n- å‰ç«¯ä¸“æ³¨äºå‘ˆç°ï¼Œå±è”½äº†ä¸€äº›ä¸å¿…è¦çš„æ•°æ®å¤„ç†ç»†èŠ‚\n\nå½“ç„¶ä¹Ÿæœ‰ä¸ªç¼ºç‚¹ï¼š\n\n- ç”¨æˆ·ä¸Šä¼  pdf åç«‹å³è¿›è¡Œé¢„è§ˆï¼Œæ–‡ä»¶å¤ªå¤§çš„æƒ…å†µä¸‹ï¼Œåç«¯è¿˜åœ¨å¤„ç†ä¸­ï¼Œå‰ç«¯å¯èƒ½è·å–ä¸åˆ°å›¾ç‰‡\n\nå½“ç„¶äº†ï¼Œæœ€åè€ƒè™‘åˆ°ä½¿ç”¨åœºæ™¯ï¼Œå›¾å†Œ pdf åˆ¶ä½œéœ€è¦æ—¶é—´ï¼Œæ›´æ–°é¢‘ç‡ä¸ä¼šå¤ªé«˜ï¼›æˆ‘ä»¬ä¿è¯å…¶æœ€ç»ˆå¯è§æ€§ï¼Œç›®å‰æ˜¯è¶³ä»¥æ”¯æ’‘ä¸šåŠ¡çš„ã€‚ ä¸è¿‡åœ¨å®è·µè¿‡ç¨‹ä¸­ï¼Œè¿˜æ˜¯å‡ºç°äº†ä¸€ä¸ªå°é—®é¢˜ï¼š å‰ç«¯åœ¨é¢„è§ˆ pdf æ—¶ï¼Œéœ€è¦çŸ¥é“ pdf çš„æ€»é¡µæ•°ï¼Œæœ¬æ¥æ˜¯ç”±åç«¯åœ¨è§£æ pdf çš„æ—¶å€™é¡ºä¾¿æ‹¿åˆ° pdf çš„é¡µæ•°åæ›´æ–°åˆ°æ•°æ®åº“ä¸­ï¼Œä½†æ˜¯ç”±äº oom é—®é¢˜ï¼Œéœ€è¦å‰ç«¯åœ¨ä¸Šä¼ çš„æ—¶å€™æ‹¿åˆ°æ€»é¡µæ•°åæäº¤ç»™åç«¯ã€‚\n\n\n# å‰ç«¯æ–¹æ¡ˆ\n\n\næ‰€ä»¥å°±è¿˜æ˜¯éœ€è¦å‰ç«¯å€ŸåŠ© pdfjs è¿™ä¸ªæ’ä»¶æ¥è§£å†³é—®é¢˜ï¼š å…ˆå®‰è£…ä¾èµ–ï¼š\n\n\n```shell\nnpm i pdfjs-dist -S\n```\n\n\nåœ¨ä¸Šä¼  pdf çš„æ—¶å€™è¿›è¡Œè§£æï¼Œæ‹¿åˆ° pdf çš„æ€»é¡µæ•°ï¼š\n\n\n```javascript\nimport PDFJS from 'pdfjs-dist'\nimport pdfjsWorker from 'pdfjs-dist/build/pdf.worker.entry'\n// è¿™é‡Œä¸€å®šè¦è®¾ç½®ï¼\nPDFJS.GlobalWorkerOptions.workerSrc = pdfjsWorker\n\n// å¸¸ç”¨äºä¸Šä¼ çš„æ¥å£\nasync function upload(file) {\n  // OSSä¸Šä¼ é€»è¾‘\n  ...\n  ...\n  const array = await file2Array(file.file)\n  const pdfDocument = await PDFJS.getDocument(array)\n  // è¿™æ ·å°±å¯ä»¥æ‹¿åˆ°pdfçš„æ€»é¡µæ•°äº†\n  this.filePageSize = pdfDocument.numPages\n  this.$emit('change', this.filePageSize)\n}\n\n\n// è¿™é‡Œè¦å€ŸåŠ©ä¸€ä¸ªå·¥å…·ç±»å°†fileæ–‡ä»¶è½¬ä¸ºUint8Array\nfunction file2Array(file) {\n  const reader = new FileReader()\n  reader.readAsArrayBuffer(file)\n  return new Promise((resolve, reject) => {\n    reader.onload = async (e) => {\n      const array = new Uint8Array(e.target.result) // ArrayBufferè½¬Uint8Array\n      resolve(array)\n    }\n    reader.onerror = (err) => {\n      reject(err)\n    }\n  })\n}\n```\n\n\n# åç«¯æ–¹æ¡ˆ\n\n\n## æŠ€æœ¯é€‰å‹\n\n\njava å®ç° pdf å¤„ç†çš„æŠ€æœ¯ç°æœ‰æŠ€æœ¯å¤§æ¦‚æœ‰å‡ ç§ï¼špdfboxã€PDFRendererã€jpedalã€itextã€ICEPDFã€‚\n\n- pdfboxï¼šæ˜¯ appach å‡ºå“ï¼Œå¼€æºã€å…è´¹ã€ä»Šå¹´è¿˜åœ¨æ›´æ–°ã€‚\n- PDFRendererï¼šsum å‡ºå“ï¼Œåªæœ‰ä¸€ä¸ª 2012 å¹´ç‰ˆæœ¬[0.9.1-patched](https://mvnrepository.com/artifact/com.sun.pdfview/pdfrenderer/0.9.1-patched)ï¼Œä¸å¤§è¡Œçš„æ ·å­\n- jpedalï¼šæ”¶è´¹\n- itextï¼š[AGPL](https://github.com/itext/itext7/blob/develop/LICENSE.md) / [å•†ä¸šè½¯ä»¶çš„](https://itextpdf.com/sales)åŒé‡è®¸å¯ã€‚AGPL æ˜¯å…è´¹/å¼€æºè½¯ä»¶è®¸å¯è¯ã€‚è¿™å¹¶ä¸æ„å‘³ç€è¯¥è½¯ä»¶æ˜¯[å…è´¹çš„](https://en.wikipedia.org/wiki/Gratis_versus_libre)ï¼\n- ICEPDFï¼šåˆ‡å›¾åè´¨é‡ä¸å¤§è¡Œï¼Œæœ‰æ°´å°çš„ pdfï¼Œåˆ‡å›¾åæ°´å°ä¼šç‰¹åˆ«æ¸…æ™°ã€‚\n\nåŸºäºä»¥ä¸Šè°ƒç ”ï¼Œæœ€ç»ˆé€‰æ‹©äº† pdfboxã€‚\n\n\n## é‡åˆ°çš„é—®é¢˜\n\n\n### java.awt.AWTError: Assistive Technology not found: org.GNOME.Accessibility.AtkWrapper\n\n\n### ç°è±¡\n\n\næœ¬åœ°æ­£å¸¸ï¼Œæ— æ­¤é—®é¢˜ï¼Œpass éƒ¨ç½²åç¬¬ä¸€æ¬¡è°ƒç”¨ pdf å¤„ç†æ—¶æŠ¥ error é”™è¯¯ã€‚\n\n\n### æ’æŸ¥\n\n- æ ¹æ®æŠ¥é”™ä¿¡æ¯åˆæ­¥åˆ¤æ–­ï¼Œè¿™åº”è¯¥æ˜¯æŸä¸ªç±»ä¸å­˜åœ¨ã€‚ï¼ˆå¤§æ„æ˜¯è¯´è¯¥è¾…åŠ©æŠ€æœ¯ä¸å­˜åœ¨ï¼‰\n- è¿½æº¯å†…éƒ¨ä»£ç ï¼Œpdf å¤„ç†åç”Ÿæˆå›¾ç‰‡ä½¿ç”¨ java.awt.toolkit å·¥å…·åŒ…ã€‚\n- å…¶åˆå§‹åŒ–é‡‡ç”¨å•ä¾‹æ¨¡å¼ï¼Œå¦‚æœæœ‰é…ç½® Assistive Technologyï¼ˆè¾…åŠ©æŠ€æœ¯ï¼‰ï¼Œåˆ™ä¼šå®ä¾‹åŒ–è¯¥è¾…åŠ©æŠ€æœ¯ã€‚\n\n### åŸå› \n\n- toolkit ç±»å†…éƒ¨ä¼šåŸºäº spi æœºåˆ¶åŠ è½½è¾…åŠ©æŠ€æœ¯ assistive_technologiesï¼Œè¯¥è¾…åŠ©æŠ€æœ¯éå¿…é¡»ã€‚\n- è¯¥é…ç½®æ–‡ä»¶åœ¨ jdk/accessibility.properties ä¸­ã€‚\n- æœ¬åœ°æ˜¯ jdk ä¸º jdk1.8.0_221ï¼Œæ— é…ç½® assistive_technologiesï¼Œæ— åŠ è½½é—®é¢˜\n- ä»£ç æ„å»ºå¹³å°ä¸ŠåŸºç¡€é•œåƒ jdk ä¸ºï¼š java-8-openjdkï¼Œå…¶å†…éƒ¨é…ç½® assistive_technologiesï¼Œå´æ— å¼•å…¥å…·ä½“ç±»ï¼Œå¯¼è‡´ç¬¬ä¸€æ¬¡åˆå§‹åŒ–æ—¶å¼‚å¸¸ã€‚\n- æ‰€ä»¥ï¼Œ**è¿™æ˜¯ä¸€èµ·ç”± jdk ç‰ˆæœ¬ä¸åŒ/ç¯å¢ƒä¸åŒã€å¼•å‘çš„é—®é¢˜**ã€‚\n\n### è§£å†³\n\n- ç¬¬ä¸€ç§ï¼šä¿®æ”¹ jdk/accessibility.properties é…ç½®ï¼š æ³¨é‡Š assistive_technologies\n- ç¬¬äºŒç§ï¼šå› ä¸ºå†…éƒ¨åˆå§‹åŒ–ä¸ºå•ä¾‹æ¨¡å¼ï¼Œåˆå§‹åŒ–å toolkit å¯¹è±¡å­˜åœ¨åˆ™ä¸åœ¨åˆå§‹åŒ–ï¼Œé¢„å…ˆåˆå§‹åŒ–ã€‚\n\n### java.lang.OutOfMemoryError: Java heap space\n\n\n### ç°è±¡\n\n\nä¸Šä¼ ä¸€ä¸ª 188M pdf æ–‡ä»¶æ—¶ï¼Œåœ¨æŸå‡ é¡µçš„å¤„ç†ä¼šå‡ºç° OOM å †å†…å­˜æº¢å‡º\n\n\n> é€ æˆ OutOfMemoryError åŸå› ä¸€èˆ¬æœ‰ 2 ç§ï¼š\n\n\t- å†…å­˜æ³„éœ²ï¼Œå¯¹è±¡å·²ç»æ­»äº†ï¼Œæ— æ³•é€šè¿‡åƒåœ¾æ”¶é›†å™¨è¿›è¡Œè‡ªåŠ¨å›æ”¶ï¼Œé€šè¿‡æ‰¾å‡ºæ³„éœ²çš„ä»£ç ä½ç½®å’ŒåŸå› ï¼Œæ‰å¥½ç¡®å®šè§£å†³æ–¹æ¡ˆï¼›\n\t- å†…å­˜æº¢å‡ºï¼Œå†…å­˜ä¸­çš„å¯¹è±¡éƒ½è¿˜å¿…é¡»å­˜æ´»ç€ï¼Œè¿™è¯´æ˜ Java å †åˆ†é…ç©ºé—´ä¸è¶³ï¼Œæ£€æŸ¥å †è®¾ç½®å¤§å°ï¼ˆ-Xmx ä¸-Xmsï¼‰ï¼Œæ£€æŸ¥ä»£ç æ˜¯å¦å­˜åœ¨å¯¹è±¡ç”Ÿå‘½å‘¨æœŸå¤ªé•¿ã€æŒæœ‰çŠ¶æ€æ—¶é—´è¿‡é•¿çš„æƒ…å†µã€‚\n\n### æ’æŸ¥\n\n- å¯åŠ¨åŠ å…¥å‚æ•°ï¼š-XX:+HeapDumpOnOutOfMemoryErrorï¼Œ è¿›è¡Œå¯¹ OOM æ—¥å¿— dump\n- OOM åè¿›è¡Œæ—¥å¿—åˆ†æï¼Œå…¶å ç”¨ç©ºé—´ä¸º 2 éƒ¨åˆ†ï¼š\n\t- ç¬¬ä¸€éƒ¨åˆ†ï¼šåŸ pdf æ‰€éœ€å†…å­˜ã€‚\n\t- ç¬¬äºŒéƒ¨åˆ†ï¼šæ¯ä¸€é¡µçš„ pdf è½¬å›¾ç‰‡è¿‡ç¨‹éœ€è¦çš„å†…å­˜ã€‚ï¼ˆä¸»è¦å†…å­˜å ç”¨åœ¨æ­¤éƒ¨åˆ†ï¼‰\n- é’ˆå¯¹ç¬¬ä¸€éƒ¨åˆ†ï¼Œå®˜æ–¹å€’æ˜¯æœ‰ä¸€ä¸ªé…ç½®ï¼šMemoryUsageSetting._setupTempFileOnly_();\n\t- å³åŸ pdf æš‚å­˜åœ¨å¤–å­˜ä¸­ï¼Œè€Œéå†…å­˜ï¼Œå‡è½»ä¸»å†…å­˜æš‚ç”¨ã€‚\n- é’ˆå¯¹ç¬¬äºŒéƒ¨åˆ†\n\t- å–æŸä¸€é¡µçš„ pdf æµï¼Œè¿›è¡Œè§£æï¼›è§£æåçš„åƒç´ æ•°æ®å†™å…¥ BufferedImage ä¸­ï¼Œåœ¨è°ƒç”¨åŸç”Ÿ java.awt.image ç”»å›¾ç”Ÿæˆã€‚\n\t- å†…éƒ¨æ¶‰åŠ pdf çš„è§£æã€æ¸²æŸ“+æ¸²æŸ“ç®—æ³•ã€æ˜¯å¦å…è®¸ä¸‹é‡‡æ ·ç­‰ç­‰ã€‚\n\næœ€ç»ˆå®šä½åˆ°ï¼Œéƒ¨åˆ†é¡µåç»˜åˆ¶æˆå›¾æ‰€éœ€çš„å†…å­˜å·¨å¤§ï¼Œpdf è¶Šæ˜¯ç²¾è‡´ï¼Œè¶Šæ˜¯å·¨å¤§ã€‚è¿™ä¸ªè·Ÿå›¾åƒçš„ç€è‰²ã€è½®å»“ã€çº¹ç†ã€åƒç´ ç‚¹ã€è¾¹ç¼˜é”¯é½¿ã€æŠ–åŠ¨ç­‰ç›¸å…³ã€‚è¿™é‡Œæ°´æœ‰ç‚¹æ·±ï¼Œæ¦‚å¿µä¸Šå°±æœ‰åˆ†è¾¨ç‡ã€å®¹é‡ã€æ¸…æ™°åº¦ã€åƒç´ ã€çŸ¢é‡å›¾ã€ä½å›¾ã€æ …æ ¼åŒ–ã€æ’å€¼ç®—æ³•ã€‚ æ€»ä¹‹ï¼Œä¸€å¥—æµç¨‹ä¸‹æ¥ï¼Œæˆ‘ä»¬å‘ç°æŸäº› pdf çš„è½¬åŒ–ç¡®å®éœ€è¦å·¨å¤§çš„å†…å­˜ï¼Œå…¸å‹çš„ç©ºé—´å¤æ‚åº¦é«˜ã€‚æ‰€ä»¥ï¼Œè¿™æ˜¯ä¸ªæ­£å¸¸å†…å­˜æº¢å‡ºï¼Œå¹¶éæŸäº›æµæˆ–å¯¹è±¡æœªåŠæ—¶å…³é—­ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯éœ€è¦æ‰©å¤§è™šæ‹Ÿæœºå †å†…å­˜ã€‚ ç»æµ‹è¯•ï¼ŒæŸ 24M çš„å•é¡µ pdf å›¾ï¼Œè½¬åŒ–æˆå›¾ç‰‡å¤§çº¦éœ€è¦ 800M å†…å­˜ã€‚ï¼ˆå°±æ˜¯è¿™ä¹ˆå¤¸å¼ ï¼ï¼‰\n\n\n### ä¼˜åŒ–æ€»ç»“\n\n- `PDDocument.load(file, MemoryUsageSetting.setupTempFileOnly())`å°† pdf æš‚å­˜åœ¨æœ¬åœ°ç£ç›˜ï¼Œå³çœå‡ºäº†å†…å­˜ç©ºé—´ï¼›åƒ 100M çš„ pdf å°±èƒ½çœ 100M å†…å­˜å‘¢\n- `PDFRenderer.renderImageWithDPI(iï¼Œ72)ï¼›`é™ä½ dpiï¼Œå‡å°‘ dpi æ¯”ä¾‹ï¼Œä¹Ÿå¯ä»¥ä¸€å®šç¨‹åº¦ä¸Šä¼˜åŒ–ï¼Œä½†åœ¨å‘ˆç°ä¸Šè·ŸåŸå›¾æ¯”ä¼šæœ‰æ‰€ç¼©æ”¾ã€‚\n- `PDFRenderer``.setSubsamplingAllowed(``true``);`å…è®¸ä¸‹é‡‡æ ·ï¼Œä¸‹é‡‡æ ·å¯ä»¥åœ¨æ›´å¿«ã€æ›´å°çš„å†…å­˜å¯†é›†å‹æƒ…å†µä¸‹ä½¿ç”¨ï¼Œä½†å®ƒä¹Ÿå¯èƒ½å¯¼è‡´è´¨é‡çš„æŸå¤±ï¼Œå°¤å…¶æ˜¯é’ˆå¯¹é«˜ç©ºé—´é¢‘ç‡çš„å›¾åƒ\n- é€šè¿‡-Xmx å¢åŠ æœ€å¤§å †å†…å­˜ï¼Œç»ˆæå¤§æ³•ï¼Œæ‰©å¤§å†…å­˜\n\npdfbox å®˜æ–¹ä¹Ÿæœ‰ oom é—®é¢˜çš„å¤„ç†å»ºè®®ï¼Œå¦‚ä¸‹ï¼š\n\n\n> Iâ€™m getting an OutOfMemoryError. What can I do? The memory footprint depends on the PDF itself and on the resolution you use for rendering. Some possible options:\n\n\t- increase the `Xmx` value when starting java\n\t- use a scratch file by loading files with this code `PDDocument.load(file, MemoryUsageSetting.setupTempFileOnly())`\n\t- be careful not to hold your images after rendering them, e.g.Â avoid putting all images of a PDF into a `List`\n\t- donâ€™t forgot to close your `PDDocument` objects\n\t- decrease the scale when calling `PDFRenderer.renderImage()`, or the dpi value when calling `PDFRenderer.renderImageWithDPI()`\n\t- disable the cache for `PDImageXObject` objects by calling `PDDocument.setResourceCache()` with a cache object that is derived from `DefaultResourceCache` and whose call `public void put(COSObject indirect, PDXObject xobject)` does nothing. Be aware that this will slow down rendering for PDF files that have an identical image in several pages (e.g.Â a company logo or a background). More about this can be read in [PDFBOX-3700](https://issues.apache.org/jira/browse/PDFBOX-3700).\n\n# æ–‡ä»¶åŠ å¯†è®¾è®¡\n\n\nä¸€ä¸ª pdfï¼Œå¯èƒ½å« 200+çš„é¡µç ï¼Œåˆ‡æˆå›¾ç‰‡ååˆ†å¼€å­˜æ”¾ï¼Œå³äº§ç”Ÿ 200+è®°å½•ã€‚å¦‚æœå­˜å‚¨åœ¨åº“é‡Œï¼Œæœ‰ç‚¹æµªè´¹ç©ºé—´ï¼ŒåŒæ—¶è¿˜æ˜¯èƒ½é€šè¿‡æ¥å£è§„åˆ™è·å–æ•°æ®ã€‚å¦‚æœå•çº¯çš„é€šè¿‡ç»Ÿä¸€è·¯å¾„ååŠ  1ã€2ã€3ã€4ï¼Œä¹Ÿæ˜¯å¾ˆå®¹æ˜“çš„æ¨å¯¼åç»­çš„æ•°æ®ã€‚æ‰€ä»¥éœ€è¦åˆ¶å®šå†…éƒ¨åŠ å¯†è§„åˆ™ã€‚\n\n\n## åŸºæœ¬æµç¨‹\n\n\næ˜æ–‡ Â + è§„åˆ™ï¼ˆå¯†é’¥ï¼‰ Â -> å¯†æ–‡ Â ï¼ˆå…¸å‹çš„å¯¹ç§°åŠ å¯†çš„åŠ å¯†æ®µ) **æ˜æ–‡**ä¸º uuidï¼šå¦‚æ•°æ®åº“å­˜æ”¾æ ¼å¼ï¼š/fileUrl/**68428de9168548f3a9da61a6ee5faaf3** Â , Â  é»‘ä½“éƒ¨åˆ†å³æ˜æ–‡ **è§„åˆ™**ï¼š å³å¯†é’¥ï¼šrule = â€œzxcvbnmlkjhgfdsaâ€ **å¯†æ–‡**ï¼š ä¸ºå…·ä½“çš„ oss æ–‡ä»¶åï¼š`/fileUrl/``**6**``**g**``**8428de9168548f3a9da61a6ee5faaf**``**1**` ï¼Œè¿™æ˜¯ç¬¬ä¸€é¡µ/å¼ ï¼Œ`/fileUrl/`**68**`**z**`**428de9168548f3a9da61a6ee5faaf**`**2**` Â , Â  è¿™æ˜¯ç¬¬äºŒé¡µ/å¼ \n\n\n## åŠ å¯†è§„åˆ™\n\n\n### java ç‰ˆ\n\n\n```java\n/**\n * pdfHelper\n *\n */\npublic class PdfHelper {\n    /**\n     * uuidè§„åˆ™æ„é€ å™¨\n     * åŸç†ï¼šå»é™¤æœ€åä¸€ä½å­—ç¬¦ï¼Œå†å–å‰©ä¸‹æœ€åä¸€ä½å­—ç¬¦ä¸ºèµ·å§‹å€¼ï¼Œç»è¿‡è§„åˆ™è½¬æ¢åï¼Œæ’å…¥ç¬¬iä¸ªä½ç½®ï¼›\n     * è§„åˆ™ï¼šruleMark\n     * å¦‚ABCD,1 -> C ABC 1\n     * å¦‚ABCD,2 -> D ABC 2\n     *\n     * @param sourceUuid æºid\n     * @param pageNum    é¡µç  ç¬¬né¡µ\n     * @return è§„åˆ™åçš„uuid\n     */\n    public static String uuidBuilder(String sourceUuid, int pageNum) {\n        String splitUuid = sourceUuid.substring(0, sourceUuid.length() - 1);\n        String publicMark = splitUuid.substring(splitUuid.length() - 1);\n        String ruleMark = ruleMark(publicMark, pageNum);\n        int index = pageNum;\n        while (index > splitUuid.length()) {\n            index = index - splitUuid.length();\n        }\n        return splitUuid.substring(0, index) + ruleMark + splitUuid.substring(index) + pageNum;\n    }\n\n    public static String ruleMark(String mark, int pageNum) {\n        String rule = \"qwertyuiopasdfghjklzxcvbnm1234567890\";\n        int index = rule.indexOf(mark) + pageNum;\n        while (index > rule.length() - 1) {\n            index = index - rule.length();\n        }\n        char c = rule.charAt(index);\n        return String.valueOf(c);\n    }\n\n}\n```\n\n\n### javascript ç‰ˆ\n\n\n```javascript\n/**\n * uuidè§„åˆ™æ„é€ å™¨\n * åŸç†ï¼šå»é™¤æœ€åä¸€ä½å­—ç¬¦ï¼Œå†å–å‰©ä¸‹æœ€åä¸€ä½å­—ç¬¦ä¸ºèµ·å§‹å€¼ï¼Œç»è¿‡è§„åˆ™è½¬æ¢åï¼Œæ’å…¥ç¬¬iä¸ªä½ç½®ï¼›\n * è§„åˆ™ï¼šruleMark\n * å¦‚ABCD,1 -> C ABC 1\n * å¦‚ABCD,2 -> D ABC 2\n *\n * @param sourceUuid æºid\n * @param pageNum é¡µç  ç¬¬né¡µ\n * @return string è§„åˆ™åçš„uuid\n */\n\nfunction uuidBuilder(sourceUuid, pageNum) {\n  const ruleMark = (mark, pageNum) => {\n    const rule = 'qwertyuiopasdfghjklzxcvbnm1234567890'\n    let index = rule.indexOf(mark) + pageNum\n    while (index > rule.length - 1) {\n      index = index - rule.length\n    }\n    const c = rule.charAt(index)\n    return c\n  }\n  const splitUuid = sourceUuid.substring(0, sourceUuid.length - 1)\n  const publicMark = splitUuid.substring(splitUuid.length - 1)\n  const ruleMarkV = ruleMark(publicMark, pageNum)\n  let index = pageNum\n  while (index > splitUuid.length) {\n    index = index - splitUuid.length\n  }\n  return splitUuid.substring(0, index) + ruleMarkV + splitUuid.substring(index) + pageNum\n}\n\nexport default uuidBuilder\n```\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2021-02-24",
        "type": "Post",
        "slug": "owidng",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "æœ¬æ–‡ä»‹ç»äº†ä¸€ç§åˆ©ç”¨ pdf.js å’Œ pdfbox æŠ€æœ¯å®ç°å¤§æ–‡ä»¶ PDF é¢„è§ˆçš„è§£å†³æ–¹æ¡ˆã€‚é€šè¿‡é‡‡ç”¨å‰ç«¯ pdf.js æ’ä»¶è§£æ PDF æ–‡ä»¶å¹¶è½¬åŒ–ä¸ºå›¾ç‰‡ï¼Œåç«¯ pdfbox è¿›è¡Œ PDF å¤„ç†å’Œåˆ‡å›¾ï¼Œå®ç°äº†å¤§æ–‡ä»¶çš„åˆ†ç‰‡ä¸Šä¼ å’Œå¤„ç†ã€‚åŒæ—¶ï¼Œæœ¬æ–‡ä»‹ç»äº†åœ¨å®è·µè¿‡ç¨‹ä¸­é‡åˆ°çš„å†…å­˜æº¢å‡ºé—®é¢˜å’Œè§£å†³æ–¹æ¡ˆã€‚",
        "æ›´æ–°æ—¶é—´": "2023-08-26T14:42:00.000Z",
        "title": "å¤§æ–‡ä»¶pdfé¢„è§ˆè§£å†³æ–¹æ¡ˆ",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Vue",
          "Java"
        ],
        "status": "Archived",
        "urlname": "74a06a6c-40b4-4408-8636-14cf996b3a71",
        "updated": "2023-08-26 14:42:00"
      },
      "body": "",
      "realName": "å¤§æ–‡ä»¶pdfé¢„è§ˆè§£å†³æ–¹æ¡ˆ",
      "relativePath": "/å¤§æ–‡ä»¶pdfé¢„è§ˆè§£å†³æ–¹æ¡ˆ.md"
    },
    {
      "id": "53037fea-b13b-4fc6-8c6b-a254bb871dcd",
      "doc_id": "53037fea-b13b-4fc6-8c6b-a254bb871dcd",
      "updated": 1693060980000,
      "body_original": "\n# å‰è¨€\n\n\nLinux ä¸‹ï¼Œå‘½ä»¤è¡Œæ˜¾ç¤ºè·¯å¾„ä»…æœ€åä¸€ä¸ªæ–‡ä»¶åï¼Œéå¸¸ä¸æ–¹ä¾¿ï¼Œ æœ€è¿‘åœ¨å­¦å¤§æ•°æ®çš„æ—¶å€™æ‰å¶ç„¶å‘ç°è¿™ä¸ªå°ç»†èŠ‚ï¼Œç®€ç›´å¤ªçœå¿ƒäº†ï¼Œè®°å½•ä¸€ä¸‹ã€‚\n\n\n# Centos å‘½ä»¤æç¤ºç¬¦æ˜¾ç¤ºå®Œæ•´è·¯å¾„\n\n\nç¼–è¾‘`[/etc/profile]`æ–‡ä»¶ï¼Œåœ¨æœ«å°¾æ·»åŠ ç¯å¢ƒå˜é‡ PS1\n\n\n```text\nexport PS1='[\\u@\\h `pwd`]\\$'\n```\n\n\nåˆ·æ–°é…ç½®æ–‡ä»¶ï¼Œä½¿å…¶ç”Ÿæ•ˆ\n\n\n```text\n$> source /etc/profile\n```\n\n\n> å‘½ä»¤é‡Šä¹‰ï¼š \\u æ˜¾ç¤ºå½“å‰ç”¨æˆ·è´¦å· \\h æ˜¾ç¤ºå½“å‰ä¸»æœºå åªæ˜¾ç¤ºå½“å‰è·¯å¾„æœ€åä¸€ä¸ªç›®å½• æ˜¾ç¤ºå½“å‰ç»å¯¹è·¯å¾„ï¼ˆå½“å‰ç”¨æˆ·ç›®å½•ä¼šä»¥ ~ä»£æ›¿ï¼‰ pwd æ˜¾ç¤ºå½“å‰å…¨è·¯å¾„ $ æ˜¾ç¤ºå‘½ä»¤è¡Œâ€™$â€˜æˆ–è€…â€™#â€™ç¬¦å·\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FvMg0RbCcEOrUnaGLzYP-7n0P77y.png)\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2019-05-04",
        "type": "Post",
        "slug": "olp6f6",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T14:43:00.000Z",
        "title": "Centoså‘½ä»¤æç¤ºç¬¦æ˜¾ç¤ºå®Œæ•´è·¯å¾„",
        "category": "å­¦ä¹ ç¬”è®°",
        "tags": [
          "Linux"
        ],
        "status": "Archived",
        "urlname": "53037fea-b13b-4fc6-8c6b-a254bb871dcd",
        "updated": "2023-08-26 14:43:00"
      },
      "body": "",
      "realName": "Centoså‘½ä»¤æç¤ºç¬¦æ˜¾ç¤ºå®Œæ•´è·¯å¾„",
      "relativePath": "/Centoså‘½ä»¤æç¤ºç¬¦æ˜¾ç¤ºå®Œæ•´è·¯å¾„.md"
    },
    {
      "id": "86181a01-bf90-440b-876f-93e680ed7f92",
      "doc_id": "86181a01-bf90-440b-876f-93e680ed7f92",
      "updated": 1696147260000,
      "body_original": "\n> ğŸ’¡ 1. ä»Šæ—¥å­¦ä¹ çš„æ–‡ç« é“¾æ¥å’Œè§†é¢‘é“¾æ¥  \n> 2. è‡ªå·±çœ‹åˆ°é¢˜ç›®çš„ç¬¬ä¸€æƒ³æ³•  \n> 3. çœ‹å®Œä»£ç éšæƒ³å½•ä¹‹åçš„æƒ³æ³•  \n> 4. è‡ªå·±å®ç°è¿‡ç¨‹ä¸­é‡åˆ°å“ªäº›å›°éš¾  \n> 5. ä»Šæ—¥æ”¶è·ï¼Œè®°å½•ä¸€ä¸‹è‡ªå·±çš„å­¦ä¹ æ—¶é•¿\n\n\n## é¢˜ç›®é“¾æ¥\n\n\n### 977.æœ‰åºæ•°ç»„çš„å¹³æ–¹\n\n\né¢˜ç›®å»ºè®®ï¼šæœ¬é¢˜å…³é”®åœ¨äºç†è§£åŒæŒ‡é’ˆæ€æƒ³\n\n\né¢˜ç›®é“¾æ¥ï¼š[https://leetcode.cn/problems/squares-of-a-sorted-array/](https://leetcode.cn/problems/squares-of-a-sorted-array/)\næ–‡ç« è®²è§£ï¼š[https://programmercarl.com/0977.æœ‰åºæ•°ç»„çš„å¹³æ–¹.html](https://programmercarl.com/0977.%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E7%9A%84%E5%B9%B3%E6%96%B9.html)\nè§†é¢‘è®²è§£ï¼š [https://www.bilibili.com/video/BV1QB4y1D7ep](https://www.bilibili.com/video/BV1QB4y1D7ep)\n\n\n### 209.é•¿åº¦æœ€å°çš„å­æ•°ç»„\n\n\né¢˜ç›®å»ºè®®ï¼šæœ¬é¢˜å…³é”®åœ¨äºç†è§£æ»‘åŠ¨çª—å£ï¼Œè¿™ä¸ªæ»‘åŠ¨çª—å£çœ‹æ–‡å­—è®²è§£ è¿˜æŒºéš¾ç†è§£çš„ï¼Œå»ºè®®å¤§å®¶å…ˆçœ‹è§†é¢‘è®²è§£ã€‚  æ‹“å±•é¢˜ç›®å¯ä»¥å…ˆä¸åšã€‚\n\n\né¢˜ç›®é“¾æ¥ï¼š[https://leetcode.cn/problems/minimum-size-subarray-sum/](https://leetcode.cn/problems/minimum-size-subarray-sum/)\næ–‡ç« è®²è§£ï¼š[https://programmercarl.com/0209.é•¿åº¦æœ€å°çš„å­æ•°ç»„.html](https://programmercarl.com/0209.%E9%95%BF%E5%BA%A6%E6%9C%80%E5%B0%8F%E7%9A%84%E5%AD%90%E6%95%B0%E7%BB%84.html)\nè§†é¢‘è®²è§£ï¼š[https://www.bilibili.com/video/BV1tZ4y1q7XE](https://www.bilibili.com/video/BV1tZ4y1q7XE)\n\n\n### 59.èºæ—‹çŸ©é˜µII\n\n\né¢˜ç›®å»ºè®®ï¼šæœ¬é¢˜å…³é”®è¿˜æ˜¯åœ¨è½¬åœˆçš„é€»è¾‘ï¼Œåœ¨äºŒåˆ†æœç´¢ä¸­æåˆ°çš„åŒºé—´å®šä¹‰ï¼Œåœ¨è¿™é‡Œåˆç”¨ä¸Šäº†ã€‚\n\n\né¢˜ç›®é“¾æ¥ï¼š[https://leetcode.cn/problems/spiral-matrix-ii/](https://leetcode.cn/problems/spiral-matrix-ii/)\næ–‡ç« è®²è§£ï¼š[https://programmercarl.com/0059.èºæ—‹çŸ©é˜µII.html](https://programmercarl.com/0059.%E8%9E%BA%E6%97%8B%E7%9F%A9%E9%98%B5II.html)\nè§†é¢‘è®²è§£ï¼š[https://www.bilibili.com/video/BV1SL4y1N7mV/](https://www.bilibili.com/video/BV1SL4y1N7mV/)\n\n\n### æ€»ç»“\n\n\né¢˜ç›®å»ºè®®ï¼šå¸Œæœ›å¤§å®¶ä¹Ÿåšä¸€ä¸ªè‡ªå·±å¯¹æ•°ç»„ä¸“é¢˜çš„æ€»ç»“\n\n\næ–‡ç« é“¾æ¥ï¼š[https://programmercarl.com/æ•°ç»„æ€»ç»“ç¯‡.html](https://programmercarl.com/%E6%95%B0%E7%BB%84%E6%80%BB%E7%BB%93%E7%AF%87.html)\n\n\n## è§£é¢˜æ€è·¯\n\n\n### 977.æœ‰åºæ•°ç»„çš„å¹³æ–¹\n\n\nç¬¬ä¸€ååº”å°±æ˜¯ç›´æ¥æš´åŠ›å¹³æ–¹ç„¶åæ’åºã€‚åŒæŒ‡é’ˆæ€æƒ³ä»€ä¹ˆçš„å®Œå…¨æ²¡å¤´ç»ªï¼Œè¿˜æ˜¯å…ˆçœ‹é¢˜è§£çš„æ€è·¯å§ï¼š\n\n\næ•°ç»„å…¶å®æ˜¯æœ‰åºçš„ï¼Œ åªä¸è¿‡è´Ÿæ•°å¹³æ–¹ä¹‹åå¯èƒ½æˆä¸ºæœ€å¤§æ•°äº†ã€‚\n\n\né‚£ä¹ˆæ•°ç»„å¹³æ–¹çš„**æœ€å¤§å€¼å°±åœ¨æ•°ç»„çš„ä¸¤ç«¯ï¼Œä¸æ˜¯æœ€å·¦è¾¹å°±æ˜¯æœ€å³è¾¹ï¼Œä¸å¯èƒ½æ˜¯ä¸­é—´**ã€‚\n\n\næ­¤æ—¶å¯ä»¥è€ƒè™‘åŒæŒ‡é’ˆæ³•äº†ï¼Œ`i`æŒ‡å‘èµ·å§‹ä½ç½®ï¼Œ`j`æŒ‡å‘ç»ˆæ­¢ä½ç½®ã€‚\n\n\nå®šä¹‰ä¸€ä¸ªæ–°æ•°ç»„resultï¼Œå’ŒAæ•°ç»„ä¸€æ ·çš„å¤§å°ï¼Œè®©`k`æŒ‡å‘resultæ•°ç»„ç»ˆæ­¢ä½ç½®ã€‚\n\n\nå¦‚æœ`A[i] * A[i] < A[j] * A[j]`Â é‚£ä¹ˆ`result[k--] = A[j] * A[j];`\n\n\nå¦‚æœ`A[i] * A[i] >= A[j] * A[j]`Â é‚£ä¹ˆ`result[k--] = A[i] * A[i];`\n\n\nå¦‚åŠ¨ç”»æ‰€ç¤ºï¼š\n\n\n![](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/a4be2e11-5fd8-4a8b-abbf-edb717d3d1bd/977.%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E7%9A%84%E5%B9%B3%E6%96%B9.gif?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20231012%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20231012T081950Z&X-Amz-Expires=3600&X-Amz-Signature=ea73aa4202afd4db62a3bc98ed72dd85cbdd46215e74ad73caaeeb45aa006fcb&X-Amz-SignedHeaders=host&x-id=GetObject)\n\n\n### 209.é•¿åº¦æœ€å°çš„å­æ•°ç»„\n\n\næ²¡å•¥å¤´ç»ªï¼Œçœ‹äº†å¥½ä¸€ä¼šæš´åŠ›è§£æ³•æ‰æ˜ç™½æ˜¯æ€ä¹ˆè¿è¡Œçš„ã€‚\n\n- å¤–å±‚ç”¨æ¥å¾ªç¯æ•´ä¸ªæ•°ç»„\n- å†…å±‚ç”¨æ¥å¾ªç¯å½“å‰ä¸‹æ ‡åŠå…¶ä¹‹åæ‰€æœ‰æ•°çš„å’Œ\n- ç›´åˆ°å¾ªç¯å®Œåæ‰¾åˆ°æœ€å°çš„length\n- ç›¸å½“äºä¸¤ä¸ª\n\næ»‘åŠ¨çª—å£çš„æ€æƒ³å°±ä¸éœ€è¦å†…å±‚å¾ªç¯ï¼Œç”¨ä¸¤ä¸ªæŒ‡é’ˆ\n\n- æŒ‡é’ˆiç”¨æ¥å¾ªç¯æ•´ä¸ªæ•°ç»„\n- æŒ‡é’ˆjä¼šåœ¨sumå¤§äºç­‰äºç›®æ ‡å€¼æ—¶ï¼Œä»sumä¸­å‡å»å½“å‰å€¼å¹¶å‘å³ç§»åŠ¨\n- æ‰€ä»¥è¿™ä¸ªæœ€åçš„æƒ…å†µå°±æ˜¯å…¨æ˜¯ç›®æ ‡å€¼-1çš„å€¼ç»„æˆçš„æ•°ç»„ï¼ŒæŒ‡é’ˆjæ¯èµ°ä¸€æ­¥ï¼Œiéƒ½éœ€è¦èµ°ä¸€æ­¥ã€‚å³æ—¶é—´å¤æ‚åº¦æœ€åä¸ºO(2n)\n\n![](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/4e47acdd-4a9e-4fc3-a4b9-36689bd79103/209.%E9%95%BF%E5%BA%A6%E6%9C%80%E5%B0%8F%E7%9A%84%E5%AD%90%E6%95%B0%E7%BB%84_%281%29.gif?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20231012%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20231012T081950Z&X-Amz-Expires=3600&X-Amz-Signature=d4683181554261fb5afd3e371a4cbab2bd9fa0aa1f1bcc6eb4e33f0943158784&X-Amz-SignedHeaders=host&x-id=GetObject)\n\n\n### 59.èºæ—‹çŸ©é˜µII\n\n\n## é¢˜è§£\n\n\n### 977.æœ‰åºæ•°ç»„çš„å¹³æ–¹\n\n\n```javascript\n/**\n * æš´åŠ›è§£æ³•\n * @param {number[]} nums\n * @return {number[]}\n */\nvar sortedSquares = function(nums) {\n  // ç›´è§‚æ˜äº†çš„æš´åŠ›è§£æ³•\n  return nums.map(item => {\n    return item * item\n  }).sort((a, b) => a-b)\n};\n```\n\n\n```javascript\n/**\n * åŒæŒ‡é’ˆè§£æ³•\n * @param {number[]} nums\n * @return {number[]}\n */\nvar sortedSquares = function(nums) {\n  // iæŒ‡å‘èµ·å§‹ä½ç½®ï¼ŒjæŒ‡å‘ç»ˆæ­¢ä½ç½®\n  let i = 0, j = nums.length - 1, k = nums.length - 1\n  // å®šä¹‰ä¸€ä¸ªæ–°æ•°ç»„resultï¼Œå’ŒAæ•°ç»„ä¸€æ ·çš„å¤§å°ï¼Œè®©kæŒ‡å‘resultæ•°ç»„ç»ˆæ­¢ä½ç½®ã€‚\n  const res = new Array(nums.length).fill(0)\n  while (i <= j) {\n    // å¾—å‡ºå¹³æ–¹å€¼\n    let left = nums[i] * nums[i]\n    let right = nums[j] * nums[j]\n    if (left < right) {\n      // å³è¾¹çš„å¤§ï¼Œå°±æŠŠå³è¾¹çš„å¹³æ–¹å€¼æ”¾åˆ°æ–°æ•°ç»„\n      // æ–°æ•°ç»„ä¸Šçš„æŒ‡é’ˆå‘å·¦ç§»åŠ¨\n      res[k--] = right\n      // å¹¶ä¸”å³è¾¹çš„æŒ‡é’ˆå‘å·¦ç§»åŠ¨\n      j--\n    } else {\n      // å·¦è¾¹çš„å¤§ï¼Œå°±æŠŠå·¦è¾¹çš„å¹³æ–¹å€¼æ”¾åˆ°æ–°æ•°ç»„\n      // æ–°æ•°ç»„ä¸Šçš„æŒ‡é’ˆå‘å·¦ç§»åŠ¨\n      res[k--] = left\n      // å¹¶ä¸”å·¦è¾¹çš„æŒ‡é’ˆå‘å³ç§»åŠ¨\n      i++\n    }\n  }\n  return res\n};\n\n/**\n * @param {number[]} nums\n * @return {number[]}\n */\nvar sortedSquares = function(nums) {\n    // åŒæŒ‡é’ˆ\n    let res = []\n    // å®šä¹‰å·¦å³æŒ‡é’ˆ\n    let left = 0, right = nums.length - 1\n\n    while(left <= right) {\n        const le = nums[left] * nums[left]\n        const ri = nums[right] * nums[right]\n        if(le < ri) {\n            // ç»™æ•°ç»„å‰å¢åŠ å…ƒç´ \n            res.unshift(ri)\n            // å³è¾¹çš„å¤§ï¼Œå³è¾¹æŒ‡é’ˆå‘å·¦ç§»åŠ¨\n            right --\n        } else {\n            // å·¦è¾¹çš„å¤§ï¼Œå·¦è¾¹æŒ‡é’ˆå‘å³ç§»åŠ¨\n            res.unshift(le)\n            left ++\n        }\n    }\n\n    return res\n\n};\n```\n\n\n### 209.é•¿åº¦æœ€å°çš„å­æ•°ç»„\n\n\n```javascript\n/**\n * æš´åŠ›è§£æ³•\n * @param {number} target\n * @param {number[]} nums\n * @return {number}\n */\nvar minSubArrayLen = function(target, nums) {\n  // å®šä¹‰ä¸€ä¸ªè¶³å¤Ÿå¤§çš„é•¿åº¦\n  let result = 999999999999\n  let subLength = 0; // å­æ•°ç»„é•¿åº¦\n  for (let i = 0; i < nums.length; i++) {\n    let sum = 0 // æ¯æ¬¡ä»å¤´å¼€å§‹è®¡æ—¶\n    for (let j = i; j < nums.length; j++) {\n      sum = sum + nums[j] // è®¡ç®—å’Œ\n      if (sum >= target) { // å¦‚æœå¤§äºç­‰äºç›®æ ‡å€¼\n        subLength = j - i + 1 // å¾—åˆ°æ•°ç»„é•¿åº¦\n        result = result < subLength ? result : subLength // å’Œä¹‹å‰çš„é•¿åº¦åšæ¯”è¾ƒï¼Œè°çŸ­å°±æ˜¯è°\n        break  // æ‰¾ç¬¦åˆæ¡ä»¶æœ€çŸ­çš„å­åºåˆ—ï¼Œæ‰€ä»¥ä¸€æ—¦ç¬¦åˆæ¡ä»¶å°±breakï¼Œæ²¡å¿…è¦å†åŠ sumäº†\n      }\n    }\n  }\n  // å¦‚æœresultæ²¡æœ‰è¢«èµ‹å€¼çš„è¯ï¼Œå°±è¿”å›0ï¼Œè¯´æ˜æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å­åºåˆ—\n  return result === 999999999999 ? 0 : result\n};\n```\n\n\n```javascript\n/**\n * æ»‘åŠ¨çª—å£è§£æ³•\n * @param {number} target\n * @param {number[]} nums\n * @return {number}\n */\nvar minSubArrayLen = function(target, nums) {\n  // å®šä¹‰ä¸€ä¸ªé•¿åº¦ç»“æœ\n  let res = 999999999999\n  // å­æ•°ç»„çš„é•¿åº¦\n  let subLen = 0\n  // å®šä¹‰ä¸€ä¸ªçª—å£åˆå§‹ä¸‹æ ‡\n  let i = 0\n  // å’Œ\n  let sum = 0\n  for (let j = 0; j < nums.length; j++) {\n    // ç›¸å¯¹äºæš´åŠ›è§£æ³•ï¼Œè¿™é‡Œçš„sumåœ¨ç›¸åŠ ä¹‹åä¸ç”¨break\n    sum = sum + nums[j]\n    // ä¸€æ—¦å¤§äºç­‰äºç›®æ ‡å€¼ï¼Œå°±æ£€æŸ¥æœ€å°é•¿åº¦\n    while (sum >= target) {\n      // å¾—åˆ°å­æ•°ç»„é•¿åº¦\n      subLen = j - i + 1\n      // æ£€æŸ¥æœ€å°é•¿åº¦\n      res = res < subLen ? res : subLen\n      // å‡å»åˆå§‹ä½ç½®çš„å€¼ï¼Œç›´åˆ°è®©sumå°äºç›®æ ‡å€¼\n      sum = sum - nums[i]\n      // å¹¶ä¸”ç§»åŠ¨çª—å£èµ·å§‹ä½ç½®ï¼Œ\n      i++\n    }\n  }\n  return res === 999999999999 ? 0 : res\n};\n```\n\n\n### 59.èºæ—‹çŸ©é˜µII\n\n\n## æ”¶è·\n\n\né¢˜è§£èƒ½çœ‹æ‡‚ï¼Œä¹Ÿèƒ½å†™å‡ºæ¥ï¼Œä½†æ˜¯æ„Ÿè§‰æ²¡æœ‰ä»€ä¹ˆé€šç”¨æ€§çš„æ”¶è·ã€‚å¯¹æˆ‘æ¥è¯´è™½ç„¶éƒ½æ˜¯æ•°ç»„çš„é¢˜ç›®ï¼Œä½†æ˜¯è§£é¢˜æ€è·¯ä¸å…·å¤‡é€šç”¨æ€§ã€‚å·®ä¸å¤šæ˜¯é‚£ç§ä»æ²¡å¤´ç»ªâ‡’çœ‹é¢˜è§£â‡’åŸæ¥å¯ä»¥è¿™æ ·ç†è§£â‡’ç†è§£äº†â‡’ä¸‹ä¸€é“é¢˜åˆå›°ä½äº†ã€‚å›å¤´å†åˆ·å‡ é“æ•°ç»„é¢˜çœ‹çœ‹ï¼Œä¼°è®¡è¿˜æ˜¯æˆ‘åˆ·é¢˜åˆ·å°‘äº†ã€‚\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-07-13T14:16:00.000Z",
        "date": "2023-07-13",
        "type": "Post",
        "slug": "leetcode-day-2",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-10-01T08:01:00.000Z",
        "title": "ã€ä»£ç éšæƒ³å½•ã€‘ç®—æ³•è®­ç»ƒè¥ç¬¬2å¤©",
        "category": "ç®—æ³•åˆ·é¢˜",
        "tags": [
          "ç®—æ³•è®­ç»ƒè¥",
          "æ•°ç»„ä¸“é¢˜"
        ],
        "status": "Invisible",
        "urlname": "86181a01-bf90-440b-876f-93e680ed7f92",
        "updated": "2023-10-01 08:01:00"
      },
      "body": "",
      "realName": "ã€ä»£ç éšæƒ³å½•ã€‘ç®—æ³•è®­ç»ƒè¥ç¬¬2å¤©",
      "relativePath": "/ã€ä»£ç éšæƒ³å½•ã€‘ç®—æ³•è®­ç»ƒè¥ç¬¬2å¤©.md"
    },
    {
      "id": "dff5c177-a377-4ba9-9924-54113ce1ec5e",
      "doc_id": "dff5c177-a377-4ba9-9924-54113ce1ec5e",
      "updated": 1689003180000,
      "body_original": "\n## æ€è€ƒ\n\n\næ¯å‘¨æ–°è®¤çŸ¥ã€æ–°æ€è€ƒâ€¦\n\n\n## æ–‡ç« \n\n\nè¿™é‡Œæ˜¯å½“å‘¨æ‘˜å½•çš„ä»£ç ä¹‹å¤–çš„ä¼˜è´¨å¥½æ–‡â€¦\n\n\n## æ‚è°ˆ\n\n\nä¸€äº›æœ‰è¶£/ä»¤äººæ·±æ€çš„è¨€è®º\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-07-10T15:33:00.000Z",
        "date": "2023-07-10 15:33:00",
        "type": "Post",
        "slug": "beyond-code-2023-w28",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-07-10T15:33:00.000Z",
        "title": "ä»£ç ä¹‹å¤– 2023-W28",
        "category": "ä»£ç ä¹‹å¤–",
        "tags": [],
        "status": "Draft",
        "urlname": "dff5c177-a377-4ba9-9924-54113ce1ec5e",
        "updated": "2023-07-10 15:33:00"
      },
      "body": "",
      "realName": "ä»£ç ä¹‹å¤– 2023-W28",
      "relativePath": "/ä»£ç ä¹‹å¤– 2023-W28.md"
    },
    {
      "id": "a0d6553b-62bf-4019-8aa9-4219242f7b9a",
      "doc_id": "a0d6553b-62bf-4019-8aa9-4219242f7b9a",
      "updated": 1690299060000,
      "body_original": "\n> ğŸ’¡ 1. ä»Šæ—¥å­¦ä¹ çš„æ–‡ç« é“¾æ¥å’Œè§†é¢‘é“¾æ¥  \n> 2. è‡ªå·±çœ‹åˆ°é¢˜ç›®çš„ç¬¬ä¸€æƒ³æ³•  \n> 3. çœ‹å®Œä»£ç éšæƒ³å½•ä¹‹åçš„æƒ³æ³•  \n> 4. è‡ªå·±å®ç°è¿‡ç¨‹ä¸­é‡åˆ°å“ªäº›å›°éš¾  \n> 5. ä»Šæ—¥æ”¶è·ï¼Œè®°å½•ä¸€ä¸‹è‡ªå·±çš„å­¦ä¹ æ—¶é•¿\n\n\n## é¢˜ç›®é“¾æ¥\n\n\n## è§£é¢˜æ€è·¯\n\n\n## é¢˜è§£\n\n\n## æ”¶è·\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-07-14T10:17:00.000Z",
        "date": "2023-07-14",
        "type": "Post",
        "slug": "leetcode-day-3",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-07-25T15:31:00.000Z",
        "title": "ã€ä»£ç éšæƒ³å½•ã€‘ç®—æ³•è®­ç»ƒè¥ç¬¬3å¤©",
        "category": "ç®—æ³•åˆ·é¢˜",
        "tags": [
          "ç®—æ³•è®­ç»ƒè¥"
        ],
        "status": "Invisible",
        "urlname": "a0d6553b-62bf-4019-8aa9-4219242f7b9a",
        "updated": "2023-07-25 15:31:00"
      },
      "body": "",
      "realName": "ã€ä»£ç éšæƒ³å½•ã€‘ç®—æ³•è®­ç»ƒè¥ç¬¬3å¤©",
      "relativePath": "/ã€ä»£ç éšæƒ³å½•ã€‘ç®—æ³•è®­ç»ƒè¥ç¬¬3å¤©.md"
    },
    {
      "id": "346c9ff0-8751-4367-9d60-a88c2fff08b4",
      "doc_id": "346c9ff0-8751-4367-9d60-a88c2fff08b4",
      "updated": 1689001800000,
      "body_original": "\n## å¼€æºå·¥å…·\n\n\nè¿™é‡Œæ˜¯å½“æœˆå‘ç°çš„æœ‰è¶£ã€æœ‰ç”¨çš„å¼€æºé¡¹ç›®â€¦\n\n\n### Elog\n\n\n[https://elog.1874.cool](https://elog.1874.cool/)\n\n\n> å¼€æ”¾å¼è·¨å¹³å°åšå®¢è§£å†³æ–¹æ¡ˆ\n\n\n![](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/34429141-438f-441e-b26b-fd08f019754f/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230927%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20230927T015952Z&X-Amz-Expires=3600&X-Amz-Signature=72d48db7211b3667666f4c037f43d0dd0f4a9c2ca46f77117c74287a9f90972b&X-Amz-SignedHeaders=host&x-id=GetObject)\n\n\n## æŠ€æœ¯æ–°è§†ç•Œ\n\n\nè¿™é‡Œæ˜¯å½“æœˆå‘ç°çš„å‰å“¨æŠ€æœ¯ç‚¹\n\n\n## æŠ€æœ¯æ–¹æ¡ˆ\n\n\nè¿™é‡Œæ˜¯å½“æœˆå‘ç°çš„æœ‰ç”¨çš„æŠ€æœ¯æ–¹æ¡ˆâ€¦\n\n\n## æŠ€æœ¯å¥½æ–‡\n\n\nè¿™é‡Œæ˜¯å½“æœˆå‘å¸ƒæ‘˜å½•çš„æŠ€æœ¯åŸç†ä¹‹ç±»çš„ä¼˜è´¨æ–‡ç« â€¦\n\n\n## æŠ€æœ¯å‘¨è¾¹\n\n\nè¿™é‡Œæ˜¯å½“æœˆå‘ç°çš„æœ‰è¶£ã€æœ‰ç”¨çš„æŠ€æœ¯â€œè¾¹ç•Œä¸Šâ€çš„å·¥å…·ã€èµ„æºâ€¦\n\n\n## æ€è€ƒ&æ‚è°ˆ\n\n\nä¸€äº›æŠ€æœ¯åœˆå†…(ç›¸å…³çš„)çš„è¯é¢˜ã€çœ‹æ³•ã€æ€è€ƒ\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-07-10T14:49:00.000Z",
        "date": "2023-07-10",
        "type": "Post",
        "slug": "weekly-2023-w28",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-07-10T15:10:00.000Z",
        "title": "æŠ€æœ¯å‘¨åˆŠ 2023-W28",
        "category": "æŠ€æœ¯å‘¨åˆŠ",
        "tags": [],
        "status": "Draft",
        "urlname": "346c9ff0-8751-4367-9d60-a88c2fff08b4",
        "updated": "2023-07-10 15:10:00"
      },
      "body": "",
      "realName": "æŠ€æœ¯å‘¨åˆŠ 2023-W28",
      "relativePath": "/æŠ€æœ¯å‘¨åˆŠ 2023-W28.md"
    },
    {
      "id": "4296105d-56f7-4dc7-be6a-ac69ba786d50",
      "doc_id": "4296105d-56f7-4dc7-be6a-ac69ba786d50",
      "updated": 1688994900000,
      "body_original": "\n# Why Notion ?\n\n\nè¿™æ˜¯æˆ‘ç¬¬ä¸‰æ¬¡è¿›è¡Œåšå®¢çš„è¿ç§»äº†ï¼\n\n\nåŸæœ¬çš„åšå®¢æ˜¯åŸºäº[è¯­é›€](https://www.yuque.com/) äº‘ç«¯ä¹¦å†™ + è¯­é›€ webhook + è‡ªå»ºNode APIæœåŠ¡ + [yuqe-hexo-with-cdn](https://github.com/LetTTGACO/yuque-hexo-with-cdn) + [Hexo](https://hexo.io/) + Github Actions æŒç»­é›†æˆéƒ¨ç½²åˆ°è…¾è®¯äº‘COSé™æ€ç½‘ç«™ä¸Šã€‚\n\n\nç°åœ¨æ˜¯åŸºäº [Notion](https://www.notion.so/zh-cn) + [NotionNext](https://tangly1024.com/article/notion-next) æŒç»­é›†æˆéƒ¨ç½²åˆ° [Vercel](https://vercel.com/) ä¸Šã€‚\n\n\næœ¬äººæ¥è§¦Notionæœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œä½†æ˜¯ä¸€ç›´æ²¡æ€ä¹ˆç”¨èµ·æ¥ï¼ŒåŸå› æœ‰ä¸‰\n\n- å½“æ—¶ä»¥ä¸ºæ²¡æœ‰ä¸­æ–‡\n- è¯­é›€çš„å†™ä½œèˆ’é€‚æ„Ÿè¦æ›´å¥½ä¸€ç‚¹\n- è¿˜æ²¡æ„Ÿå—åˆ°Notionçš„å¼ºå¤§\n\nåœ¨ç”¨äº†2å¹´æ—¶é—´è¯­é›€ä¹‹åï¼Œè¯­é›€çš„äº§å“ç­–ç•¥è¶Šæ¥è¶Šç¦»è°±ï¼Œå„ç§æ”¶è´¹å‰²éŸ­èœã€‚å†åŠ ä¸Šä¹‹å‰ä¸€æ®µæ—¶é—´å¼€å‘ Elog å¯¹æ¥è¯­é›€å’Œ Notion çš„ Api æ—¶ï¼Œå‘ç° Notion åŸæ¥è¿™ä¹ˆå¥½ç”¨ã€‚\n\n- Notion çš„ Properties å¤©ç„¶å¯¹Apiå¾ˆå‹å¥½ã€‚å†ä¹Ÿä¸ç”¨åœ¨è¯­é›€çš„æ–‡ç« å¤´éƒ¨æ‰‹åŠ¨æ·»åŠ  Front-Matterã€‚\n- Notion çš„ç­›é€‰å’Œæ’åºå¯¹äºç»Ÿä¸€åˆ†ç±»ç®¡ç†æ–‡ç« å¾ˆæ–¹ä¾¿\n- Notion AI æ°¸è¿œçš„ç¥ã€‚ChatGPT ç«èµ·æ¥ä¹‹åï¼Œå¯¹äº Notion è¿™ç§å†™ä½œå·¥å…·æ¥è¯´ç®€ç›´æ˜¯é”¦ä¸Šæ·»èŠ±ã€‚ç”¨æ¥å¸®å¿™å†™æ€»ç»“ï¼Œå†™æŠ€æœ¯æ–¹ä¾¿ï¼Œä¿®æ­£æ–‡ç« æ ¼å¼ç­‰ç­‰ã€‚è™½ç„¶ç°åœ¨è¿˜æ˜¯æœ‰å¾ˆå¤šèƒ½åŠ›æ²¡æœ‰æ·±åº¦ç»‘å®šï¼Œä½†æ˜¯å·²ç»è¶³å¤Ÿå¥½ç”¨äº†ï¼åç­‰å®˜æ–¹æ›´æ–°ï¼\n- æ‰¾åˆ°ä¸­æ–‡æ’ä»¶äº†ï¼Œå…¶å®ç”¨ä¹ æƒ¯ä¹‹åï¼Œæ˜¯ä¸æ˜¯ä¸­æ–‡ä¹Ÿæ²¡é‚£ä¹ˆé‡è¦äº†ã€‚ä¸è¿‡ä¸€ä¸ªæœ‰ä¸­æ–‡çš„è¯ä¼šè®©å°ç™½ç”¨æˆ·æ›´å¿«çš„çˆ±ä¸Š Notion\n\n# Why NotionNext ?\n\n\nå…¶å®ä¸€å¼€å§‹æ˜¯å‡†å¤‡ç”¨æˆ‘è‡ªå·±çš„ [Elog](https://elog.1874.cool/) å·¥å…·æ¥å°† Notion æ–‡æ¡£åŒæ­¥åˆ°åšå®¢å¹³å°ã€‚åœ¨æ— æ„é—´å‘ç°äº† [NotionNext](https://tangly1024.com/article/notion-next) ï¼Œéƒ¨ç½²ç®€å•ï¼Œå¯¹äº Notion çš„æ ¼å¼æ”¯æŒåº¦éå¸¸é«˜ï¼Œæ‰€ä»¥æˆ‘æ‰é€‰æ‹©äº†å®ƒã€‚\n\n\nä¸å¾—ä¸è¯´ï¼ŒNotionNext å¯¹äºæˆ‘çš„ Elog åœ¨ Notion çš„å‘å±•æ˜¯ä¸€ä¸ªä¸å°çš„æ‰“å‡»ï¼ŒElog å®Œå…¨æ²¡æœ‰ä¼˜åŠ¿ã€‚ä¸è¿‡è¿™ä¹Ÿè®©æˆ‘çœ‹åˆ°äº†æˆ‘çš„ Elog çš„æœªæ¥çš„å‘å±•æ–¹å‘ã€‚\n\n\né€šè¿‡æ·±å…¥ NotionNext çš„ç ”ç©¶ï¼Œå‘ç°å¤§å®¶éƒ½é€ƒä¸è¿‡ç¼åˆæ€ªã€‚Notionç¤¾åŒºç”Ÿæ€çš„å¼ºå¤§å®Œå…¨å¯ä»¥é€ å°±ä¸€ä¸ªåˆä¸€ä¸ªçš„ ç±» NotionNextï¼Œæ‰€ä»¥æˆ‘ä¹Ÿç›¸ä¿¡æˆ‘çš„ Elog åœ¨ä¸ä¹…åä¹Ÿèƒ½æˆä¸ºä¸€ä¸ªä¼˜ç§€çš„åšå®¢åŒæ­¥å·¥å…·ã€‚\n\n\næ­£å¦‚æˆ‘çš„ Elog ä»‹ç»\n\n\n> Elog: å¼€æ”¾å¼è·¨å¹³å°åšå®¢è§£å†³æ–¹æ¡ˆï¼Œéšæ„ç»„åˆå†™ä½œå¹³å°(è¯­é›€/Notion)å’Œéƒ¨ç½²å¹³å°(Hexo/Vitepress/HuGo/Confluence)ç­‰\n\n\nElog ç”Ÿæ€å°†æ˜¯æˆ‘æœªæ¥çš„å¼ºå¤§ä¼˜åŠ¿ï¼\n\n\n# è¿ç§»ä¸­é‡åˆ°çš„çš„é—®é¢˜\n\n\n## Notion å¯¹äº markdown çš„å¯¼å…¥è¿˜æ²¡æœ‰å¾ˆå®Œç¾\n\n\nå…¶å®å·²ç»å¾ˆå¥½äº†ï¼Œå°±æ˜¯æœ‰å‡ ä¸ªå°é—®é¢˜\n\n1. Notion æ²¡èƒ½å®Œå…¨åŒºåˆ†è¡Œå†…ä»£ç å—å’Œä»£ç å—\n\næœ‰æ—¶å€™ä¼šæŠŠè¡Œå†…ä»£ç å—è¯†åˆ«ä¸ºä»£ç å—ï¼Œé€ æˆä¸å¿…è¦çš„æ¢è¡Œå’Œæ ¼å¼é”™ä¹±ã€‚æˆ‘å¯¼å…¥çš„60å¤šç¯‡æ–‡æ¡£ï¼Œä¸€å¤§åŠéƒ½æœ‰è¿™ä¸ªé—®é¢˜ï¼Œå¥½åœ¨æœ‰ Notion Ai çš„å¸®åŠ©ï¼Œæ‰è®©æˆ‘ä¸é‚£ä¹ˆç—›è‹¦çš„æ‰‹åŠ¨è°ƒæ•´æ ¼å¼ã€‚\n\n1. Notion å¯¹äºä»£ç å—çš„è¯­è¨€è¯†åˆ«ä¸å¤Ÿå®Œå–„\n\nå¯¹äºå¸¸è§çš„ `TypeScript` å’Œ `JavaScript` æ²¡èƒ½å®Œå…¨è¯†åˆ«å‡ºæ¥ï¼Œå¯¼è‡´ä»£ç çš„æ ¼å¼åŒ–å‡ºç°é—®é¢˜ï¼Œä»£ç å°‘äº†æ¢è¡Œï¼Œå…¨éƒ¨å †ç§¯åœ¨ä¸€èµ·ã€‚è€Œä¸” Notion Ai  å¤„ç†å®ƒçš„é€Ÿåº¦ä¹Ÿæ¯”è¾ƒæ…¢ï¼Œä¸å¦‚æˆ‘æ‰‹åŠ¨æŒ‰ç…§åŸæ–‡æ¡£å¤åˆ¶ç²˜è´´æ¥å¾—å¿«ã€‚\n\n\nè€Œä¸”å¤„ç†ä¹‹åçš„æ–‡æ¡£åœ¨åŒæ­¥åˆ°åˆ«çš„å·¥ä½œåŒºä¹Ÿä¼šä¸¢å¤±ä¸€éƒ¨ä»½çš„ä»£ç å—çš„è¯­è¨€è¯†åˆ«å’Œæ ¼å¼åŒ–ï¼Œè¿™è®©æˆ‘æœ‰ç‚¹å¤´ç—›ï¼Œå¥½åœ¨åªæ˜¯ä¸€æ¬¡æ€§çš„å·¥ä½œé‡â€¦â€¦\n\n\n## NotionNext è™½å¼ºå¤§ä½†ä¹Ÿè¿˜æœ‰å°ç‘•ç–µ\n\n1. NotionNext ä¸æ”¯æŒ `Internal integration token`\n\nNotionNext æ˜¯åŸºäºå…¬å¼€åˆ†äº«çš„é¡µé¢æ¥å®æ—¶è·å– Notion Database ä¸­çš„æ•°æ®ï¼Œè¿™æ„å‘³ç€ä½ çš„ Notion æ•°æ®æºè¢«å®Œå…¨å…¬å¼€äº†ï¼Œç”¨æˆ·æœ‰å¯èƒ½é€šè¿‡ `Page Id`æ‰¾åˆ°ä½ çš„åšå®¢æºæ•°æ®ï¼Œè€Œä¸€äº›ä½ ä¸æƒ³è¢«åˆ†äº«çš„æ–‡ç« æˆ–è€…æ•°æ®å°±æš´éœ²äº†ã€‚\n\n\nè™½ç„¶å®˜æ–¹ç»™å‡ºçš„æ–¹æ¡ˆæ˜¯ å¯ä»¥ä½¿ç”¨ cookie ä¸­çš„ `auth_token`ï¼Œä½†æ˜¯å®ƒæ˜¯æœ‰æœ‰æ•ˆæœŸçš„ã€‚è€Œä¸”ç»è¿‡æˆ‘çš„å®æµ‹ï¼Œ`auth_token`å­˜åœ¨å¹¶å‘é—®é¢˜ï¼šNotionNext ä¼šåœ¨çŸ­æ—¶é—´å†…è¯·æ±‚å¾ˆå¤šæ¬¡APIã€‚åœ¨æˆ‘60æ¥ç¯‡æ–‡æ¡£çš„éƒ¨ç½²è¿‡ç¨‹ä¸­å°±å‡ºç°äº†è¯·æ±‚æ¬¡æ•°è¿‡å¤šçš„é”™è¯¯ï¼Œæ‰€ä»¥æˆ‘æš‚æ—¶è¿˜æ˜¯ç”¨çš„å…¬å¼€çš„é¡µé¢æ¥éƒ¨ç½²ã€‚\n\n\nä¸è¿‡è¯è¯´å›æ¥ï¼Œæ—¢ç„¶éƒ¨ç½²åˆ°åšå®¢éƒ½èƒ½å…¬å¼€ï¼Œé‚£è¿™ä¸ªæ•°æ®åº“é‡Œé¢çš„æ–‡æ¡£å…¶å®è¢«çœ‹åˆ°ä¹Ÿæ— æ‰€è°“å•¦ï½\n\n\nè¯è™½å¦‚æ­¤ï¼Œæˆ‘è¿˜æ˜¯å¯»æ±‚è¿‡è§£å†³æ–¹æ¡ˆï¼Œå› ä¸ºæˆ‘çš„ Elog å°±æ˜¯åŸºäº `Notion Internal integration token` æ¥éƒ¨ç½²çš„ï¼ˆæ‰€ä»¥ Elog çš„åŠŸèƒ½å¾ˆæœ‰é™ï¼‰ã€‚æˆ‘å°è¯•è¿‡æ”¹åŠ¨ Notion Next ä¸­çš„ç›¸å…³API æ¥æ”¯æŒå®ƒï¼Œç»“æœå¾—åˆ°çš„ç­”æ¡ˆæ˜¯ï¼ŒNotionNext æ‰€ä½¿ç”¨çš„ [react-notion-x](https://github.com/NotionX/react-notion-x) åº“ä¸æ˜¯åŸºäºå®˜æ–¹APIæ¥å¼€å‘çš„ã€‚\n\n\næ­£å¦‚ [react-notion-x](https://github.com/NotionX/react-notion-x) ä¸­ [Why use notion-client over @notionhq/client? ](https://github.com/NotionX/react-notion-x/issues/457)æ‰€æè¿°çš„é‚£æ ·\n\n\n> `notion-client`åœ¨å®˜æ–¹å®¢æˆ·ç«¯å‘å¸ƒä¹‹å‰å°±å‡ºç°äº†ï¼Œå®˜æ–¹å®¢æˆ·ç«¯ä¸æ”¯æŒæ‰€æœ‰å—ç±»å‹å¹¶ä¸”ç”±äºæŸç§åŸå› æ•ˆç‡æä½ã€‚æ›´å¤šç»†èŠ‚åœ¨[è¿™é‡Œ](https://github.com/NotionX/react-notion-x/tree/master/packages/notion-compat)\n\n\n`Notion Internal integration token` æ˜¯å®˜æ–¹ API æ‰€æä¾›çš„ä»¤ç‰Œï¼Œè€Œå®˜æ–¹ API [@notionhq/client](https://github.com/makenotion/notion-sdk-js) æ— æ³•æ”¯æŒæ‰€æœ‰ç°æœ‰çš„ Notion åŠŸèƒ½æ¨¡å—ï¼Œæ‰€ä»¥éœ€è¦ç­‰å®˜æ–¹ API å®Œå–„äº†æ‰èƒ½ä½¿ç”¨å®ƒã€‚\n\n1. NotionNext ä¸æ˜¯å¾ˆç¨³å®š\n\nNotionNext éƒ¨ç½²çš„åšå®¢ï¼Œæµè§ˆå™¨æ§åˆ¶å°ä¼šå‡ºç°å¾ˆå¤šæŠ¥é”™ã€‚å¤§éƒ¨åˆ†éƒ½æ˜¯ä½¿ç”¨ React/NextJs ä¸æ ‡å‡†å¯¼è‡´çš„ï¼Œå½“ç„¶å®ƒä¹Ÿå­˜åœ¨æ€§èƒ½é—®é¢˜ï¼Œæˆ‘èƒ½æ„Ÿè§‰åˆ°ä»–è°ƒç”¨äº†å¾ˆå¤šä¸å¿…è¦çš„ API ã€‚å¥½åœ¨æœ‰ç¼“å­˜ï¼Œå¯¼è‡´çº¿ä¸Šé—®é¢˜ä¸é‚£ä¹ˆæ˜æ˜¾ã€‚\n\n\nè¿˜æœ‰ä¸€äº› UIã€è·¯ç”±ã€ç½‘ç«™é…ç½®ç­‰å°é—®é¢˜éœ€è¦ä½œè€…å»è§£å†³ï¼Œä¸è¿‡å½“ä¸‹æœ€å¥½çš„åŠæ³•å½“ç„¶æ˜¯è‡ªå·±ä¿®å¤å®ƒã€‚æˆ‘å·²ç»ä¿®å¤äº†ä¸€äº›çœ‹èµ·æ¥æ¯”è¾ƒæ˜æ˜¾çš„é—®é¢˜ï¼Œè¿˜æœ‰ä¸€äº›éœ€è¦æ¥ä¸‹æ¥ä¸€å°æ®µæ—¶é—´å»è§£å†³å®ƒã€‚å½“ç„¶ï¼Œå¦‚æœèƒ½å‚ä¸ NotionNext çš„å¼€å‘çš„è¯ä¼šæ›´å¥½ã€‚\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-09T18:39:00.000Z",
        "date": "2023-04-10",
        "type": "Post",
        "slug": "migrate-blog-to-notion",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "åšå®¢è¿ç§»è®°å½•",
        "æ›´æ–°æ—¶é—´": "2023-07-10T13:15:00.000Z",
        "title": "è¿ç§»åšå®¢åˆ° Notion",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Notion"
        ],
        "status": "Published",
        "urlname": "4296105d-56f7-4dc7-be6a-ac69ba786d50",
        "updated": "2023-07-10 13:15:00"
      },
      "body": "",
      "realName": "è¿ç§»åšå®¢åˆ° Notion",
      "relativePath": "/è¿ç§»åšå®¢åˆ° Notion.md"
    },
    {
      "id": "335ae226-1802-4706-98b5-2a09bde056a1",
      "doc_id": "335ae226-1802-4706-98b5-2a09bde056a1",
      "updated": 1685550180000,
      "body_original": "\n# å¼•è¨€\n\n\nè¿™ç¯‡æ–‡ç« æˆ‘å…¶å®æœ€æƒ³è§£å†³çš„æ˜¯ã€å¦‚ä½•ç®€å•å¿«é€Ÿæ‰“é€ ä¸€ä¸ªèƒ½åŒæ—¶å¯¼å‡º`cjs`å’Œ`esm`çš„`npm`åŒ…ã€‘ã€‚åœ¨çœ‹äº†ç½‘ä¸Šçš„å„ç§æ•™ç¨‹ï¼Œéƒ½æ²¡æˆ‘æƒ³è¦çš„ã€‚è¦ä¹ˆå°±æ˜¯åˆ©ç”¨`rollup`æ¥æ„å»ºï¼Œä½†æ˜¯é…ç½®é—®é¢˜å’Œå…¼å®¹æ€§é—®é¢˜åˆå¾ˆæ£˜æ‰‹ã€‚æœ€åæ˜¯åœ¨çœ‹äº†[typedi](https://github.com/typestack/typedi)çš„ä»£ç ä»“åº“ï¼Œå‘ç°å¾ˆé€‚åˆæˆ‘ï¼Œå°±å€Ÿé‰´è¿‡æ¥äº†ã€‚ å› ä¸ºæˆ‘çš„`npm`åŒ…æ˜¯åœ¨`node`ç«¯ä½¿ç”¨çš„ï¼Œæ‰€ä»¥åªéœ€è¦`cjs`å’Œ esm`ç±»å‹`çš„åŒ…å°±è¡Œï¼Œè€Œ`ts-node`å°±åˆšåˆšå¥½èƒ½æ»¡è¶³æˆ‘çš„éœ€æ±‚ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿæ²¡æœ‰ä½¿ç”¨å…¶ä»–æ„å»ºå·¥å…·ã€‚\n\n\n# é…ç½®\n\n\n## ç›®å½•\n\n\né¡¹ç›®å…³é”®æ–‡ä»¶å¦‚ä¸‹ï¼š\n\n\n```text\nnode-agile-client\n|--.github\n|  |--workflows\n|  |\t|--cd.yml\n|--build\n|  |--cjs\n|  |\t|--index.js\n|  |--esm5\n|  |\t|--index.js\n|  |--types\n|  |\t|--index.d.ts\n|  |--package.json\n|--src\n|  |--index.ts  \n|--package.json\n|--tsconfig.json\n|--tsconfig.esm5.json\n|--tsconfig.cjs.json\n|--tsconfig.types.json\n```\n\n- .githubï¼šgithub actions é…ç½®æ–‡ä»¶\n- buildï¼šæ–‡ä»¶å¤¹æ˜¯æ‰“åŒ…åçš„äº§ç‰©ï¼Œä¹Ÿæ˜¯å‘ä¸åˆ° npm ä¸Šçš„æ–‡ä»¶å¤¹ï¼Œä»“åº“ src çš„æ–‡ä»¶æ˜¯ä¸ä¼šä¸Šä¼ åˆ° npm çš„\n\t- cjsï¼šCommonJS æ¨¡å—çš„ä»£ç \n\t- esm5ï¼šES Modules æ¨¡å—çš„ä»£ç \n\t- typesï¼šç±»å‹å£°æ˜æ–‡ä»¶\n\t- package.jsonï¼šå¯¹ npm åŒ…çš„å®šä¹‰è¯´æ˜\n- srcï¼šé¡¹ç›®æ–‡ä»¶ä»£ç \n- package.jsonï¼šå¯¹é¡¹ç›®æ–‡ä»¶çš„å®šä¹‰è¯´æ˜åŠå‘½ä»¤è¡Œæ“ä½œ\n- tsconfig.jsonï¼šts ç¼–è¯‘é…ç½®ä¸»ä½“æ–‡ä»¶\n- tsconfig.esm5.jsonï¼šç¼–è¯‘æˆ ems5 çš„ç¼–è¯‘é…ç½®\n- tsconfig.cjs.jsonï¼šç¼–è¯‘æˆ cjs çš„ç¼–è¯‘é…ç½®\n- tsconfig.types.jsonï¼šç¼–è¯‘æˆç±»å‹å£°æ˜æ–‡ä»¶çš„ç¼–è¯‘é…ç½®\n\n## package.json\n\n\nè¿™æ˜¯ä¸€ä»½æœ€ç»ˆé…ç½®ï¼Œå…·ä½“ä»£ç ï¼š[node-agile-client](https://github.com/LetTTGACO/node-agile-client)\n\n\n```json\n{\n  \"name\": \"node-agile-client\",\n  \"version\": \"0.0.3\",\n  \"description\": \"AgileConfigçš„nodeå®¢æˆ·ç«¯\",\n  \"main\": \"./cjs/index.js\",\n  \"module\": \"./esm5/index.js\",\n  \"typings\": \"./types/index.d.ts\",\n  \"scripts\": {\n    \"prebuild\": \"rimraf build\",\n    \"build\": \"npm run build:cjs && npm run build:esm5 && npm run build:types\",\n    \"build:esm5\": \"tsc --project tsconfig.esm5.json\",\n    \"build:cjs\": \"tsc --project tsconfig.cjs.json\",\n    \"build:types\": \"tsc --project tsconfig.types.json\",\n    \"postbuild\": \"cp LICENSE build/LICENSE && cp README.md build/README.md && cp package.json build/package.json\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git+https://github.com/LetTTGACO/node-agile-client.git\"\n  },\n  \"tags\": [\n    \"agile\"\n  ],\n  \"keywords\": [\n    \"é…ç½®ä¸­å¿ƒ\"\n  ],\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"bugs\": {\n    \"url\": \"https://github.com/LetTTGACO/node-agile-client/issues\"\n  },\n  \"homepage\": \"https://github.com/LetTTGACO/node-agile-client#readme\",\n  \"dependencies\": {\n    \"axios\": \"^0.26.1\",\n    \"fs-extra\": \"^10.1.0\",\n    \"md5\": \"^2.3.0\",\n    \"path\": \"^0.12.7\",\n    \"ws\": \"^8.5.0\"\n  },\n  \"devDependencies\": {\n    \"@types/fs-extra\": \"^9.0.13\",\n    \"@types/md5\": \"^2.3.2\",\n    \"@types/ws\": \"^8.5.3\",\n    \"rimraf\": \"^3.0.2\",\n    \"ts-node\": \"^10.8.1\",\n    \"typescript\": \"^4.7.4\"\n  }\n}\n```\n\n\nå› ä¸ºè¿™ä¸ª`package.json`æœ€åä¼šè¢«æ‹·è´åˆ°`build`æ–‡ä»¶å¤¹ä¸­å»ï¼Œæ‰€ä»¥ä»¥ä¸‹é…ç½®éƒ½æ˜¯åŸºäº`build`ç›®å½•ä¸‹çš„é…ç½®é€‰é¡¹\n\n\n| å…³é”®å‚æ•°    | å€¼                  | å¤‡æ³¨             |\n| ------- | ------------------ | -------------- |\n| main    | ./cjs/index.js     | commonjs çš„å…¥å£æ–‡ä»¶ |\n| module  | ./esm5/index.js    | esmodule çš„å…¥å£æ–‡ä»¶ |\n| typings | ./types/index.d.ts | ç±»å‹å£°æ˜çš„å…¥å£æ–‡ä»¶      |\n\n\n## tsconfig.json\n\n\n```json\n{\n  \"compilerOptions\": {\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"target\": \"es2018\",\n    \"lib\": [\"es2018\"],\n    \"outDir\": \"build/node\",\n    \"rootDirs\": [\"./src\"],\n    \"strict\": true,\n    \"sourceMap\": true,\n    \"inlineSources\": true,\n    \"removeComments\": false,\n    \"esModuleInterop\": true,\n    \"experimentalDecorators\": true,\n    \"emitDecoratorMetadata\": true,\n    \"forceConsistentCasingInFileNames\": true\n  },\n  \"exclude\": [\"build\", \"node_modules\", \"sample\", \"**/*.spec.ts\", \"test/**\"]\n}\n```\n\n\n## tsconfig.cjs.json\n\n\n```json\n{\n  \"extends\": \"./tsconfig.json\",\n  \"compilerOptions\": {\n    \"module\": \"CommonJS\",\n    \"outDir\": \"build/cjs\"\n  },\n}\n```\n\n\n## tsconfig.esm5.json\n\n\n```json\n{\n  \"extends\": \"./tsconfig.json\",\n  \"compilerOptions\": {\n    \"module\": \"ES2015\",\n    \"target\": \"ES5\",\n    \"outDir\": \"build/esm5\",\n  },\n}\n```\n\n\n## tsconfig.types.json\n\n\n```json\n{\n  \"extends\": \"./tsconfig.json\",\n  \"compilerOptions\": {\n    \"declaration\": true,\n    \"emitDeclarationOnly\": true,\n    \"outDir\": \"build/types\",\n  },\n}\n```\n\n\n# è‡ªåŠ¨åŒ–å‘å¸ƒ\n\n\nåœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»º`.github/workflows/cd.yml`ï¼Œå¹¶é…ç½®`github actions`ï¼Œ`secrets.NPM_PUBLISH_TOKEN`éœ€è¦å»`npm`å®˜ç½‘ç”Ÿæˆ`token`å¹¶é…ç½®åˆ°`github`ä»“åº“çš„`Actions secrets`ä¸­ã€‚\n\n\n```yaml\nname: CD\non:\n  release:\n    types: [created]\njobs:\n  publish:\n    name: Publish to NPM\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v2\n      - uses: actions/setup-node@v2\n        with:\n          node-version: 'lts/*'\n          registry-url: https://registry.npmjs.org\n      - run: npm ci --ignore-scripts\n      - run: npm run build:cjs\n      - run: npm run build:esm5\n      - run: npm run build:types\n      - run: cp LICENSE build/LICENSE\n      - run: cp README.md build/README.md\n      - run: jq 'del(.devDependencies) | del(.scripts)' package.json > build/package.json\n      - run: npm publish ./build\n        env:\n          NODE_AUTH_TOKEN: ${{ secrets.NPM_PUBLISH_TOKEN }}\n```\n\n\n# å¤§åŠŸå‘Šæˆï¼\n\n\nç»è¿‡ä»¥ä¸Šé…ç½®ï¼Œå°±å¯ä»¥åœ¨`github`åˆ›å»º`release`ç‰ˆæœ¬æ—¶è§¦å‘`actions`ï¼Œå°†`build`æ–‡ä»¶å¤¹ä¸­çš„å‹ç¼©åŒ…å‘å¸ƒåˆ°`npm`äº†ï¼\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2022-06-23",
        "type": "Post",
        "slug": "qzmpp5",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨Github Actionsè‡ªåŠ¨åŒ–å‘å¸ƒnpmåŒ…ï¼Œä»¥åŠå¦‚ä½•æ‰“é€ ä¸€ä¸ªåŒæ—¶å¯¼å‡ºcjså’Œesmçš„npmåŒ…ã€‚æ–‡ç« è¯¦ç»†ä»‹ç»äº†é…ç½®æ–‡ä»¶çš„ç›®å½•ç»“æ„å’Œå…³é”®å‚æ•°ï¼Œä»¥åŠè‡ªåŠ¨åŒ–å‘å¸ƒçš„å…·ä½“æ­¥éª¤ã€‚",
        "æ›´æ–°æ—¶é—´": "2023-05-31T16:23:00.000Z",
        "title": "åˆ©ç”¨github actionsè‡ªåŠ¨åŒ–å‘å¸ƒnpm",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Github Actions",
          "Node"
        ],
        "status": "Published",
        "urlname": "335ae226-1802-4706-98b5-2a09bde056a1",
        "updated": "2023-05-31 16:23:00"
      },
      "body": "",
      "realName": "åˆ©ç”¨github actionsè‡ªåŠ¨åŒ–å‘å¸ƒnpm",
      "relativePath": "/åˆ©ç”¨github actionsè‡ªåŠ¨åŒ–å‘å¸ƒnpm.md"
    },
    {
      "id": "d7b1453e-530d-4614-8d41-c5ac6972e351",
      "doc_id": "d7b1453e-530d-4614-8d41-c5ac6972e351",
      "updated": 1685550180000,
      "body_original": "\n# å¼•è¨€\n\n\nåœ¨ä¹‹å‰çš„æ–‡ç« [è¯­é›€äº‘ç«¯å†™ä½œ Hexo+Github Actions+COS æŒç»­é›†æˆ](https://1874.cool/roeayv) ä¸­ï¼Œè¯­é›€`webhook`è§¦å‘æ„å»ºçš„æµç¨‹å¦‚ä¸‹ï¼š\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FmBBicekAEyyKQlzZSWZxgWjZ0Qn.jpeg)\n\n\nè€Œå½“æ—¶è…¾è®¯äº‘å‡½æ•°å¯¹ä¸ªäººä½¿ç”¨è¿˜æ˜¯åœ¨ä¸€å®šæ¡ä»¶ä¸‹å…è´¹çš„ï¼Œæœ¬ç€èƒ½ç™½å«–å°±ç™½å«–çš„å¿ƒæ€å°±ç”¨å®ƒåšä¸­è½¬æœåŠ¡è°ƒç”¨äº†ã€‚ç»“æœä»ä¸Šä¸ªæœˆå¼€å§‹ï¼Œè…¾è®¯äº‘å‡½æ•°æ¶¨ä»·äº†ï¼Œè€Œä¸”è´¹ç”¨ä¹Ÿä¸ä¾¿å®œï¼Œæˆ‘çœ‹äº†ä¸‹è´¦å•ï¼Œä¸€ä¸ªæœˆå·®ä¸å¤šè¦å¿« 10 å—é’±äº†ï¼Œè¿™æˆ‘å¯å¿ä¸äº†ã€‚ æ‰€ä»¥å°±æ‰“ç®—è‡ªå·±æ­å»ºä¸€ä¸ª`node`æœåŠ¡ï¼Œè‡ªå·±è°ƒç”¨`Github Actions`çš„`API`è§¦å‘æ„å»ºã€‚æµç¨‹å¦‚ä¸‹ï¼š\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FiOZZFrZK2WNImXPudM_Eggi4hCJ.jpeg)\n\n\n# éƒ¨ç½²æµç¨‹\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FpafgH_mmn7S7Xdf2eI_tZuZUpco.jpeg)\n\n\n# æ­å»º Node æœåŠ¡\n\n\næ­å»ºè®°å½•è¯·çœ‹[Midway é¡¹ç›®æ­å»º](https://1874.cool/zbbxv0)\n\n\n# å¼€é€šè…¾è®¯äº‘å®¹å™¨é•œåƒæœåŠ¡ï¼ˆå¯é€‰ï¼‰\n\n\nç›®å‰è…¾è®¯äº‘å®¹å™¨é•œåƒæœåŠ¡å¯¹ä¸ªäººè¿˜æ˜¯å…è´¹çš„ï¼Œæˆ‘å°±å…ˆç”¨è¿™ä¸ªï¼Œä¸å…è´¹äº†å†è¯´ã€‚ä¹Ÿå¯ä»¥ç›´æ¥æ¨é€åˆ°`Docker Hub`\n\n\n> å®æ“è¿‡ç¨‹ä¸­å‘ç°ï¼šç”±äº Github Actions ä½¿ç”¨çš„æœºå™¨éƒ½æ˜¯ç¾å›½çš„ï¼Œæ‰€ä»¥é€‰æ‹©åœ¨é¦™æ¸¯/æµ·å¤–æ–°å»ºä¼šå¿«å¾ˆå¤šå¾ˆå¤šï¼\n\n\n\t![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fi5ZyPntP28VPpJP66tQDzSirGxn.png)\n\n\nå…·ä½“å¼€é€šæµç¨‹å’Œå¿«é€Ÿå…¥é—¨è¯·ç›´æ¥ç§»æ­¥[è…¾è®¯äº‘å®¹å™¨é•œåƒæœåŠ¡ä¸ªäººç‰ˆå¿«é€Ÿå…¥é—¨](https://cloud.tencent.com/document/product/1141/63910)\n\n\n# é…ç½® Github Actions\n\n\n## ç¼–å†™ workflows æµç¨‹\n\n\nåœ¨ Node é¡¹ç›®çš„æ ¹ç›®å½•æ–°å»º`.github/workflows/docker-build-deploy.yml`æ–‡ä»¶\n\n\n```yaml\nname: Docker Image CI & CD\n\non:\n  # åœ¨ç›´æ¥æ¨é€/pråˆ°Masteråˆ†æ”¯æ—¶è§¦å‘\n  push:\n    branches: [ \"master\" ]\n  pull_request:\n    branches: [ \"master\" ]\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - name: æ„å»ºé•œåƒ\n        # é€‰æ‹©æ¨é€åˆ°é¦™æ¸¯çš„é•œåƒä»“åº“ä¼šå¿«å¾ˆå¤š\n        run: docker build --file Dockerfile --tag hkccr.ccs.tencentyun.com/å‘½åç©ºé—´/é•œåƒåç§° .\n      - name: ç™»å½•è…¾è®¯çš„ docker é•œåƒä»“åº“\n        run: echo \"${{ secrets.TENCENT_REGISTRY_PASSWORD }}\" | docker login hkccr.ccs.tencentyun.com --username=ç”¨æˆ·å --password-stdin\n      - name: æŠŠæ„å»ºå¥½çš„é•œåƒæ¨é€åˆ°è…¾è®¯ä»“åº“\n        run: docker push hkccr.ccs.tencentyun.com/å‘½åç©ºé—´/é•œåƒåç§°\n\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - name: åˆå§‹åŒ–sshå¹¶æ‰§è¡Œshå¯åŠ¨é•œåƒ\n        run: |\n          eval $(ssh-agent -s)\n          echo \"${{secrets.SERVER_SSH_PRIV_KEY}}\" > deploy.key\n          mkdir -p ~/.ssh\n          chmod 0600 deploy.key\n          ssh-add deploy.key\n          echo -e \"Host *\\n\\tStrictHostKeyChecking no\\n\\n\" > ~/.ssh/config\n          ssh root@${{secrets.SERVER_IP}} \"cd /home/deploy && sh deploy.sh\"\n    # åœ¨buildç»“æŸåæ‰ä¼šè¿è¡Œdeploy\n    needs: build\n```\n\n\n## Github Secrets\n\n\nä¸Šé¢ yml æ–‡ä»¶ä¸­çš„ `secrets.XXX` æ˜¯ä¸€äº›ç§˜é’¥ï¼Œ`Github` ä¸ºäº†ä¿æŠ¤ä½ çš„ç§˜é’¥ï¼Œæä¾›äº†ä½¿ç”¨å˜é‡çš„åŠæ³•ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»“åº“çš„ `Settings -> Secrets`ä¸­å®šä¹‰å˜é‡ï¼Œç„¶åæŒ‰ç…§ `${{ secrets.XXX }}` çš„æ ¼å¼ï¼Œå³å¯æ‹¿åˆ°å˜é‡å€¼ã€‚\n\n\n## è¿æ¥äº‘æœåŠ¡å™¨\n\n\n`secrets.SERVER_SSH_PRIV_KEY` æ˜¯ç”¨æ¥è®¿é—®è¿œç¨‹æœåŠ¡å™¨çš„ç§é’¥ï¼Œå…·ä½“ï¼š\n\n- åœ¨äº‘æœåŠ¡å™¨ç”Ÿæˆå¯†é’¥å¯¹\n- åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šæ·»åŠ å…¬é’¥ (å°†å…¬é’¥æ·»åŠ åˆ°æœåŠ¡å™¨çš„ ~/.ssh/authorized_keys æ–‡ä»¶ä¸­)\n- åœ¨ Github ä»“åº“è®¾ç½®ç§é’¥ (Settings > Secrets)\n\n`secrets.SERVER_IP` æ˜¯è¿œç¨‹æœåŠ¡å™¨åœ°å€\n\n\n## deploy.sh\n\n\n```shell\n#/bin/bash\ndocker pull hkccr.ccs.tencentyun.com/å‘½åç©ºé—´/é•œåƒåç§°docker stop é•œåƒåç§°docker rm é•œåƒåç§°docker run -d --name é•œåƒåç§° -p 7001:7001 hkccr.ccs.tencentyun.com/å‘½åç©ºé—´/é•œåƒåç§°\n```\n\n\n# é…ç½® DockerFile\n\n\n## Dockerfile\n\n\nåœ¨ Node é¡¹ç›®çš„æ ¹ç›®å½•æ–°å»º`Dockerfile`æ–‡ä»¶\n\n\n```docker\nFROM node:12 AS build\n\nWORKDIR /app\n\nCOPY . .\n\nRUN npm install\n\nRUN npm run build\n\nFROM node:12-alpine\n\nWORKDIR /app\n\nCOPY --from=build /app/dist ./dist\nCOPY --from=build /app/bootstrap.js ./\nCOPY --from=build /app/package.json ./\n\nRUN apk add --no-cache tzdata\n\nENV TZ=\"Asia/Shanghai\"\n# åªå®‰è£…ç”Ÿäº§çš„åŒ…\nRUN npm install --production\n\n# æš´éœ²ç«¯å£å·\nEXPOSE 7001\n# ä½¿ç”¨pm2å¯åŠ¨é¡¹ç›®\nRUN npm install pm2 -g\nCMD [ \"pm2-runtime\", \"npm\", \"--\", \"start\" ]\n```\n\n\nä¸Šè¿°ç›¸å…³çš„ npm å‘½ä»¤éœ€è¦æ ¹æ®è‡ªå·±å®é™…å‘½ä»¤ä¿®æ”¹ã€‚\n\n\n## .dockerignore\n\n\nåœ¨ Node é¡¹ç›®çš„æ ¹ç›®å½•æ–°å»º`.dockerignore`æ–‡ä»¶ï¼Œå¯ä»¥å°†`.gitignore`ä¸­çš„é…ç½®å¤åˆ¶è¿‡å»\n\n\n# Doneï¼\n\n\næ¥ä¸‹æ¥å°±å¯ä»¥æ¨é€ä»£ç åˆ° master åˆ†æ”¯ï¼Œå°±ä¼šè‡ªåŠ¨éƒ¨ç½²é¡¹ç›®äº†ï¼\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FgtBByqByzlP4sMg5Ibn8-8xhuLX.png)\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2022-07-16",
        "type": "Post",
        "slug": "ovugli",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ Github Actions æŒç»­é›†æˆ Docker æ„å»ºå¹¶éƒ¨ç½² Node é¡¹ç›®åˆ°äº‘æœåŠ¡å™¨ã€‚å…·ä½“æµç¨‹åŒ…æ‹¬æ­å»º Node æœåŠ¡ã€å¼€é€šè…¾è®¯äº‘å®¹å™¨é•œåƒæœåŠ¡ã€é…ç½® Github Actionsã€ç¼–å†™ workflows æµç¨‹ã€è¿æ¥äº‘æœåŠ¡å™¨ã€é…ç½® DockerFile ç­‰ã€‚æœ€ç»ˆå®ç°æ¨é€ä»£ç åˆ° master åˆ†æ”¯è‡ªåŠ¨éƒ¨ç½²é¡¹ç›®ã€‚",
        "æ›´æ–°æ—¶é—´": "2023-05-31T16:23:00.000Z",
        "title": "Github ActionsæŒç»­é›†æˆ Dockeræ„å»ºå¹¶éƒ¨ç½²Nodeé¡¹ç›®åˆ°äº‘æœåŠ¡å™¨",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Docker",
          "CI/CD",
          "Node",
          "Github Actions"
        ],
        "status": "Published",
        "urlname": "d7b1453e-530d-4614-8d41-c5ac6972e351",
        "updated": "2023-05-31 16:23:00"
      },
      "body": "",
      "realName": "Github ActionsæŒç»­é›†æˆ Dockeræ„å»ºå¹¶éƒ¨ç½²Nodeé¡¹ç›®åˆ°äº‘æœåŠ¡å™¨",
      "relativePath": "/Github ActionsæŒç»­é›†æˆ Dockeræ„å»ºå¹¶éƒ¨ç½²Nodeé¡¹ç›®åˆ°äº‘æœåŠ¡å™¨.md"
    },
    {
      "id": "f674c03b-a560-4d80-984a-ede9d0ec6d9f",
      "doc_id": "f674c03b-a560-4d80-984a-ede9d0ec6d9f",
      "updated": 1685550180000,
      "body_original": "\n# å¼•è¨€\n\n\nå…¶å®ä¸€å¼€å§‹æ²¡æ‰“ç®—è¦æè¿™ç©æ„å„¿çš„ï¼Œäº‹æƒ…çš„èµ·å› è¿˜å¾—ä»æˆ‘åŒäº‹å¼€å§‹è¯´èµ·ã€‚ åŒäº‹åˆ©ç”¨ç©ºä½™æ—¶é—´ï¼Œå¼€å‘äº†ä¸€æ¬¾è¡¨æƒ…åŒ…å°ç¨‹åºå’Œ Appï¼Œé‡Œé¢æœ‰å„ç§è¡¨æƒ…åŒ…å¯ä»¥ä¸‹è½½ï¼ŒæŒºæœ‰æ„æ€ï¼Œæˆ‘ä¹Ÿæ¨èäº†å…¶ä»–æœ‹å‹ä½¿ç”¨ã€‚\n\n\nç„¶åæˆ‘å°±ç¢ç£¨ç€ä¹Ÿæä¸ªä»€ä¹ˆç©ç©ï¼Œå‰å‡ å¤©æƒ³åˆ°äº†ä¸€ä¸ªç‚¹å­ï¼Œå‡†å¤‡ç€æ‰‹å¼€å‘`Node`æœåŠ¡ç«¯æ—¶ï¼Œæƒ³åˆ°æœ‰ä¸€äº›è¿æ¥å‚æ•°ã€å¯é…ç½®å‚æ•°ã€è´¦å·å¯†ç ä»€ä¹ˆçš„æˆ‘åˆä¸æƒ³å†™æ­»åœ¨ä»£ç é‡Œã€‚å› ä¸ºå…¬å¸ç”¨çš„æ˜¯`Apollo`ï¼Œä¸€äº›å¯é…ç½®çš„å‚æ•°æ˜¯æ”¾åœ¨`Apollo`æ¥ç®¡ç†çš„ã€‚å†åŠ ä¸Šæˆ‘é—®äº†ä¸‹æˆ‘åŒäº‹ï¼Œä»–çš„é¡¹ç›®å°±æ˜¯æŠŠè¿™äº›ä¸œè¥¿å†™æ­»åœ¨ä»£ç é‡Œçš„ï¼Œä»–ä¹Ÿè§‰å¾—å¦‚æœæœ‰ä¸€ä¸ªé…ç½®ä¸­å¿ƒæ¥ç®¡ç†è¿™äº›çš„è¯ä¼šæ–¹ä¾¿å¾ˆå¤šã€‚ \n\n\nä½†æ˜¯`Apollo`è¿‡äºå¤æ‚äº†ï¼Œå¯¹äºæˆ‘è¿™ç§å°é¡¹ç›®æ˜¯æœ‰ç‚¹è¿‡äº†ï¼Œäºæ˜¯åœ¨`Github`æœç´¢ä¸€åœˆä¹‹åï¼Œå¶ç„¶å‘ç°äº†[AgileConfig](https://github.com/dotnetcore/AgileConfig)è¿™ä¸ªè½»é‡çº§çš„é…ç½®ä¸­å¿ƒï¼Œä½†å¯æƒœçš„æ˜¯åªæœ‰`C#`çš„å®¢æˆ·ç«¯ï¼Œå…¶ä»–è¯­è¨€çš„å®¢æˆ·ç«¯éƒ½æ²¡æœ‰ã€‚äºæ˜¯æˆ‘å°±æŠ±ç€è¯•ä¸€è¯•çš„æƒ³æ³•åŠ äº†è¿™ä¸ªé¡¹ç›®çš„ QQ ç¾¤ï¼Œæœç„¶è¿˜æ²¡æœ‰äººå¼€å‘`nodejs`çš„å®¢æˆ·ç«¯ã€‚ äºæ˜¯æˆ‘çš„å…´è¶£å°±æ¥äº†ï¼Œç”±äºæˆ‘ä»¥å‰æœ‰`Java`è¯­è¨€çš„åŸºç¡€ï¼Œæ‰€ä»¥`C#`çš„ä»£ç å‹‰å¼ºèƒ½è¯»æ‡‚ï¼Œæ‰€ä»¥ç»“åˆç€`C#`çš„å®¢æˆ·ç«¯å’Œä¸ç¾¤ä¸»çš„äº¤æµï¼Œç»ˆäºå¼€å‘å‡ºäº†ä¸€ä¸ªç›¸å¯¹ç¨³å®šçš„`nodejs`å®¢æˆ·ç«¯ï¼š[node-agile-client](https://github.com/LetTTGACO/node-agile-client) \n\n\nå°±æ­¤åˆ†äº«ä¸‹æˆ‘çš„å¼€å‘è¿‡ç¨‹å’Œæºç é€»è¾‘ã€‚\n\n\n# å¼€å§‹\n\n\né…ç½®ä¸­å¿ƒå¬èµ·æ¥å¾ˆé«˜å¤§ä¸Šï¼Œå…¶å®è¯´ç™½äº†å°±æ˜¯ä¸€ä¸ªåœ¨çº¿çš„æ•°æ®åº“ï¼Œå®¢æˆ·ç«¯å¯ä»¥é€šè¿‡`http`è¯·æ±‚å»è·å–æŸä¸ªåº”ç”¨åœ¨æŸä¸ªç¯å¢ƒä¸‹çš„`JSON`é…ç½®ã€‚æ‰€ä»¥æˆ‘è¦åšçš„å°±æ˜¯é€šè¿‡`http`è¯·æ±‚æ‹¿æ•°æ®å°±å®Œäº‹ï¼Œå°±æ˜¯å¦‚æ­¤ç®€å•ã€‚\n\n\nå½“ç„¶é…ç½®ä¸­å¿ƒæœ€æ ¸å¿ƒçš„ä¸åªæ˜¯èƒ½åˆ†åº”ç”¨åˆ†ç¯å¢ƒåœ°å­˜å‚¨æ•°æ®ï¼Œé«˜å¯ç”¨ä¹Ÿæ˜¯å…¶å¿…ä¸å¯å°‘çš„èƒ½åŠ›ã€‚æ‰€ä»¥é…ç½®ä¸­å¿ƒä¸€èˆ¬éƒ½æ˜¯å¤šèŠ‚ç‚¹åˆ†å¸ƒå¼éƒ¨ç½²ï¼Œå®¢æˆ·ç«¯çš„ä»£ç å¤§éƒ¨åˆ†ä»£ç é€»è¾‘ä¹Ÿæ˜¯å›´ç»•ç€é«˜å¯ç”¨å»å®ç°ã€‚\n\n\n[AgileConfig](https://github.com/dotnetcore/AgileConfig)æœåŠ¡ç«¯é™¤äº†å‘å¤–æš´éœ²è·å–é…ç½®çš„`http`æ¥å£ï¼Œè¿˜æä¾›äº†`websocket`é•¿é“¾æ¥æœºåˆ¶ï¼Œå½“é…ç½®ä¸­å¿ƒå‘ç”Ÿé…ç½®å˜æ›´æ—¶ä¼šå‘é€æ¶ˆæ¯å‘Šè¯‰å®¢æˆ·ç«¯ã€‚\n\n\n# åŸºç¡€å·¥ä½œåŸç†æµç¨‹å›¾\n\n\näºæ˜¯æˆ‘å°±æ„æ€äº†[node-agile-client](https://github.com/LetTTGACO/node-agile-client)çš„åŸºç¡€å·¥ä½œåŸç†æµç¨‹å›¾ï¼š\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FnGZZCTPJNVUKA3cSKxwOv45nRzh.png)\n\n\næˆ‘çš„æƒ³æ³•æ˜¯å……åˆ†åˆ©ç”¨ç¼“å­˜ï¼Œ`node`ä½¿ç”¨ç«¯åœ¨éœ€è¦æ—¶åªéœ€è¦è¯»å–æœ¬åœ°çš„é…ç½®æ–‡ä»¶æˆ–è€…å†…å­˜ä¸­çš„ç¼“å­˜å³å¯æ‹¿åˆ°`json`æ–‡ä»¶ã€‚å¯¹äºç¼“å­˜çš„å¤„ç†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fi902QOqP5_v6kgBr4U5XnKHf_As.jpeg)\n\n\n# å®Œæ•´å·¥ä½œåŸç†æµç¨‹å›¾\n\n\nåœ¨å®Œæ•´çš„ç ”ç©¶äº†`AgileConfig`çš„`C#`å®¢æˆ·ç«¯åŸç†ä¹‹åï¼Œå‘ç°`AgileConfig`æœ‰ä»¥ä¸‹å‡ ä¸ªåŠŸèƒ½ç‚¹ï¼š\n\n\n---\n\n- å¤šèŠ‚ç‚¹`http`è®¿é—®\n- å¤šèŠ‚ç‚¹`websocket`è®¿é—®\n- `websocket`å¿ƒè·³æ£€æµ‹æ—¶ä¼šè¿”å›å½“å‰é…ç½®ä¸­å¿ƒæ–‡ä»¶çš„`md5`\n- æ‰‹åŠ¨æ›´æ–°é…ç½®æ—¶ä¼šé€šè¿‡`websocket`å‘å®¢æˆ·ç«¯å‘é€éœ€è¦æ›´æ–°çš„æ¶ˆæ¯\n- æ‰‹åŠ¨å…³é—­è¿æ¥æ—¶ä¼šé€šè¿‡`websocket`å‘å®¢æˆ·ç«¯å‘é€éœ€è¦å…³é—­è¿æ¥çš„æ¶ˆæ¯\n\næ‰€ä»¥åŸºäºä»¥ä¸Šå‡ ä¸ªåŠŸèƒ½ç‚¹ï¼Œæˆ‘ç”»å‡ºäº†`node-agile-client`çš„å®Œæ•´å·¥ä½œåŸç†æµç¨‹å›¾ï¼š\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fi8seFPwjcCvorcZxZY1A2bMTZz4.png)\n\n\n# ä»£ç å®ç°\n\n\næ¥ä¸‹æ¥å°±åˆ°äº†ä»£ç å®ç°çš„é˜¶æ®µï¼Œç”±äºæ˜¯ç¬¬ä¸€æ¬¡å®Œæ•´å¼€å‘`npm`åŒ…ï¼Œæ²¡å•¥ç»éªŒï¼Œæ‰€ä»¥å®ç°éœ€æ±‚æ˜¯ç¬¬ä¸€è¦åŠ¡ï¼Œæš‚ä¸è€ƒè™‘`npm`åŒ…çš„æ‰“åŒ…å‹ç¼©ã€`TypeScript`æ”¯æŒç­‰ç­‰åŠŸèƒ½ã€‚å¼€å‘å‡ºæ¥çš„åŒ…ä¹Ÿå¹¶ä¸é€‚ç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œå¾…åæœŸæ…¢æ…¢å®Œå–„ã€‚\n\n\n## ç›®å½•ç»“æ„\n\n\n## æºç é€»è¾‘\n\n\nå…ˆè¯´æ˜ä¸€ä¸‹é…ç½®å‚æ•°è¯´æ˜ï¼š\n\n\n| é…ç½®é¡¹åç§°       | æ•°æ®ç±»å‹    | é…ç½®é¡¹è¯´æ˜       | å¿…å¡« | å¤‡æ³¨                                            |\n| ----------- | ------- | ----------- | -- | --------------------------------------------- |\n| appid       | string  | åº”ç”¨ ID       | æ˜¯  | å¯¹åº”åå°ç®¡ç†ä¸­åº”ç”¨çš„`åº”ç”¨ID`                              |\n| secret      | string  | åº”ç”¨å¯†é’¥        | æ˜¯  | å¯¹åº”åå°ç®¡ç†ä¸­åº”ç”¨çš„`å¯†é’¥`                                |\n| nodes       | string  | åº”ç”¨é…ç½®èŠ‚ç‚¹      | æ˜¯  | å­˜åœ¨å¤šä¸ªèŠ‚ç‚¹åˆ™ä½¿ç”¨é€—å·`,`åˆ†éš”                              |\n| env         | string  | é…ç½®ä¸­å¿ƒçš„ç¯å¢ƒ     | å¦  | é€šè¿‡æ­¤é…ç½®å†³å®šæ‹‰å–å“ªä¸ªç¯å¢ƒçš„é…ç½®ä¿¡æ¯ï¼›å¦‚æœä¸é…ç½®ï¼ŒæœåŠ¡ç«¯ä¼šé»˜è®¤è¿”å›ç¬¬ä¸€ä¸ªç¯å¢ƒçš„é…ç½®     |\n| name        | string  | è¿æ¥å®¢æˆ·ç«¯çš„è‡ªå®šä¹‰åç§° | å¦  | æ–¹ä¾¿åœ¨ agile é…ç½®ä¸­å¿ƒåå°å¯¹å½“å‰å®¢æˆ·ç«¯è¿›è¡ŒæŸ¥é˜…ä¸ç®¡ç†                 |\n| tag         | string  | è¿æ¥å®¢æˆ·ç«¯è‡ªå®šä¹‰æ ‡ç­¾  | å¦  | æ–¹ä¾¿åœ¨ agile é…ç½®ä¸­å¿ƒåå°å¯¹å½“å‰å®¢æˆ·ç«¯è¿›è¡ŒæŸ¥é˜…ä¸ç®¡ç†                 |\n| httptimeout | number  | http è¯·æ±‚è¶…æ—¶æ—¶é—´ | å¦  | é…ç½® client å‘é€ http è¯·æ±‚çš„æ—¶å€™çš„è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤ 100000(100 ç§’) |\n| debug       | boolean | debug æ¨¡å¼    | å¦  | æ‰“å°æ›´å¤šä¿¡æ¯                                        |\n\n\n```javascript\nconst axios = require('axios')\nconst path = require('path')\nconst fs = require('fs-extra')\n// utils\nconst { generateAuthorization, transformConfig, getTime, generateUrl } = require('./utils')\nconst { WS } = require('./ws')\n// const\nconst { WEBSOCKET_ACTION } = require('./const/ws')\n\n// é…ç½®ç¼“å­˜\nlet agileConfigCache\n\n/**\n* åˆå§‹åŒ–agileé…ç½®\n* @param options\n* @returns {Promise<void>}\n*/\nasync function init(options) {\n  const { appid, secret, env, nodes } = options\n  const beginTime = Date.now();\n  // ç”Ÿæˆè¯·æ±‚å¤´\n  // è¯·æ±‚http/websocketéœ€è¦ç‰¹å®šçš„è¯·æ±‚å¤´ï¼Œè¯¦æƒ…çœ‹utils/auth.jsæ–‡ä»¶\n  options.headers = generateAuthorization(options)\n  try {\n    // åˆå§‹åŒ–agileé…ç½®\n    await initAgileConfig(options);\n    console.info(`ã€agileã€‘: åˆå§‹åŒ–agileæœåŠ¡æˆåŠŸï¼Œè€—æ—¶: ${Date.now() - beginTime}msã€‚`);\n  } catch (err) {\n    console.error({\n      message: 'ã€agileã€‘: åˆå§‹åŒ–agileå¤±è´¥',\n      error: err\n    });\n    // é€€å‡ºè¿›ç¨‹\n    process.exit(-1);\n  }\n}\n\n/**\n* åˆå§‹åŒ–agileé…ç½®\n* @param options\n* @returns {Promise<*|undefined>}\n*/\nasync function initAgileConfig(options) {\n  // websocketé•¿è¿æ¥\n  // è¿™é‡Œwebsocketå’Œhttpè¯·æ±‚ä¸æ˜¯é˜»å¡çš„ï¼Œé˜²æ­¢http/wså…¶ä¸­ä¸€ä¸ªè¿æ¥å¤±è´¥æ—¶é˜»å¡æµç¨‹\n  getNotifications(options)\n  await getAgileConfigAsync(options, true);\n}\n\n/**\n* websocktè¿æ¥\n* @param options\n*/\nfunction getNotifications(options) {\n  // ç”Ÿæˆwsè¿æ¥çš„Url\n  const wsPaths = generateUrl(options, true)\n  \n  // é€’å½’è°ƒç”¨ï¼Œç”¨äºå¤šèŠ‚ç‚¹ä¿è¯å¯ç”¨æ€§\n  function connect(index) {\n    try {\n      const ws = new WS(wsPaths[index], {\n        debug: !!options.debug,\n        wsOptions: { headers: options.headers },\n      })\n      ws.websocketOnOpen(() => {\n        console.info(`ã€agileã€‘: websocketè¿æ¥æˆåŠŸï¼Œè¿æ¥åœ°å€ï¼š${wsPaths[index]}`)\n      })\n      ws.websocketOnMessage((data) => {\n        if (data.indexOf(\"Action\") !== -1) {\n          // æœåŠ¡ç«¯æ›´æ–°äº†\n          const { Action: action } = JSON.parse(data)\n          if (action === WEBSOCKET_ACTION.RELOAD) {\n            // ä¸ä½¿ç”¨æœ¬åœ°ç¼“å­˜ï¼Œç›´æ¥å‘èµ·httpè¯·æ±‚æ›´æ–°ç¼“å­˜\n            getAgileConfigAsync(options, false).catch()\n          }\n          if (action === WEBSOCKET_ACTION.OFFLINE) {\n            // å…³é—­wsè¿æ¥\n            ws.removeSocket(true)\n          }\n        } else if (data !== '0' && data.startsWith('V:')) {\n          // å¿ƒè·³æ£€æµ‹æ—¶/æœåŠ¡ç«¯ä¸»åŠ¨å…³é—­è¿æ¥æ—¶ï¼ŒåŒæ­¥é…ç½®\n          // å¯¹æ¯”æœ¬åœ°ç¼“å­˜ä¸­çš„MD5å’Œå¿ƒè·³æ£€æµ‹æ—¶æœåŠ¡ç«¯è¿”å›çš„MD5\n          if (data.slice(2) !== agileConfigCache.md5) {\n            console.info('ã€agileã€‘: é…ç½®æ›´æ–°ï¼Œå³å°†é‡æ–°è¯»å–é…ç½®')\n            // ä¸ä½¿ç”¨æœ¬åœ°ç¼“å­˜ï¼Œç›´æ¥å‘èµ·httpè¯·æ±‚æ›´æ–°ç¼“å­˜\n            getAgileConfigAsync(options, false).catch()\n          }\n        }\n      })\n      ws.websocketOnError((err) => {\n        console.warn({\n          message: 'ã€agileã€‘: websocketè¿æ¥å‘ç”Ÿé”™è¯¯ï¼Œæ­£åœ¨å°è¯•é‡æ–°è¿æ¥...',\n          error: err\n        });\n        // è¿æ¥ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°è¯•å°è¯•é‡æ–°è¿æ¥ws\n        throw err\n      })\n      ws.websocketOnClose(() => {\n        console.warn('ã€agileã€‘: websocketæ–­å¼€è¿æ¥ï¼Œå°†ä¼šè¯»å–æœ¬åœ°ç¼“å­˜');\n      })\n    } catch (err) {\n      // åˆå§‹åŒ–å¤±è´¥æ—¶ï¼Œæ›´æ¢wsèŠ‚ç‚¹\n      index = index + 1;\n      if (index < wsPaths.length) {\n        // é€’å½’è°ƒç”¨ï¼Œè¿æ¥ä¸‹ä¸€ä¸ªèŠ‚ç‚¹\n        connect(index)\n      } else {\n        console.error({\n          url: `ã€agileã€‘ï¼šè¯·æ±‚åœ°å€ï¼š${wsPaths}`,\n          message: `ã€agileã€‘ï¼šwebsocketè¿æ¥å¤±è´¥ï¼Œå°†ä¼šè¯»å–æœ¬åœ°ç¼“å­˜`,\n          error: err,\n        })\n      }\n    }\n  }\n  connect(0)\n}\n\n/**\n* å¼‚æ­¥è·å–agileé…ç½®\n* @param options\n* @param useCache æ˜¯å¦ä½¿ç”¨ç¼“å­˜\n* @returns {Promise<*>}\n*/\nasync function getAgileConfigAsync(options, useCache) {\n  if (useCache) {\n    // ä¼˜å…ˆä»ç¼“å­˜ä¸­è·å–ä¿¡æ¯\n    const beginTime = Date.now();\n    const agileConfig = getAgileConfigFromCache(beginTime);\n    if (agileConfig) {\n      return agileConfig;\n    }\n    console.info('ã€agileã€‘: å¼€å§‹åˆå§‹åŒ–agileé…ç½®(é€šè¿‡æ¥å£è·å–)');\n  }\n  // ä»æ¥å£ä¸­è·å–\n  try {\n    agileConfigCache = await getAgileConfigPromise(options);\n    // å†™å…¥æœ¬åœ°æ–‡ä»¶\n    fs.writeJsonSync(path.resolve(__dirname, './agileConfig.json'), agileConfigCache);\n    console.info(`ã€agileã€‘: æ›´æ–°ç¼“å­˜æˆåŠŸ, æ›´æ–°æ—¶é—´ï¼š${getTime()}`)\n    return agileConfigCache;\n  } catch (err) {\n    console.warn({\n      message: 'ã€agileã€‘: æ›´æ–°ç¼“å­˜å¤±è´¥ï¼Œå°†ä¼šè¯»å–æœ¬åœ°ç¼“å­˜',\n      error: err\n    });\n    throw err;\n  }\n}\n\n/**\n* ä»ç¼“å­˜ä¸­è·å–agileé…ç½®\n* @param beginTime\n* @returns {*}\n*/\nfunction getAgileConfigFromCache(beginTime) {\n  if (agileConfigCache) {\n    return agileConfigCache;\n  }\n  try {\n    const cacheFile = path.join(__dirname, './agileConfig.json');\n    const isHave = !!fs.statSync(cacheFile).size;\n    console.info('ã€agileã€‘: å¼€å§‹åˆå§‹åŒ–agileé…ç½®(é€šè¿‡ç¼“å­˜è·å–)');\n    if (isHave) {\n      // ä»æœ¬åœ°æ–‡ä»¶è¯»å–é…ç½®\n      agileConfigCache = fs.readJsonSync(path.resolve(__dirname, './agileConfig.json'));\n      if (agileConfigCache) {\n        return agileConfigCache\n      }\n    }\n  } catch (err) {}\n  \n  return agileConfigCache;\n}\n\n/**\n* ä»æœåŠ¡ç«¯è·å–é…ç½®å¹¶å†™å…¥ç¼“å­˜\n* @param options\n* @returns {Promise<*>}\n*/\nasync function getAgileConfigPromise(options) {\n  // è·å–httpè¯·æ±‚url\n  const urlPaths = generateUrl(options, false);\n  let agileConfigRes\n  // é€’å½’è°ƒç”¨ï¼Œé€‚é…å¤šèŠ‚ç‚¹è·å–é…ç½®\n  const getConfig = async (index) => {\n    console.info(`ã€agileã€‘ï¼šæ¥å£è¯·æ±‚åœ°å€ï¼š${urlPaths[index]}`)\n    try {\n      const response = await axios.get(urlPaths[index], {\n        timeout: options.httptimeout || 100000,\n        headers: {\n          ...options.headers,\n        },\n      })\n      agileConfigRes = transformConfig(response.data);\n    } catch (err) {\n      index = index + 1;\n      if (index < urlPaths.length) {\n        // é€’å½’è°ƒç”¨ï¼Œè¿æ¥ä¸‹ä¸€ä¸ªèŠ‚ç‚¹\n        await getConfig(urlPaths, index);\n      } else {\n        console.error({\n          url: `agileè¯·æ±‚åœ°å€ï¼š${urlPaths}`,\n          message: `ã€agileã€‘è­¦å‘Šï¼šè·å–agileé…ç½®å¤±è´¥,appid: ${options.appid}`,\n          error: err,\n        })\n        throw err;\n      }\n    }\n  };\n  await getConfig(urlPaths, 0);\n  return agileConfigRes\n}\n\n\n/**\n* åŒæ­¥è·å–Agileé…ç½®\n* @returns {*}\n*/\nfunction getAgileConfig() {\n  if (!agileConfigCache) {\n    try {\n      agileConfigCache = fs.readJsonSync(path.resolve(__dirname, './agileConfig.json'))\n    } catch (err) {}\n    if (!agileConfigCache) {\n      throw new Error('ã€agileã€‘: è¯·ç¡®ä¿agileåˆå§‹åŒ–å·²å®Œæˆï¼');\n    }\n  }\n  return agileConfigCache.data;\n}\n\nexports.init = init\nexports.getAgileConfig = getAgileConfig\n```\n\n\n```javascript\nconst { WebSocket } = require('ws');\n\nclass WS {\n  constructor(socketUrl, option) {\n    this.socketUrl = socketUrl\n    this.option = {\n      onOpenAutoSendMsg:\"\",\n      heartTime: 30000, // å¿ƒè·³æ—¶é—´é—´éš”\n      heartMsg: 'ping', // å¿ƒè·³ä¿¡æ¯,é»˜è®¤ä¸º'ping'\n      isReconnect: true, // æ˜¯å¦è‡ªåŠ¨é‡è¿\n      reconnectTime: 5000, // é‡è¿æ—¶é—´é—´éš”\n      reconnectCount: -1, // é‡è¿æ¬¡æ•° -1 åˆ™ä¸é™åˆ¶\n      openCallback: null, // è¿æ¥æˆåŠŸçš„å›è°ƒ\n      closeCallback: null, // å…³é—­çš„å›è°ƒ\n      messageCallback: null, // æ¶ˆæ¯çš„å›è°ƒ\n      errorCallback: null, // é”™è¯¯çš„å›è°ƒ\n      debug: false,  //æ˜¯å¦æ‰“å¼€debugæ¨¡å¼\n      ...option,\n    }\n    this.websocket = null\n    this.sendPingInterval = null  //å¿ƒè·³å®šæ—¶å™¨\n    this.reconnectInterval = null  //é‡è¿å®šæ—¶å™¨\n    this.activeLink = true  //socketå¯¹è±¡æ˜¯å¦å¯ç”¨\n    this.disconnect = false  //æ˜¯å¦æ˜¯æœåŠ¡ç«¯ä¸»åŠ¨åˆ‡æ–­socketè¿æ¥\n    this.reconnectNum = 0 //é‡è¿æ¬¡æ•°é™åˆ¶\n    this.init()\n  }\n  \n  /**\n  * åˆå§‹åŒ–\n  */\n  init() {\n    Reflect.deleteProperty(this, this.websocket)\n    this.websocket = new WebSocket(this.socketUrl, {\n      ...this.option.wsOptions,\n    })\n    this.websocketOnOpen()\n    this.websocketOnMessage()\n    this.websocketOnError()\n    this.websocketOnClose()\n  }\n  \n  /**\n  * è¿æ¥æˆåŠŸ\n  */\n  websocketOnOpen(callback) {\n    this.websocket.onopen = (event) => {\n      if (this.option.debug) console.log('%c websocketé“¾æ¥æˆåŠŸ', 'color:green')\n      // è¿æ¥æˆåŠŸæ—¶å®šæ—¶å‘å‘é€æ¶ˆæ¯\n      this.sendPing(this.option.heartTime, this.option.heartMsg);\n      if(this.option.onOpenAutoSendMsg){\n        this.send(this.option.onOpenAutoSendMsg)\n      }\n      if (typeof callback === 'function') {\n        this.disconnect = false\n        callback(event)\n      } else {\n        (typeof this.option.openCallback === 'function') && this.option.openCallback(event)\n      }\n    }\n  }\n  \n  /**\n  * å‘é€æ•°æ®\n  * @param message\n  */\n  send (message){\n    if (this.websocket.readyState !== this.websocket.OPEN) {\n      new Error('æ²¡æœ‰è¿æ¥åˆ°æœåŠ¡å™¨ï¼Œæ— æ³•å‘é€æ¶ˆæ¯')\n      return\n    }\n    this.websocket.send(message)\n  }\n  \n  /**\n  * è§¦å‘æ¥æ”¶æ¶ˆæ¯äº‹ä»¶\n  * @param callback\n  */\n  websocketOnMessage(callback) {\n    this.websocket.onmessage = (event) => {\n      // æ”¶åˆ°ä»»ä½•æ¶ˆæ¯ï¼Œé‡æ–°å¼€å§‹å€’è®¡æ—¶å¿ƒè·³æ£€æµ‹\n      if (typeof callback === 'function') {\n        callback(event.data)\n      } else {\n        (typeof this.option.messageCallback === 'function') && this.option.messageCallback(event.data)\n      }\n    }\n  }\n  \n  /**\n  * è¿æ¥é”™è¯¯\n  * @param callback\n  */\n  websocketOnError(callback) {\n    this.websocket.onerror = (event) => {\n      if (this.option.debug) console.error('è¿æ¥å‘ç”Ÿé”™è¯¯', event)\n      if (typeof callback === 'function') {\n        callback(event)\n      } else {\n        (typeof this.option.errorCallback === 'function') && this.option.errorCallback(event)\n      }\n    }\n  }\n  \n  /**\n  * è¿æ¥å…³é—­\n  */\n  websocketOnClose(callback) {\n    this.websocket.onclose = (event) => {\n      if (this.option.debug) console.warn('socketè¿æ¥å…³é—­,å…³äºåŸå› :', event)\n      clearInterval(this.sendPingInterval)\n      clearInterval(this.reconnectInterval);\n      if (this.activeLink && this.option.isReconnect) {\n        this.onReconnect()\n      } else {\n        this.activeLink = false;\n        if (this.option.debug) console.log('%c websocketé“¾æ¥å®Œå…¨å…³é—­', 'color:green')\n      }\n      if (typeof callback === 'function') {\n        callback(event)\n      } else {\n        (typeof this.option.closeCallback === 'function') && this.option.closeCallback(event)\n      }\n    }\n  }\n  \n  /**\n  * è¿æ¥äº‹ä»¶\n  */\n  onReconnect() {\n    if (this.option.debug) console.warn(`éæ­£å¸¸å…³é—­,${this.option.reconnectTime}æ¯«ç§’åè§¦å‘é‡è¿äº‹ä»¶`)\n    if (this.option.reconnectCount === -1 || this.option.reconnectCount > this.reconnectNum) {\n      this.reconnectInterval = setTimeout(() => {\n        this.reconnectNum++\n        if (this.option.debug) console.warn(`æ­£åœ¨å‡†å¤‡ç¬¬${this.reconnectNum}æ¬¡é‡è¿`)\n        this.init()\n      }, this.option.reconnectTime)\n    } else {\n      this.activeLink = false;\n      if (this.option.debug) console.warn(`å·²é‡è¿${this.reconnectNum}æ¬¡ä»ç„¶æ²¡æœ‰å“åº”,å–æ¶ˆé‡è¿`)\n      clearInterval(this.reconnectInterval);\n    }\n  }\n  \n  /**\n  * ç§»é™¤socketå¹¶å…³é—­\n  */\n  removeSocket(disconnect) {\n    this.activeLink = false\n    this.disconnect = disconnect\n    this.websocket.close(1000)\n  }\n  \n  /**\n  * å¿ƒè·³æœºåˆ¶\n  * @param time\n  * @param ping\n  */\n  sendPing (time = 5000, ping = 'ping'){\n    clearInterval(this.sendPingInterval);\n    if (time === -1) return\n    this.send(ping)\n    this.sendPingInterval = setInterval(() => {\n      this.send(ping)\n    }, time)\n  }\n  \n  /**\n  * è¿”å›websocketå®ä¾‹\n  * @returns {null}\n  */\n  getWebsocket() {\n    return this.websocket\n  }\n  \n  /**\n  * æŸ¥çœ‹è¿æ¥çŠ¶æ€\n  */\n  getActiveLink() {\n    return {\n      activeLink: this.activeLink,\n      disconnect: this.disconnect\n    }\n  }\n}\n```\n\n\n# å¼€å§‹ä½¿ç”¨\n\n\n## å®‰è£…\n\n\n```shell\nnpm i node-agile-client\n```\n\n\n## åˆå§‹åŒ–\n\n\n```javascript\nconst { init } = require('node-agile-client');\n\ninit({\n  appid: 'app',\n  secret: 'xxx',\n  node: 'http://192.168.1.1,http://192.168.1.2',\n  env: 'DEV',\n  tag: '',\n  name: '',\n  httptimeout: 100,\n  debug: false,\n});\n```\n\n\n## è·å–é…ç½®\n\n\n```javascript\nconst { getAgileConfig }  = require('node-agile-client');\n\nconst { token, url } = getAgileConfig();\n```\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2022-04-28",
        "type": "Post",
        "slug": "wqx8a7",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "è¯¥æ–‡æ¡£ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨node-agile-clientä¸ºå¼€æºç¤¾åŒºåšè´¡çŒ®ï¼Œå¼€å‘AgileConfigçš„NodeJSå®¢æˆ·ç«¯ã€‚è¯¥å®¢æˆ·ç«¯åŒ…æ‹¬äº†å¼‚æ­¥è·å–agileé…ç½®ã€ä»ç¼“å­˜ä¸­è·å–agileé…ç½®ã€ä»æœåŠ¡ç«¯è·å–é…ç½®å¹¶å†™å…¥ç¼“å­˜ã€åŒæ­¥è·å–Agileé…ç½®ç­‰åŠŸèƒ½ã€‚é€šè¿‡è¯¥å®¢æˆ·ç«¯ï¼Œå¯ä»¥è½»æ¾è·å–åˆ°Agileé…ç½®ã€‚",
        "æ›´æ–°æ—¶é—´": "2023-05-31T16:23:00.000Z",
        "title": "ä¸ºå¼€æºç¤¾åŒºåšè´¡çŒ®-å¼€å‘AgileConfigçš„NodeJSå®¢æˆ·ç«¯ï¼šnode-agile-client",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Node"
        ],
        "status": "Published",
        "urlname": "f674c03b-a560-4d80-984a-ede9d0ec6d9f",
        "updated": "2023-05-31 16:23:00"
      },
      "body": "",
      "realName": "ä¸ºå¼€æºç¤¾åŒºåšè´¡çŒ®-å¼€å‘AgileConfigçš„NodeJSå®¢æˆ·ç«¯ï¼šnode-agile-client",
      "relativePath": "/ä¸ºå¼€æºç¤¾åŒºåšè´¡çŒ®-å¼€å‘AgileConfigçš„NodeJSå®¢æˆ·ç«¯ï¼šnode-agile-client.md"
    },
    {
      "id": "08ccfc16-c8cb-42a2-ad65-b37c4d49ce78",
      "doc_id": "08ccfc16-c8cb-42a2-ad65-b37c4d49ce78",
      "updated": 1681103040000,
      "body_original": "\n# å¼•è¨€\n\n\næœ€è¿‘å‘ç°`Alfred`ç®€ç›´ä¸è¦å¤ªå¥½ç”¨ï¼Œå¿«é€Ÿæ‰“å¼€ç½‘å€åŠŸèƒ½ï¼ˆWeb Searchï¼‰åœ¨å·¥ä½œä¸­ä½¿ç”¨èµ·æ¥è¡Œäº‘æµæ°´ï¼Œå†ä¹Ÿä¸ç”¨å»ä¸€å †æ ‡ç­¾ä¸­å¯»æ‰¾å¸¸ç”¨çš„ç½‘å€ã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fv_hSWNtWTOroC6OS4YOH23qjov0.png)\n\n\nä½†æ˜¯åœ¨é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç»å¸¸éœ€è¦æ‰“å¼€æˆ–è¿è¡Œå„ç§é¡¹ç›®ï¼Œæ‰€ä»¥éœ€è¦ç»å¸¸ä½¿`iTerm`æˆ–è€…`IDE`è¿›å…¥åˆ°å„ç§é¡¹ç›®æ–‡ä»¶å¤¹ä¸­ã€‚åœ¨`VSCode`ä¸­ï¼Œå¤§å®¶ç»å¸¸ä¼šä½¿ç”¨`code`å‘½ä»¤æ‰“å¼€é¡¹ç›®ï¼Œå†é…åˆç¯å¢ƒå˜é‡çš„åˆ«åè®¾ç½®ï¼Œä½¿ç”¨èµ·æ¥å¾ˆæ–¹ä¾¿ã€‚ä½†æ˜¯ï¼æˆ‘æ˜¯å¿ è¯šçš„`WebStorm`å…šæ´¾ï¼Œæ¯æ¬¡æ‰“å¼€é¡¹ç›®éƒ½å¾—å…ˆæ‰“å¼€åº”ç”¨ç„¶åæ‰¾åˆ°éœ€è¦æ‰“å¼€çš„é¡¹ç›®ï¼ˆä¸è¿‡åæ¥å‘ç°ï¼Œ`WebStorm`å…¶å®ä¹Ÿæœ‰å‘½ä»¤è¡Œå¯åŠ¨å™¨ï¼Œæ•ˆæœä¹Ÿä¸€æ ·ï¼‰ã€‚ä½†æ˜¯è¿™ä¹ˆåšä¹Ÿæœ‰ä¸€ä¸ªç—›ç‚¹ï¼Œå°±æ˜¯éœ€è¦äº‹å…ˆé…ç½®ç¯å¢ƒå˜é‡çš„åˆ«åæ‰èƒ½åšåˆ°å¿«é€Ÿæ‰“å¼€ã€‚ æœ€è¿‘ä¸€ç¢ç£¨ï¼Œå¯ä»¥åˆ©ç”¨`Aflfed`çš„`Workflows`åŠŸèƒ½å»å°è¯•ä¸€ä¸‹ï¼Œäºæ˜¯çœŸè¢«æˆ‘æå‡ºæ¥äº†ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹ã€‚\n\n\n# å¼€å§‹\n\n\n## Open in WebStorm\n\n\nç”¨`WebStrom`æ‰“å¼€é¡¹ç›®ã€‚é€šè¿‡`code`å‘½ä»¤æ‰“å¼€æŒ‡å®šç›®å½•ä¸‹çš„æ–‡ä»¶å¤¹ï¼Œå¿«é€Ÿæ‰“å¼€é¡¹ç›®ã€‚æ•ˆæœå¦‚ä¸‹ï¼š\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/ljMKIzYLU9Vg0ZDdlgkVUc2TAFkL.gif)\n\n\n### è¿è¡Œæµç¨‹\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fi1CSGPgbhxcEmVJsWkhTRKofLx0.png)\n\n\n### è®¾ç½®\n\n1. å³ä¸‹è§’æ–°å»ºä¸€ä¸ª`Blank Workflow`ï¼Œé…ç½®å¦‚ä¸‹ï¼š\n\næ³¨æ„`Bundle id`å¿…é¡»æ˜¯å”¯ä¸€çš„æ‰è¡Œã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FkbsFFLjrHAiiyFhMyAnsYxAG1cu.png)\n\n1. å³é”®æ–°å¢ä¸€ä¸ª`File Filter`ï¼Œé…ç½®å¦‚ä¸‹ï¼š\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FtNswxM5ZqzKXFXYXRPMO5gdQMc4.png)\n\n\n`Basic Setup`åŸºç¡€è®¾ç½®ã€‚\n\n- Keyword: code\n- with space: true\n- Placeholder Title: Open in WebStorm\n- Placeholder Subtext: è¯·ç»§ç»­è¾“å…¥ä»¥æ‰“å¼€é¡¹ç›®\n- File Types: æ–‡ä»¶ç±»å‹ï¼Œéšä¾¿æ‹–ä¸€ä¸ªæ–‡ä»¶å¤¹è¿›å»è¡¨ç¤ºåªè¯†åˆ«æ–‡ä»¶å¤¹ï¼Œè¿‡æ»¤æ‰æ–‡ä»¶\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fteyhe06uV8m5mE7wZoNN6IJ-GE1.png)\n\n\n`Scope`æœç´¢èŒƒå›´\n\n- Search Scope: æŒ‡å®šæœç´¢èŒƒå›´ï¼Œå°†ç›®å½•æ‹–æ‹½è¿›å»å³å¯\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FgE6bMn1YgtGzP1bkxhMhdRUvGn6.png)\n\n\n`Fields`å’Œ`Limit and Sort`ä¿æŒä¸å˜ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„ä¹ æƒ¯ä¿®æ”¹\n\n1. å·¦é”®å•å‡»å¹¶é€‰æ‹©æ·»åŠ `Actions-Run Script`ï¼Œé…ç½®å¦‚ä¸‹ï¼š\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FusgOROVeGtM5HvHHey1GxHOKdxL.png)\n\n- Language: /bin/zsh ç»ˆç«¯ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©/bin/bash ç»ˆç«¯\n- with input as {query}: true\n- running instances: Sequentially\n- Script: /usr/local/bin/wstorm â€œ{query}â€\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fj3KjVMT_TxIJCWRGGZdcplCQViA.png)\n\n\næ³¨æ„ï¼šä½¿ç”¨`/usr/local/bin/wstorm`å‘½ä»¤éœ€è¦åœ¨`WebStorm`ä¸­å¼€å¯å·¥å…·-åˆ›å»ºå‘½ä»¤è¡Œå¯åŠ¨å™¨ï¼Œé…ç½®è„šæœ¬ä½ç½®ä¸º`/usr/local/bin`ï¼Œå¹¶é…ç½®è„šæœ¬å‘½ä»¤ä¸º`wstorm`ã€‚\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FiyIJ9N-DdDJK4NvGJwCwO_EqjeW.png)\n\n\n## Open in iTerm\n\n\nä»`iTerm`ä¸­æ‰“å¼€æ–‡ä»¶å¤¹ã€‚é€šè¿‡`cd`å‘½ä»¤è¿›å…¥æŒ‡å®šç›®å½•ä¸‹çš„æ–‡ä»¶å¤¹ï¼Œå¿«é€Ÿæ‰“å¼€é¡¹ç›®å¹¶è¿è¡Œã€‚æ•ˆæœå¦‚ä¸‹ï¼š\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/ltjnpxJnEnmaDsxBBb2Q3M11U_tJ.gif)\n\n\n### è¿è¡Œæµç¨‹\n\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FlehoM7bdsPdu33pG4_DfRDM06wl.png)\n\n\n### è®¾ç½®\n\n1. æ–°å»ºä¸€ä¸ª`Blank workflow`ï¼Œé…ç½®å¦‚ä¸‹ï¼š\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FoiKddQ7QD7GegR1SoQ3Em0xGpwT.png)\n\n1. æ–°å¢`File Filter`ï¼Œé…ç½®å¦‚ä¸‹ï¼š\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/Fltm6hEMqabbF4xluHh9ph0HYpoG.png)\n\n1. å·¦é”®å•å‡»å¹¶é€‰æ‹©æ·»åŠ  Actions-Run NSAppleScriptï¼Œé…ç½®å¦‚ä¸‹ï¼š\n\n![](https://blogimagesrep-1257180516.cos.ap-guangzhou.myqcloud.com/blog-images/FoE5xUh8YN6K2pZSd6a976xz5KF_.png)\n\n\n```text\n-- For the latest version:\n-- https://github.com/vitorgalvao/custom-alfred-iterm-scripts\n\n-- Set this property to true to always open in a new window\nproperty open_in_new_window : false\n\n-- Set this property to false to reuse current tab\nproperty open_in_new_tab : true\n\n-- Handlers\non new_window()\ntell application \"iTerm\" to create window with default profile\nend new_window\n\non new_tab()\ntell application \"iTerm\" to tell the first window to create tab with default profile\nend new_tab\n\non call_forward()\ntell application \"iTerm\" to activate\nend call_forward\n\non is_running()\napplication \"iTerm\" is running\nend is_running\n\non has_windows()\nif not is_running() then return false\nif windows of application \"iTerm\" is {} then return false\ntrue\nend has_windows\n\non send_text(custom_text)\ntell application \"iTerm\" to tell the first window to tell current session to write text custom_text\nend send_text\n\n-- Main\non alfred_script(query)\nif has_windows() then\nif open_in_new_window then\nnew_window()\nelse if open_in_new_tab then\nnew_tab()\nelse\n-- Reuse current tab\nend if\nelse\n-- If iTerm is not running and we tell it to create a new window, we get two\n-- One from opening the application, and the other from the command\nif is_running() then\nnew_window()\nelse\ncall_forward()\nend if\nend if\n\n-- Make sure a window exists before we continue, or the write may fail\nrepeat until has_windows()\ndelay 0.01\nend repeat\n\nsend_text(query)\ncall_forward()\nend alfred_script\n```\n\n\n# å¤§åŠŸå‘Šæˆï¼\n\n",
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2022-04-19",
        "type": "Post",
        "slug": "rm057k",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "Alfred YYDS",
        "æ›´æ–°æ—¶é—´": "2023-04-10T05:04:00.000Z",
        "title": "ç¨‹åºå‘˜å¿…å¤‡â€”â€”Macæ•ˆç‡å·¥å…·Alfred Workflowsé…ç½®",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "æ•ˆç‡å·¥å…·"
        ],
        "status": "Published",
        "urlname": "08ccfc16-c8cb-42a2-ad65-b37c4d49ce78",
        "updated": "2023-04-10 05:04:00"
      },
      "body": "",
      "realName": "ç¨‹åºå‘˜å¿…å¤‡â€”â€”Macæ•ˆç‡å·¥å…·Alfred Workflowsé…ç½®",
      "relativePath": "/ç¨‹åºå‘˜å¿…å¤‡â€”â€”Macæ•ˆç‡å·¥å…·Alfred Workflowsé…ç½®.md"
    }
  ],
  "catalog": [
    {
      "object": "page",
      "id": "385c919d-f253-4976-9819-824ea05304e4",
      "created_time": "2023-09-02T17:33:00.000Z",
      "last_edited_time": "2023-11-22T10:09:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "external",
        "external": {
          "url": "https://www.notion.so/icons/notification_blue.svg"
        }
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-09-02T17:33:00.000Z",
        "date": "2023-09-03",
        "type": "Post",
        "slug": "rollup-multi-input",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "ç”¨Rollupæ‰“åŒ…å¤šå…¥å£npmåº“ï¼Œå®ç°æ–‡ä»¶æŒ‰éœ€å¼•å…¥",
        "æ›´æ–°æ—¶é—´": "2023-11-22T10:09:00.000Z",
        "title": "Rollupæ‰“åŒ…â€”â€”å¤šå…¥å£é…ç½®",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Rollup",
          "æ‰“åŒ…æ„å»º"
        ],
        "status": "Published",
        "urlname": "385c919d-f253-4976-9819-824ea05304e4",
        "updated": "2023-11-22 10:09:00"
      },
      "url": "https://www.notion.so/Rollup-385c919df25349769819824ea05304e4",
      "public_url": "https://1874.notion.site/Rollup-385c919df25349769819824ea05304e4"
    },
    {
      "object": "page",
      "id": "d2a19be4-4efc-428a-9ebb-0a85e340290d",
      "created_time": "2023-08-18T14:16:00.000Z",
      "last_edited_time": "2023-10-18T16:47:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "external",
        "external": {
          "url": "https://www.notion.so/icons/book-closed_red.svg"
        }
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-08-18T14:16:00.000Z",
        "date": "2023-10-19",
        "type": "Post",
        "slug": "how-do-i-take-note",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-10-18T16:47:00.000Z",
        "title": "æˆ‘çš„ç¬”è®°ç®¡ç†æ³•",
        "category": "éšç¬”",
        "tags": [
          "éšç¬”"
        ],
        "status": "Published",
        "urlname": "d2a19be4-4efc-428a-9ebb-0a85e340290d",
        "updated": "2023-10-18 16:47:00"
      },
      "url": "https://www.notion.so/d2a19be44efc428a9ebb0a85e340290d",
      "public_url": "https://1874.notion.site/d2a19be44efc428a9ebb0a85e340290d"
    },
    {
      "object": "page",
      "id": "86181a01-bf90-440b-876f-93e680ed7f92",
      "created_time": "2023-07-13T14:16:00.000Z",
      "last_edited_time": "2023-10-01T08:01:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": {
        "type": "external",
        "external": {
          "url": "https://www.notion.so/images/page-cover/gradients_8.png"
        }
      },
      "icon": {
        "type": "external",
        "external": {
          "url": "https://www.notion.so/icons/mathematics_blue.svg"
        }
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-07-13T14:16:00.000Z",
        "date": "2023-07-13",
        "type": "Post",
        "slug": "leetcode-day-2",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-10-01T08:01:00.000Z",
        "title": "ã€ä»£ç éšæƒ³å½•ã€‘ç®—æ³•è®­ç»ƒè¥ç¬¬2å¤©",
        "category": "ç®—æ³•åˆ·é¢˜",
        "tags": [
          "ç®—æ³•è®­ç»ƒè¥",
          "æ•°ç»„ä¸“é¢˜"
        ],
        "status": "Invisible",
        "urlname": "86181a01-bf90-440b-876f-93e680ed7f92",
        "updated": "2023-10-01 08:01:00"
      },
      "url": "https://www.notion.so/2-86181a01bf90440b876f93e680ed7f92",
      "public_url": "https://1874.notion.site/2-86181a01bf90440b876f93e680ed7f92"
    },
    {
      "object": "page",
      "id": "dda51961-f514-4a53-8d18-3a0c1ece2132",
      "created_time": "2023-07-12T03:20:00.000Z",
      "last_edited_time": "2023-09-27T03:35:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": {
        "type": "external",
        "external": {
          "url": "https://www.notion.so/images/page-cover/gradients_8.png"
        }
      },
      "icon": {
        "type": "external",
        "external": {
          "url": "https://www.notion.so/icons/mathematics_blue.svg"
        }
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-07-12T03:20:00.000Z",
        "date": "2023-07-12",
        "type": "Post",
        "slug": "leetcode-day-1",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-09-27T03:35:00.000Z",
        "title": "ã€ä»£ç éšæƒ³å½•ã€‘ç®—æ³•è®­ç»ƒè¥ç¬¬1å¤©",
        "category": "ç®—æ³•åˆ·é¢˜",
        "tags": [
          "ç®—æ³•è®­ç»ƒè¥",
          "æ•°ç»„ä¸“é¢˜"
        ],
        "status": "Invisible",
        "urlname": "dda51961-f514-4a53-8d18-3a0c1ece2132",
        "updated": "2023-09-27 03:35:00"
      },
      "url": "https://www.notion.so/1-dda51961f5144a538d183a0c1ece2132",
      "public_url": "https://1874.notion.site/1-dda51961f5144a538d183a0c1ece2132"
    },
    {
      "object": "page",
      "id": "003fd62e-3f11-47f8-8479-9eb728ac6df8",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-09-27T01:49:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ¥"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2022-01-20",
        "type": "Post",
        "slug": "osar7h",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "æœ¬æ–‡ä»‹ç»äº†yuque-hexoæ’ä»¶è¯­é›€å›¾ç‰‡é˜²ç›—é“¾çš„è§£å†³æ–¹æ¡ˆï¼ŒåŒ…æ‹¬å…·ä½“çš„å®ç°æµç¨‹å’Œå¸¸è§é—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚åŒæ—¶ï¼Œæä¾›äº†å¯¹äºå…¶ä»–äº‘æœåŠ¡çš„å®ç°æ€è·¯ã€‚",
        "æ›´æ–°æ—¶é—´": "2023-09-27T01:49:00.000Z",
        "title": "yuque-hexoæ’ä»¶è¯­é›€å›¾ç‰‡é˜²ç›—é“¾çš„è§£å†³æ–¹æ¡ˆ",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Hexo"
        ],
        "status": "Invisible",
        "urlname": "003fd62e-3f11-47f8-8479-9eb728ac6df8",
        "updated": "2023-09-27 01:49:00"
      },
      "url": "https://www.notion.so/yuque-hexo-003fd62e3f1147f884799eb728ac6df8",
      "public_url": "https://1874.notion.site/yuque-hexo-003fd62e3f1147f884799eb728ac6df8"
    },
    {
      "object": "page",
      "id": "d1b83320-1450-4412-a436-9f1e21689cf6",
      "created_time": "2023-04-15T10:21:00.000Z",
      "last_edited_time": "2023-08-26T15:38:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "external",
        "external": {
          "url": "https://www.notion.so/icons/graduate_blue.svg"
        }
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-15T10:21:00.000Z",
        "date": "2023-04-17",
        "type": "Post",
        "slug": "day-6",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:38:00.000Z",
        "title": "Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬6ç¯‡ã€‘",
        "category": "éšç¬”",
        "tags": [
          "éšç¬”"
        ],
        "status": "Archived",
        "urlname": "d1b83320-1450-4412-a436-9f1e21689cf6",
        "updated": "2023-08-26 15:38:00"
      },
      "url": "https://www.notion.so/Seven-6-d1b8332014504412a4369f1e21689cf6",
      "public_url": "https://1874.notion.site/Seven-6-d1b8332014504412a4369f1e21689cf6"
    },
    {
      "object": "page",
      "id": "5d58e4df-d7ea-46d6-9c6a-19b9d301d672",
      "created_time": "2023-04-10T17:12:00.000Z",
      "last_edited_time": "2023-08-26T15:38:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "external",
        "external": {
          "url": "https://www.notion.so/icons/graduate_blue.svg"
        }
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-10T17:12:00.000Z",
        "date": "2023-04-10",
        "type": "Post",
        "slug": "day-1",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:38:00.000Z",
        "title": "Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬1ç¯‡ã€‘",
        "category": "éšç¬”",
        "tags": [
          "éšç¬”"
        ],
        "status": "Archived",
        "urlname": "5d58e4df-d7ea-46d6-9c6a-19b9d301d672",
        "updated": "2023-08-26 15:38:00"
      },
      "url": "https://www.notion.so/Seven-1-5d58e4dfd7ea46d69c6a19b9d301d672",
      "public_url": "https://1874.notion.site/Seven-1-5d58e4dfd7ea46d69c6a19b9d301d672"
    },
    {
      "object": "page",
      "id": "dfc6606a-ab95-45f7-94c2-4a736afdf57a",
      "created_time": "2023-04-11T12:56:00.000Z",
      "last_edited_time": "2023-08-26T15:38:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "external",
        "external": {
          "url": "https://www.notion.so/icons/graduate_blue.svg"
        }
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-11T12:56:00.000Z",
        "date": "2023-04-11",
        "type": "Post",
        "slug": "day-2",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "Notion AI çœŸé¦™ï½",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:38:00.000Z",
        "title": "Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬2ç¯‡ã€‘",
        "category": "éšç¬”",
        "tags": [
          "éšç¬”"
        ],
        "status": "Archived",
        "urlname": "dfc6606a-ab95-45f7-94c2-4a736afdf57a",
        "updated": "2023-08-26 15:38:00"
      },
      "url": "https://www.notion.so/Seven-2-dfc6606aab9545f794c24a736afdf57a",
      "public_url": "https://1874.notion.site/Seven-2-dfc6606aab9545f794c24a736afdf57a"
    },
    {
      "object": "page",
      "id": "0b7ef73a-c23e-4019-8139-a87b987968f3",
      "created_time": "2023-04-12T16:14:00.000Z",
      "last_edited_time": "2023-08-26T15:37:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "external",
        "external": {
          "url": "https://www.notion.so/icons/graduate_blue.svg"
        }
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-12T16:14:00.000Z",
        "date": "2023-04-12",
        "type": "Post",
        "slug": "day-3",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "RxJs é’ˆä¸é”™ï½",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:37:00.000Z",
        "title": "Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬3ç¯‡ã€‘",
        "category": "éšç¬”",
        "tags": [
          "éšç¬”"
        ],
        "status": "Archived",
        "urlname": "0b7ef73a-c23e-4019-8139-a87b987968f3",
        "updated": "2023-08-26 15:37:00"
      },
      "url": "https://www.notion.so/Seven-3-0b7ef73ac23e40198139a87b987968f3",
      "public_url": "https://1874.notion.site/Seven-3-0b7ef73ac23e40198139a87b987968f3"
    },
    {
      "object": "page",
      "id": "6776bd5c-0ef2-4b60-b651-b08e0f4a4b24",
      "created_time": "2023-04-13T15:46:00.000Z",
      "last_edited_time": "2023-08-26T15:36:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "external",
        "external": {
          "url": "https://www.notion.so/icons/graduate_blue.svg"
        }
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-13T15:46:00.000Z",
        "date": "2023-04-14",
        "type": "Post",
        "slug": "day-4",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "Notion å‡½æ•°å†™èµ·æ¥çœŸè¦å‘½",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:36:00.000Z",
        "title": "Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬4ç¯‡ã€‘",
        "category": "éšç¬”",
        "tags": [
          "éšç¬”"
        ],
        "status": "Archived",
        "urlname": "6776bd5c-0ef2-4b60-b651-b08e0f4a4b24",
        "updated": "2023-08-26 15:36:00"
      },
      "url": "https://www.notion.so/Seven-4-6776bd5c0ef24b60b651b08e0f4a4b24",
      "public_url": "https://1874.notion.site/Seven-4-6776bd5c0ef24b60b651b08e0f4a4b24"
    },
    {
      "object": "page",
      "id": "7a8d6502-371a-49f8-baa2-c6e0127040f4",
      "created_time": "2023-04-16T16:39:00.000Z",
      "last_edited_time": "2023-08-26T15:36:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "external",
        "external": {
          "url": "https://www.notion.so/icons/graduate_blue.svg"
        }
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-16T16:39:00.000Z",
        "date": "2023-04-15",
        "type": "Post",
        "slug": "day-5",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:36:00.000Z",
        "title": "Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬5ç¯‡ã€‘",
        "category": "éšç¬”",
        "tags": [
          "éšç¬”"
        ],
        "status": "Archived",
        "urlname": "7a8d6502-371a-49f8-baa2-c6e0127040f4",
        "updated": "2023-08-26 15:36:00"
      },
      "url": "https://www.notion.so/Seven-5-7a8d6502371a49f8baa2c6e0127040f4",
      "public_url": "https://1874.notion.site/Seven-5-7a8d6502371a49f8baa2c6e0127040f4"
    },
    {
      "object": "page",
      "id": "48389da8-9151-4994-9902-2166f2208925",
      "created_time": "2023-07-04T15:51:00.000Z",
      "last_edited_time": "2023-08-26T15:34:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "external",
        "external": {
          "url": "https://www.notion.so/icons/graduate_blue.svg"
        }
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-07-04T15:51:00.000Z",
        "date": "2023-07-04",
        "type": "Post",
        "slug": "day-7",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "FlowUs X",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:34:00.000Z",
        "title": "Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬7ç¯‡ã€‘",
        "category": "éšç¬”",
        "tags": [
          "éšç¬”"
        ],
        "status": "Archived",
        "urlname": "48389da8-9151-4994-9902-2166f2208925",
        "updated": "2023-08-26 15:34:00"
      },
      "url": "https://www.notion.so/Seven-7-48389da89151499499022166f2208925",
      "public_url": "https://1874.notion.site/Seven-7-48389da89151499499022166f2208925"
    },
    {
      "object": "page",
      "id": "cf511d6f-d2c2-49c2-a3a2-84a1f55a546a",
      "created_time": "2023-07-05T15:26:00.000Z",
      "last_edited_time": "2023-08-26T15:28:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "external",
        "external": {
          "url": "https://www.notion.so/icons/graduate_blue.svg"
        }
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-07-05T15:26:00.000Z",
        "date": "2023-07-05",
        "type": "Post",
        "slug": "day-8",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:28:00.000Z",
        "title": "Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬8ç¯‡ã€‘",
        "category": "éšç¬”",
        "tags": [
          "éšç¬”"
        ],
        "status": "Archived",
        "urlname": "cf511d6f-d2c2-49c2-a3a2-84a1f55a546a",
        "updated": "2023-08-26 15:28:00"
      },
      "url": "https://www.notion.so/Seven-8-cf511d6fd2c249c2a3a284a1f55a546a",
      "public_url": "https://1874.notion.site/Seven-8-cf511d6fd2c249c2a3a284a1f55a546a"
    },
    {
      "object": "page",
      "id": "dce9227d-2771-4829-8748-2f85fe4f57ca",
      "created_time": "2023-07-08T15:34:00.000Z",
      "last_edited_time": "2023-08-26T15:28:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "external",
        "external": {
          "url": "https://www.notion.so/icons/graduate_blue.svg"
        }
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-07-08T15:34:00.000Z",
        "date": "2023-07-09",
        "type": "Post",
        "slug": "day-9",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:28:00.000Z",
        "title": "Sevençš„æˆé•¿ç¬”è®°ã€ç¬¬9ç¯‡ã€‘",
        "category": "éšç¬”",
        "tags": [
          "éšç¬”"
        ],
        "status": "Archived",
        "urlname": "dce9227d-2771-4829-8748-2f85fe4f57ca",
        "updated": "2023-08-26 15:28:00"
      },
      "url": "https://www.notion.so/Seven-9-dce9227d2771482987482f85fe4f57ca",
      "public_url": "https://1874.notion.site/Seven-9-dce9227d2771482987482f85fe4f57ca"
    },
    {
      "object": "page",
      "id": "0b80c709-5327-47c1-80e4-383090c64040",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T15:26:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ§§"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2022-03-29",
        "type": "Post",
        "slug": "react-state",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:26:00.000Z",
        "title": "ç¬¬å…­ç«  çŠ¶æ€æ›´æ–°",
        "category": "å­¦ä¹ ç¬”è®°",
        "tags": [
          "è‡ªé¡¶å‘ä¸‹å­¦ä¹ Reactæºç ",
          "React"
        ],
        "status": "Draft",
        "urlname": "0b80c709-5327-47c1-80e4-383090c64040",
        "updated": "2023-08-26 15:26:00"
      },
      "url": "https://www.notion.so/0b80c709532747c180e4383090c64040",
      "public_url": "https://1874.notion.site/0b80c709532747c180e4383090c64040"
    },
    {
      "object": "page",
      "id": "8c1f610f-80e0-45a6-821f-ba595c26e48a",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T15:26:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ°"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2022-03-28",
        "type": "Post",
        "slug": "react-diff",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:26:00.000Z",
        "title": "ç¬¬äº”ç«  Diffç®—æ³•",
        "category": "å­¦ä¹ ç¬”è®°",
        "tags": [
          "è‡ªé¡¶å‘ä¸‹å­¦ä¹ Reactæºç ",
          "React"
        ],
        "status": "Draft",
        "urlname": "8c1f610f-80e0-45a6-821f-ba595c26e48a",
        "updated": "2023-08-26 15:26:00"
      },
      "url": "https://www.notion.so/Diff-8c1f610f80e045a6821fba595c26e48a",
      "public_url": "https://1874.notion.site/Diff-8c1f610f80e045a6821fba595c26e48a"
    },
    {
      "object": "page",
      "id": "dcac3fa7-a41d-42ed-837b-79311b3e6e3c",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T15:26:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ›"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2022-02-19",
        "type": "Post",
        "slug": "react-commit",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:26:00.000Z",
        "title": "ç¬¬å››ç«  Reactæ¶æ„-commité˜¶æ®µ",
        "category": "å­¦ä¹ ç¬”è®°",
        "tags": [
          "è‡ªé¡¶å‘ä¸‹å­¦ä¹ Reactæºç ",
          "React"
        ],
        "status": "Draft",
        "urlname": "dcac3fa7-a41d-42ed-837b-79311b3e6e3c",
        "updated": "2023-08-26 15:26:00"
      },
      "url": "https://www.notion.so/React-commit-dcac3fa7a41d42ed837b79311b3e6e3c",
      "public_url": "https://1874.notion.site/React-commit-dcac3fa7a41d42ed837b79311b3e6e3c"
    },
    {
      "object": "page",
      "id": "5a79a465-3cd6-4cd0-be23-29de458313ce",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T15:26:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ–¨ï¸"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2021-12-15",
        "type": "Post",
        "slug": "react",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:26:00.000Z",
        "title": "ç¬¬ä¸€ç«  Reactç†å¿µ",
        "category": "å­¦ä¹ ç¬”è®°",
        "tags": [
          "è‡ªé¡¶å‘ä¸‹å­¦ä¹ Reactæºç ",
          "React"
        ],
        "status": "Draft",
        "urlname": "5a79a465-3cd6-4cd0-be23-29de458313ce",
        "updated": "2023-08-26 15:26:00"
      },
      "url": "https://www.notion.so/React-5a79a4653cd64cd0be2329de458313ce",
      "public_url": "https://1874.notion.site/React-5a79a4653cd64cd0be2329de458313ce"
    },
    {
      "object": "page",
      "id": "43bfb7df-683e-4e53-a9a9-dfe9ab6e67ba",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T15:26:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ¥"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2021-12-16",
        "type": "Post",
        "slug": "react-jsx",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:26:00.000Z",
        "title": "ç¬¬äºŒç«  Reactæ¶æ„-JSX",
        "category": "å­¦ä¹ ç¬”è®°",
        "tags": [
          "è‡ªé¡¶å‘ä¸‹å­¦ä¹ Reactæºç ",
          "React"
        ],
        "status": "Draft",
        "urlname": "43bfb7df-683e-4e53-a9a9-dfe9ab6e67ba",
        "updated": "2023-08-26 15:26:00"
      },
      "url": "https://www.notion.so/React-JSX-43bfb7df683e4e53a9a9dfe9ab6e67ba",
      "public_url": "https://1874.notion.site/React-JSX-43bfb7df683e4e53a9a9dfe9ab6e67ba"
    },
    {
      "object": "page",
      "id": "423e426b-161e-4b67-9c5c-8f82af9f8feb",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T15:26:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸš§"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2022-02-09",
        "type": "Post",
        "slug": "react-render",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:26:00.000Z",
        "title": "ç¬¬ä¸‰ç«  Reactæ¶æ„-renderé˜¶æ®µ",
        "category": "å­¦ä¹ ç¬”è®°",
        "tags": [
          "è‡ªé¡¶å‘ä¸‹å­¦ä¹ Reactæºç ",
          "React"
        ],
        "status": "Draft",
        "urlname": "423e426b-161e-4b67-9c5c-8f82af9f8feb",
        "updated": "2023-08-26 15:26:00"
      },
      "url": "https://www.notion.so/React-render-423e426b161e4b679c5c8f82af9f8feb",
      "public_url": "https://1874.notion.site/React-render-423e426b161e4b679c5c8f82af9f8feb"
    },
    {
      "object": "page",
      "id": "6c0aa69b-7ec6-47ac-b2fd-4984e2f4e020",
      "created_time": "2023-04-14T18:04:00.000Z",
      "last_edited_time": "2023-08-26T15:24:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": {
        "type": "external",
        "external": {
          "url": "https://www.notion.so/images/page-cover/woodcuts_4.jpg"
        }
      },
      "icon": {
        "type": "external",
        "external": {
          "url": "https://www.notion.so/icons/notification_blue.svg"
        }
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-14T18:04:00.000Z",
        "date": "2023-04-15",
        "type": "Post",
        "slug": "notion-weekly-board",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•åœ¨Notionä¸­æ‰“é€ TODO Listï¼ŒåŒ…æ‹¬çœ‹æ¿å’Œæ•°æ®åº“å±æ€§çš„è®¾ç½®ï¼Œä»¥åŠé«˜çº§ç­›é€‰å’Œå‡½æ•°çš„ä½¿ç”¨ã€‚æ­¤å¤–ï¼Œè¿˜åˆ†äº«äº†Notionæ¨¡æ¿ã€‚",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:24:00.000Z",
        "title": "ç©è½¬Notionç³»åˆ—â€”â€”TODO List",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Notion"
        ],
        "status": "Archived",
        "urlname": "6c0aa69b-7ec6-47ac-b2fd-4984e2f4e020",
        "updated": "2023-08-26 15:24:00"
      },
      "url": "https://www.notion.so/Notion-TODO-List-6c0aa69b7ec647acb2fd4984e2f4e020",
      "public_url": "https://1874.notion.site/Notion-TODO-List-6c0aa69b7ec647acb2fd4984e2f4e020"
    },
    {
      "object": "page",
      "id": "0feb7c90-7c54-4806-9ade-d9ae5bab5946",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T15:24:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸª—"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2019-02-09",
        "type": "Post",
        "slug": "oelsu8",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:24:00.000Z",
        "title": "æ³¨è§£å¼é…ç½®dubboæœåŠ¡",
        "category": "å­¦ä¹ ç¬”è®°",
        "tags": [
          "Java"
        ],
        "status": "Archived",
        "urlname": "0feb7c90-7c54-4806-9ade-d9ae5bab5946",
        "updated": "2023-08-26 15:24:00"
      },
      "url": "https://www.notion.so/dubbo-0feb7c907c5448069aded9ae5bab5946",
      "public_url": "https://1874.notion.site/dubbo-0feb7c907c5448069aded9ae5bab5946"
    },
    {
      "object": "page",
      "id": "31d9494b-7c68-4d94-a407-7625e31421fb",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T15:24:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸš§"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2019-02-17",
        "type": "Post",
        "slug": "fh1na3",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:24:00.000Z",
        "title": "Spring Securityå®‰å…¨æ¡†æ¶å…¥é—¨",
        "category": "å­¦ä¹ ç¬”è®°",
        "tags": [
          "Java"
        ],
        "status": "Archived",
        "urlname": "31d9494b-7c68-4d94-a407-7625e31421fb",
        "updated": "2023-08-26 15:24:00"
      },
      "url": "https://www.notion.so/Spring-Security-31d9494b7c684d94a4077625e31421fb",
      "public_url": "https://1874.notion.site/Spring-Security-31d9494b7c684d94a4077625e31421fb"
    },
    {
      "object": "page",
      "id": "51cd7a47-863b-49a3-8064-8797159d298e",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T15:24:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ’Š"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2020-03-01",
        "type": "Post",
        "slug": "vkdsce",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:24:00.000Z",
        "title": "Gitå¸¸ç”¨å‘½ä»¤",
        "category": "å­¦ä¹ ç¬”è®°",
        "tags": [
          "Git"
        ],
        "status": "Archived",
        "urlname": "51cd7a47-863b-49a3-8064-8797159d298e",
        "updated": "2023-08-26 15:24:00"
      },
      "url": "https://www.notion.so/Git-51cd7a47863b49a380648797159d298e",
      "public_url": "https://1874.notion.site/Git-51cd7a47863b49a380648797159d298e"
    },
    {
      "object": "page",
      "id": "d9d157b7-9c7f-4375-8d60-d4b58d51882a",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T15:24:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ¹"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2020-04-15",
        "type": "Post",
        "slug": "ymxk6u",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:24:00.000Z",
        "title": "é˜¿é‡Œcanalæ•°æ®åº“å‘½ä»¤æ€»ç»“",
        "category": "å­¦ä¹ ç¬”è®°",
        "tags": [
          "Java"
        ],
        "status": "Archived",
        "urlname": "d9d157b7-9c7f-4375-8d60-d4b58d51882a",
        "updated": "2023-08-26 15:24:00"
      },
      "url": "https://www.notion.so/canal-d9d157b79c7f43758d60d4b58d51882a",
      "public_url": "https://1874.notion.site/canal-d9d157b79c7f43758d60d4b58d51882a"
    },
    {
      "object": "page",
      "id": "02209783-f54d-4d2e-9a4e-508c42e43ad9",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T15:24:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸŠ"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2022-07-16",
        "type": "Post",
        "slug": "zbbxv0",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "æœ¬æ–‡è®°å½•äº†åœ¨è¯­é›€äº‘ç«¯å†™ä½œ Hexo+Github Actions+COS æŒç»­é›†æˆä¸­ï¼Œæ­å»º Node é¡¹ç›®ä½œä¸ºä¸­è½¬ç«™çš„è¿‡ç¨‹ã€‚é€šè¿‡åˆå§‹åŒ– Midwayï¼Œç¼–å†™ GithubController å’Œ GithubServiceï¼Œå®ç°äº†é€šè¿‡ Github Actions çš„æ¥å£è§¦å‘æ„å»ºæµç¨‹ã€‚è¯¦ç»†å†…å®¹è¯·è§æ–‡ç« ã€‚",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:24:00.000Z",
        "title": "Midwayé¡¹ç›®æ­å»ºè®°å½•",
        "category": "å­¦ä¹ ç¬”è®°",
        "tags": [
          "Node",
          "Midway"
        ],
        "status": "Archived",
        "urlname": "02209783-f54d-4d2e-9a4e-508c42e43ad9",
        "updated": "2023-08-26 15:24:00"
      },
      "url": "https://www.notion.so/Midway-02209783f54d4d2e9a4e508c42e43ad9",
      "public_url": "https://1874.notion.site/Midway-02209783f54d4d2e9a4e508c42e43ad9"
    },
    {
      "object": "page",
      "id": "c28edc25-f869-45dd-875e-0e7396067ac4",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T15:22:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸš–"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2022-02-12",
        "type": "Post",
        "slug": "nvikqw",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "è¿™æ˜¯ä¸€ä¸ªæ”¯æŒå¤šä¸ªå›¾åºŠçš„æ’ä»¶ï¼Œç”¨äºåœ¨åšå®¢ä¸­ä¸Šä¼ å›¾ç‰‡ã€‚ç›®å‰å·²é€‚é…çš„å›¾åºŠåŒ…æ‹¬è…¾è®¯äº‘ã€é˜¿é‡Œäº‘å’Œä¸ƒç‰›äº‘ã€‚è¯¥æ’ä»¶æä¾›äº†ä¸€ä¸ªæ¥å£é€‚é…å±‚ï¼Œä½¿å¾—ä¸Šå±‚åœ¨ä½¿ç”¨æ—¶å¯ä»¥ä¼ å…¥ä¸åŒçš„é…ç½®å‚æ•°é€‰æ‹©ä¸åŒçš„å›¾åºŠã€‚æ›´å¤šè¯¦æƒ…è¯·æŸ¥çœ‹yuqe-hexo-with-cdnã€‚",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:22:00.000Z",
        "title": "yuqe-hexo-with-cdnæ’ä»¶æ”¯æŒå¤šå›¾åºŠ",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Hexo"
        ],
        "status": "Archived",
        "urlname": "c28edc25-f869-45dd-875e-0e7396067ac4",
        "updated": "2023-08-26 15:22:00"
      },
      "url": "https://www.notion.so/yuqe-hexo-with-cdn-c28edc25f86945dd875e0e7396067ac4",
      "public_url": "https://1874.notion.site/yuqe-hexo-with-cdn-c28edc25f86945dd875e0e7396067ac4"
    },
    {
      "object": "page",
      "id": "49a7c01d-86a0-4cf9-bb14-7a55a4651215",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T15:22:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ¢"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2022-01-19",
        "type": "Post",
        "slug": "roeayv",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "è¯¥æ–‡æ¡£ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨è¯­é›€äº‘ç«¯å†™ä½œHexo+Github Actions+COSè¿›è¡ŒæŒç»­é›†æˆï¼Œä»¥åŠå¦‚ä½•é…ç½®è…¾è®¯äº‘å‡½æ•°å’Œè¯­é›€webhookï¼Œæœ€åä»‹ç»äº†ä¸€äº›å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆã€‚",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:22:00.000Z",
        "title": "è¯­é›€äº‘ç«¯å†™ä½œHexo+Github Actions+COSæŒç»­é›†æˆ",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "CI/CD",
          "Hexo"
        ],
        "status": "Archived",
        "urlname": "49a7c01d-86a0-4cf9-bb14-7a55a4651215",
        "updated": "2023-08-26 15:22:00"
      },
      "url": "https://www.notion.so/Hexo-Github-Actions-COS-49a7c01d86a04cf9bb147a55a4651215",
      "public_url": "https://1874.notion.site/Hexo-Github-Actions-COS-49a7c01d86a04cf9bb147a55a4651215"
    },
    {
      "object": "page",
      "id": "451fde56-fb4a-475d-a152-82ebe33d6a74",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T15:22:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2020-04-20",
        "type": "Post",
        "slug": "ulvcm5",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨webpackçš„url-loaderå’Œimage-webpack-loaderæ’ä»¶æ¥ä¼˜åŒ–å›¾ç‰‡ã€‚å…¶ä¸­ï¼Œurl-loaderå¯ä»¥å°†å°äº1kbçš„å›¾ç‰‡è½¬æ¢æˆbase64ç¼–ç è¿›è¡Œå­˜å‚¨ï¼Œè€Œimage-webpack-loaderå¯ä»¥å¯¹å¤§ä¸€ç‚¹çš„å›¾ç‰‡è¿›è¡Œå‹ç¼©ã€‚è¿˜ä»‹ç»äº†å„ä¸ªä¼˜åŒ–å™¨çš„ä½œç”¨ï¼Œå¦‚mozjpegã€optipngã€pngquantç­‰ï¼Œå¹¶æä¾›äº†ç›¸åº”çš„é…ç½®å‚æ•°è¯´æ˜ã€‚",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:22:00.000Z",
        "title": "Webpacké…ç½®-å›¾ç‰‡ä¼˜åŒ–",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Webpack"
        ],
        "status": "Archived",
        "urlname": "451fde56-fb4a-475d-a152-82ebe33d6a74",
        "updated": "2023-08-26 15:22:00"
      },
      "url": "https://www.notion.so/Webpack-451fde56fb4a475da15282ebe33d6a74",
      "public_url": "https://1874.notion.site/Webpack-451fde56fb4a475da15282ebe33d6a74"
    },
    {
      "object": "page",
      "id": "8e09392b-f4ba-4969-8f3f-d47d779f6ff3",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T15:22:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ³"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2021-01-09",
        "type": "Post",
        "slug": "fqx1vy",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:22:00.000Z",
        "title": "webpack-dev-serverå¯åŠ¨æ‰¾ä¸åˆ°config-yargs",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Webpack"
        ],
        "status": "Archived",
        "urlname": "8e09392b-f4ba-4969-8f3f-d47d779f6ff3",
        "updated": "2023-08-26 15:22:00"
      },
      "url": "https://www.notion.so/webpack-dev-server-config-yargs-8e09392bf4ba49698f3fd47d779f6ff3",
      "public_url": "https://1874.notion.site/webpack-dev-server-config-yargs-8e09392bf4ba49698f3fd47d779f6ff3"
    },
    {
      "object": "page",
      "id": "506adb06-6632-4133-be32-171a4ec0af21",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T15:22:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ›µ"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2021-01-15",
        "type": "Post",
        "slug": "ar658s",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "æœ¬æ–‡ä»‹ç»äº†å‰ç«¯å¼€å‘è§„èŒƒä¸­ä½¿ç”¨çš„Eslintã€‚ä½œè€…ä»‹ç»äº†è‡ªå·±å’Œå›¢é˜Ÿåœ¨ä½¿ç”¨Eslintè¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ï¼Œæœ€ç»ˆé€‰æ‹©äº†Eslint + Prettierçš„ç»„åˆï¼Œå¹¶ä½¿ç”¨äº†è…¾è®¯AlloyTeamåˆ›ç«‹çš„ä¸€å¥—Eslintè§„åˆ™ã€‚æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†Eslintè§„åˆ™çš„è®¾è®¡ç†å¿µå’Œæ ·å¼ç›¸å…³çš„è§„åˆ™äº¤ç»™Prettieræ¥ç®¡ç†çš„æ€æƒ³ï¼Œä»¥åŠå¦‚ä½•å¼€å§‹é…ç½®Eslintã€‚åŒæ—¶ï¼Œä½œè€…è¿˜ä»‹ç»äº†å¦‚ä½•é€‚é…WebStormæ¥ä½¿ç”¨Eslintè¿›è¡Œä»£ç æ£€æŸ¥ã€‚",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:22:00.000Z",
        "title": "å‰ç«¯å¼€å‘è§„èŒƒä¹‹Eslint",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Eslint",
          "ä»£ç è§„èŒƒ"
        ],
        "status": "Archived",
        "urlname": "506adb06-6632-4133-be32-171a4ec0af21",
        "updated": "2023-08-26 15:22:00"
      },
      "url": "https://www.notion.so/Eslint-506adb0666324133be32171a4ec0af21",
      "public_url": "https://1874.notion.site/Eslint-506adb0666324133be32171a4ec0af21"
    },
    {
      "object": "page",
      "id": "e7200c3e-ae64-4093-8ecc-4d249b091349",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T15:22:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ›¡ï¸"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2021-02-01",
        "type": "Post",
        "slug": "hemk59",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•åœ¨Vueä¸­ç»´æŠ¤è·¯ç”±è·³è½¬è®°å½•ï¼Œä»¥è§£å†³ä½¿ç”¨this.$router.go(-1)è¿”å›ä¸Šä¸€ä¸ªè·¯ç”±æ—¶ï¼Œæ— æ³•æ‹¿åˆ°ä¸Šä¸ªè·¯ç”±çš„è·¯ç”±åœ°å€çš„é—®é¢˜ï¼Œå¹¶é¿å…è¿›å…¥æ­»å¾ªç¯ã€‚ä½œè€…æå‡ºäº†é€šè¿‡è·¯ç”±å®ˆå«ï¼Œåˆ©ç”¨å †æ ˆçš„æ–¹å¼ç»´æŠ¤é¡µé¢è·³è½¬çš„å†å²è®°å½•çš„æ€è·¯ï¼Œå¹¶ç»™å‡ºäº†å…·ä½“å®ç°æ–¹æ³•ã€‚",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:22:00.000Z",
        "title": "åœ¨Vueä¸­ç»´æŠ¤è·¯ç”±è·³è½¬è®°å½•",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Vue"
        ],
        "status": "Archived",
        "urlname": "e7200c3e-ae64-4093-8ecc-4d249b091349",
        "updated": "2023-08-26 15:22:00"
      },
      "url": "https://www.notion.so/Vue-e7200c3eae6440938ecc4d249b091349",
      "public_url": "https://1874.notion.site/Vue-e7200c3eae6440938ecc4d249b091349"
    },
    {
      "object": "page",
      "id": "701f9876-9f7a-4f28-b225-7077e45cfeab",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T15:22:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸŒ¡ï¸"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2021-05-08",
        "type": "Post",
        "slug": "zqsrm2",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "æœ¬æ–‡ä¸»è¦ä»‹ç»äº† npm ä¾èµ–ç®¡ç†çš„æœºåˆ¶ï¼ŒåŒ…æ‹¬ npm å®‰è£…æœºåˆ¶ã€npm 2 å’Œ npm 3 æ¨¡å—å®‰è£…æœºåˆ¶çš„å·®å¼‚ã€npm 3 å¯¹äºåŒä¸€ä¾èµ–çš„ä¸åŒç‰ˆæœ¬çš„å¤„ç†ã€package-lock.json æ–‡ä»¶çš„ç»“æ„å’Œä½œç”¨ç­‰å†…å®¹ã€‚",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:22:00.000Z",
        "title": "æ¢ç©¶npm ä¾èµ–ç®¡ç†",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Npm"
        ],
        "status": "Archived",
        "urlname": "701f9876-9f7a-4f28-b225-7077e45cfeab",
        "updated": "2023-08-26 15:22:00"
      },
      "url": "https://www.notion.so/npm-701f98769f7a4f28b2257077e45cfeab",
      "public_url": "https://1874.notion.site/npm-701f98769f7a4f28b2257077e45cfeab"
    },
    {
      "object": "page",
      "id": "530f1e97-1df5-45a3-a1e4-4b0fa0ef957d",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T15:22:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ©º"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2021-05-16",
        "type": "Post",
        "slug": "xelwzw",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:22:00.000Z",
        "title": "ä»£ç çš„é©¬æ–¯æ´›é‡‘å­—å¡”",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "ä»£ç è§„èŒƒ"
        ],
        "status": "Archived",
        "urlname": "530f1e97-1df5-45a3-a1e4-4b0fa0ef957d",
        "updated": "2023-08-26 15:22:00"
      },
      "url": "https://www.notion.so/530f1e971df545a3a1e44b0fa0ef957d",
      "public_url": "https://1874.notion.site/530f1e971df545a3a1e44b0fa0ef957d"
    },
    {
      "object": "page",
      "id": "aea49f8c-44b2-44d5-a269-c0d1ff23625d",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T15:22:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2021-10-12",
        "type": "Post",
        "slug": "peqmq8",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "æœ¬æ–‡ä»‹ç»äº†ä¸€ä¸ª React ä¸­åå°ç³»ç»Ÿå¤šé¡µç­¾æ–¹æ¡ˆï¼ŒåŒ…æ‹¬æ ‡ç­¾é¡µåŠŸèƒ½ã€é¡µé¢æ•°æ®ç¼“å­˜ã€æƒé™ç›¸å…³ç­‰åŠŸèƒ½ç‚¹ã€‚åŒæ—¶ï¼Œè¿˜æ¶‰åŠåˆ°è·¯ç”±ç»“æ„å’Œ Layout å¸ƒå±€ç»„ä»¶ç­‰æ–¹é¢çš„é—®é¢˜ã€‚æœ¬æ–‡æ—¨åœ¨å¸®åŠ©è¯»è€…ç†è§£å¤šé¡µç­¾å®ç°çš„åŸç†åŠå…¶åº”ç”¨åœºæ™¯ã€‚",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:22:00.000Z",
        "title": "React ä¸­åå°ç³»ç»Ÿå¤šé¡µç­¾æ–¹æ¡ˆ",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "React"
        ],
        "status": "Archived",
        "urlname": "aea49f8c-44b2-44d5-a269-c0d1ff23625d",
        "updated": "2023-08-26 15:22:00"
      },
      "url": "https://www.notion.so/React-aea49f8c44b244d5a269c0d1ff23625d",
      "public_url": "https://1874.notion.site/React-aea49f8c44b244d5a269c0d1ff23625d"
    },
    {
      "object": "page",
      "id": "cbd49264-58c3-4052-b267-0ec9109cb24d",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T15:21:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "â›³"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2020-10-16",
        "type": "Post",
        "slug": "hryfur",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "æœ¬æ–‡ä¸»è¦ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ Nginx é…ç½®é‡å®šå‘å’Œ HTTPSï¼ŒåŒ…æ‹¬å¦‚ä½•å°† HTTP è¯·æ±‚é‡å®šå‘åˆ° HTTPSï¼Œä»¥åŠå¦‚ä½•ç”³è¯·å’Œé…ç½® SSL è¯ä¹¦ã€‚æ­¤å¤–ï¼Œæœ¬æ–‡è¿˜æä¾›äº†ä¸€ä¸ªç®€å•çš„è„šæœ¬ï¼Œç”¨äºè‡ªåŠ¨åŒ–å¯åŠ¨ Nginxã€‚",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:21:00.000Z",
        "title": "Nginxé…ç½®é‡å®šå‘å’ŒHttpsçš„å®è·µ",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Nginx",
          "SSL"
        ],
        "status": "Archived",
        "urlname": "cbd49264-58c3-4052-b267-0ec9109cb24d",
        "updated": "2023-08-26 15:21:00"
      },
      "url": "https://www.notion.so/Nginx-Https-cbd4926458c34052b2670ec9109cb24d",
      "public_url": "https://1874.notion.site/Nginx-Https-cbd4926458c34052b2670ec9109cb24d"
    },
    {
      "object": "page",
      "id": "b043b306-f082-4e6d-bd82-f4be2262de22",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T15:20:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ’§"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2019-05-14",
        "type": "Post",
        "slug": "qfvyux",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T15:20:00.000Z",
        "title": "HBaseé›†ç¾¤æ­å»ºè¿‡ç¨‹ä¸­å®¹æ˜“å‡ºç°çš„Bugæ±‡æ€»åŠè§£å†³æ–¹æ¡ˆ",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Java"
        ],
        "status": "Archived",
        "urlname": "b043b306-f082-4e6d-bd82-f4be2262de22",
        "updated": "2023-08-26 15:20:00"
      },
      "url": "https://www.notion.so/HBase-Bug-b043b306f0824e6dbd82f4be2262de22",
      "public_url": "https://1874.notion.site/HBase-Bug-b043b306f0824e6dbd82f4be2262de22"
    },
    {
      "object": "page",
      "id": "5608118c-f262-4b39-999d-d67a5424cd82",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T14:48:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ¥"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2019-02-21",
        "type": "Post",
        "slug": "di6uo5",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T14:48:00.000Z",
        "title": "åœ¨è…¾è®¯äº‘æœåŠ¡å™¨ä¸Šå®‰è£…FastDFS",
        "category": "å­¦ä¹ ç¬”è®°",
        "tags": [
          "Java"
        ],
        "status": "Archived",
        "urlname": "5608118c-f262-4b39-999d-d67a5424cd82",
        "updated": "2023-08-26 14:48:00"
      },
      "url": "https://www.notion.so/FastDFS-5608118cf2624b39999dd67a5424cd82",
      "public_url": "https://1874.notion.site/FastDFS-5608118cf2624b39999dd67a5424cd82"
    },
    {
      "object": "page",
      "id": "b3c87db0-ebc5-4eb3-9529-2ea17e5d4bc8",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T14:48:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ…"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2021-01-15",
        "type": "Post",
        "slug": "sbgn9r",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T14:48:00.000Z",
        "title": "Tinymce-Vueåˆä½“éªŒ",
        "category": "å­¦ä¹ ç¬”è®°",
        "tags": [
          "å¯Œæ–‡æœ¬",
          "Vue"
        ],
        "status": "Archived",
        "urlname": "b3c87db0-ebc5-4eb3-9529-2ea17e5d4bc8",
        "updated": "2023-08-26 14:48:00"
      },
      "url": "https://www.notion.so/Tinymce-Vue-b3c87db0ebc54eb395292ea17e5d4bc8",
      "public_url": "https://1874.notion.site/Tinymce-Vue-b3c87db0ebc54eb395292ea17e5d4bc8"
    },
    {
      "object": "page",
      "id": "53037fea-b13b-4fc6-8c6b-a254bb871dcd",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T14:43:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ¢"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2019-05-04",
        "type": "Post",
        "slug": "olp6f6",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T14:43:00.000Z",
        "title": "Centoså‘½ä»¤æç¤ºç¬¦æ˜¾ç¤ºå®Œæ•´è·¯å¾„",
        "category": "å­¦ä¹ ç¬”è®°",
        "tags": [
          "Linux"
        ],
        "status": "Archived",
        "urlname": "53037fea-b13b-4fc6-8c6b-a254bb871dcd",
        "updated": "2023-08-26 14:43:00"
      },
      "url": "https://www.notion.so/Centos-53037feab13b4fc68c6ba254bb871dcd",
      "public_url": "https://1874.notion.site/Centos-53037feab13b4fc68c6ba254bb871dcd"
    },
    {
      "object": "page",
      "id": "969bc5c0-227e-40fc-bed8-74216c1c53a9",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T14:43:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ¥"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2020-04-17",
        "type": "Post",
        "slug": "oslix7",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T14:43:00.000Z",
        "title": "è°ˆä¸€è°ˆäºŒè¿›åˆ¶",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "æ•°æ®ç»“æ„"
        ],
        "status": "Archived",
        "urlname": "969bc5c0-227e-40fc-bed8-74216c1c53a9",
        "updated": "2023-08-26 14:43:00"
      },
      "url": "https://www.notion.so/969bc5c0227e40fcbed874216c1c53a9",
      "public_url": "https://1874.notion.site/969bc5c0227e40fcbed874216c1c53a9"
    },
    {
      "object": "page",
      "id": "af91247d-4fac-406b-8272-9a807defeefd",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T14:43:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ¥‰"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2019-04-02",
        "type": "Post",
        "slug": "qykfat",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "è¿™ç¯‡æ–‡ç« ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ SpringBootã€ActiveMQ å’Œè…¾è®¯äº‘ SMS æ­å»º Java çŸ­ä¿¡å¾®æœåŠ¡ï¼Œå¹¶æä¾›äº†è¯¦ç»†çš„æ­¥éª¤å’Œä»£ç ç¤ºä¾‹ã€‚",
        "æ›´æ–°æ—¶é—´": "2023-08-26T14:43:00.000Z",
        "title": "JavaçŸ­ä¿¡å¾®æœåŠ¡å¼€å‘ SpringBoot+ActiveMQ+è…¾è®¯äº‘SMS",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Java"
        ],
        "status": "Archived",
        "urlname": "af91247d-4fac-406b-8272-9a807defeefd",
        "updated": "2023-08-26 14:43:00"
      },
      "url": "https://www.notion.so/Java-SpringBoot-ActiveMQ-SMS-af91247d4fac406b82729a807defeefd",
      "public_url": "https://1874.notion.site/Java-SpringBoot-ActiveMQ-SMS-af91247d4fac406b82729a807defeefd"
    },
    {
      "object": "page",
      "id": "e9a8c0ae-05f5-4bb4-b40b-2df593e8814d",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T14:42:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸš"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2021-08-14",
        "type": "Post",
        "slug": "epmi4g",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T14:42:00.000Z",
        "title": "å…³äºæ¥å£çš„è¯·æ±‚çš„ä¸€äº›æ€è€ƒ",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "å¹¶å‘"
        ],
        "status": "Archived",
        "urlname": "e9a8c0ae-05f5-4bb4-b40b-2df593e8814d",
        "updated": "2023-08-26 14:42:00"
      },
      "url": "https://www.notion.so/e9a8c0ae05f54bb4b40b2df593e8814d",
      "public_url": "https://1874.notion.site/e9a8c0ae05f54bb4b40b2df593e8814d"
    },
    {
      "object": "page",
      "id": "9a588e82-f423-4887-a07b-159f06e02b09",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T14:42:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ•“"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2022-04-22",
        "type": "Post",
        "slug": "is8lw3",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•åœ¨MacOSä¸Šå¸è½½nvm/nodeå¹¶é‡æ–°å®‰è£…ã€‚åŒ…æ‹¬å¸è½½nvmã€nodeã€yarnã€npmçš„æ­¥éª¤ï¼Œä»¥åŠå®‰è£…nodeå’Œnvmçš„è¿‡ç¨‹ã€‚åŒæ—¶ï¼Œè¿˜æä¾›äº†è§£å†³nodeåœ°å€é—®é¢˜çš„ä¸¤ç§æ–¹æ³•ã€‚",
        "æ›´æ–°æ—¶é—´": "2023-08-26T14:42:00.000Z",
        "title": "MacOSå¼€å‘ç¯å¢ƒæ²»ç†-å¸è½½nvm/nodeå¹¶é‡æ–°å®‰è£…",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Node"
        ],
        "status": "Archived",
        "urlname": "9a588e82-f423-4887-a07b-159f06e02b09",
        "updated": "2023-08-26 14:42:00"
      },
      "url": "https://www.notion.so/MacOS-nvm-node-9a588e82f4234887a07b159f06e02b09",
      "public_url": "https://1874.notion.site/MacOS-nvm-node-9a588e82f4234887a07b159f06e02b09"
    },
    {
      "object": "page",
      "id": "88e73589-a9b1-4652-b05e-116b288aa5b8",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T14:42:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ—ï¸"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2019-02-08",
        "type": "Post",
        "slug": "ywdq07",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T14:42:00.000Z",
        "title": "Mybatisåˆ†é¡µæ’ä»¶è­¦å‘Šè§£å†³åŠæ³•",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Java"
        ],
        "status": "Archived",
        "urlname": "88e73589-a9b1-4652-b05e-116b288aa5b8",
        "updated": "2023-08-26 14:42:00"
      },
      "url": "https://www.notion.so/Mybatis-88e73589a9b14652b05e116b288aa5b8",
      "public_url": "https://1874.notion.site/Mybatis-88e73589a9b14652b05e116b288aa5b8"
    },
    {
      "object": "page",
      "id": "ed1e7737-88f0-4197-8f29-47ceb92792f0",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T14:42:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ“”"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2021-02-06",
        "type": "Post",
        "slug": "kolyq9",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "æœ¬æ–‡ä»‹ç»äº†åœ¨Webpackä¸­ä½¿ç”¨å¤šè¿›ç¨‹/å¤šå®ä¾‹è§£æèµ„æºçš„æ–¹æ³•ï¼Œä»¥åŠä¼˜åŒ–Webpackæ€§èƒ½çš„ä¸¤ç§æ–¹æ³•ï¼šåœ¨Webpack4ä¸­ä½¿ç”¨hard-source-webpack-pluginæ’ä»¶ï¼Œåœ¨Webpack5ä¸­ä½¿ç”¨cacheé€‰é¡¹ã€‚æœ¬æ–‡è¿˜æåˆ°äº†ä½¿ç”¨hard-source-webpack-pluginæ’ä»¶çš„æ³¨æ„äº‹é¡¹ã€‚",
        "æ›´æ–°æ—¶é—´": "2023-08-26T14:42:00.000Z",
        "title": "Webpacké…ç½®-å¤šè¿›ç¨‹/å¤šå®ä¾‹è§£æèµ„æº",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Webpack"
        ],
        "status": "Archived",
        "urlname": "ed1e7737-88f0-4197-8f29-47ceb92792f0",
        "updated": "2023-08-26 14:42:00"
      },
      "url": "https://www.notion.so/Webpack-ed1e773788f041978f2947ceb92792f0",
      "public_url": "https://1874.notion.site/Webpack-ed1e773788f041978f2947ceb92792f0"
    },
    {
      "object": "page",
      "id": "4df7c95e-9f18-437e-a4fa-34f2dfd07c74",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T14:42:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ‘Ÿ"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2021-09-03",
        "type": "Post",
        "slug": "fgligg",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-08-26T14:42:00.000Z",
        "title": "è·¨åŸŸåœºæ™¯æ±‡æ€»",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Bugs"
        ],
        "status": "Archived",
        "urlname": "4df7c95e-9f18-437e-a4fa-34f2dfd07c74",
        "updated": "2023-08-26 14:42:00"
      },
      "url": "https://www.notion.so/4df7c95e9f18437ea4fa34f2dfd07c74",
      "public_url": "https://1874.notion.site/4df7c95e9f18437ea4fa34f2dfd07c74"
    },
    {
      "object": "page",
      "id": "74a06a6c-40b4-4408-8636-14cf996b3a71",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-08-26T14:42:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ“¿"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2021-02-24",
        "type": "Post",
        "slug": "owidng",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "æœ¬æ–‡ä»‹ç»äº†ä¸€ç§åˆ©ç”¨ pdf.js å’Œ pdfbox æŠ€æœ¯å®ç°å¤§æ–‡ä»¶ PDF é¢„è§ˆçš„è§£å†³æ–¹æ¡ˆã€‚é€šè¿‡é‡‡ç”¨å‰ç«¯ pdf.js æ’ä»¶è§£æ PDF æ–‡ä»¶å¹¶è½¬åŒ–ä¸ºå›¾ç‰‡ï¼Œåç«¯ pdfbox è¿›è¡Œ PDF å¤„ç†å’Œåˆ‡å›¾ï¼Œå®ç°äº†å¤§æ–‡ä»¶çš„åˆ†ç‰‡ä¸Šä¼ å’Œå¤„ç†ã€‚åŒæ—¶ï¼Œæœ¬æ–‡ä»‹ç»äº†åœ¨å®è·µè¿‡ç¨‹ä¸­é‡åˆ°çš„å†…å­˜æº¢å‡ºé—®é¢˜å’Œè§£å†³æ–¹æ¡ˆã€‚",
        "æ›´æ–°æ—¶é—´": "2023-08-26T14:42:00.000Z",
        "title": "å¤§æ–‡ä»¶pdfé¢„è§ˆè§£å†³æ–¹æ¡ˆ",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Vue",
          "Java"
        ],
        "status": "Archived",
        "urlname": "74a06a6c-40b4-4408-8636-14cf996b3a71",
        "updated": "2023-08-26 14:42:00"
      },
      "url": "https://www.notion.so/pdf-74a06a6c40b44408863614cf996b3a71",
      "public_url": "https://1874.notion.site/pdf-74a06a6c40b44408863614cf996b3a71"
    },
    {
      "object": "page",
      "id": "a0d6553b-62bf-4019-8aa9-4219242f7b9a",
      "created_time": "2023-07-14T10:17:00.000Z",
      "last_edited_time": "2023-07-25T15:31:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": {
        "type": "external",
        "external": {
          "url": "https://www.notion.so/images/page-cover/gradients_8.png"
        }
      },
      "icon": {
        "type": "external",
        "external": {
          "url": "https://www.notion.so/icons/mathematics_blue.svg"
        }
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-07-14T10:17:00.000Z",
        "date": "2023-07-14",
        "type": "Post",
        "slug": "leetcode-day-3",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-07-25T15:31:00.000Z",
        "title": "ã€ä»£ç éšæƒ³å½•ã€‘ç®—æ³•è®­ç»ƒè¥ç¬¬3å¤©",
        "category": "ç®—æ³•åˆ·é¢˜",
        "tags": [
          "ç®—æ³•è®­ç»ƒè¥"
        ],
        "status": "Invisible",
        "urlname": "a0d6553b-62bf-4019-8aa9-4219242f7b9a",
        "updated": "2023-07-25 15:31:00"
      },
      "url": "https://www.notion.so/3-a0d6553b62bf40198aa94219242f7b9a",
      "public_url": "https://1874.notion.site/3-a0d6553b62bf40198aa94219242f7b9a"
    },
    {
      "object": "page",
      "id": "dff5c177-a377-4ba9-9924-54113ce1ec5e",
      "created_time": "2023-07-10T15:33:00.000Z",
      "last_edited_time": "2023-07-10T15:33:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "external",
        "external": {
          "url": "https://www.notion.so/icons/binoculars_brown.svg"
        }
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-07-10T15:33:00.000Z",
        "date": "2023-07-10 15:33:00",
        "type": "Post",
        "slug": "beyond-code-2023-w28",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-07-10T15:33:00.000Z",
        "title": "ä»£ç ä¹‹å¤– 2023-W28",
        "category": "ä»£ç ä¹‹å¤–",
        "tags": [],
        "status": "Draft",
        "urlname": "dff5c177-a377-4ba9-9924-54113ce1ec5e",
        "updated": "2023-07-10 15:33:00"
      },
      "url": "https://www.notion.so/2023-W28-dff5c177a3774ba9992454113ce1ec5e",
      "public_url": "https://1874.notion.site/2023-W28-dff5c177a3774ba9992454113ce1ec5e"
    },
    {
      "object": "page",
      "id": "346c9ff0-8751-4367-9d60-a88c2fff08b4",
      "created_time": "2023-07-10T14:49:00.000Z",
      "last_edited_time": "2023-07-10T15:10:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸš¨"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-07-10T14:49:00.000Z",
        "date": "2023-07-10",
        "type": "Post",
        "slug": "weekly-2023-w28",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "",
        "æ›´æ–°æ—¶é—´": "2023-07-10T15:10:00.000Z",
        "title": "æŠ€æœ¯å‘¨åˆŠ 2023-W28",
        "category": "æŠ€æœ¯å‘¨åˆŠ",
        "tags": [],
        "status": "Draft",
        "urlname": "346c9ff0-8751-4367-9d60-a88c2fff08b4",
        "updated": "2023-07-10 15:10:00"
      },
      "url": "https://www.notion.so/2023-W28-346c9ff0875143679d60a88c2fff08b4",
      "public_url": "https://1874.notion.site/2023-W28-346c9ff0875143679d60a88c2fff08b4"
    },
    {
      "object": "page",
      "id": "4296105d-56f7-4dc7-be6a-ac69ba786d50",
      "created_time": "2023-04-09T18:39:00.000Z",
      "last_edited_time": "2023-07-10T13:15:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "external",
        "external": {
          "url": "https://www.notion.so/icons/gym_purple.svg"
        }
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-09T18:39:00.000Z",
        "date": "2023-04-10",
        "type": "Post",
        "slug": "migrate-blog-to-notion",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "åšå®¢è¿ç§»è®°å½•",
        "æ›´æ–°æ—¶é—´": "2023-07-10T13:15:00.000Z",
        "title": "è¿ç§»åšå®¢åˆ° Notion",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Notion"
        ],
        "status": "Published",
        "urlname": "4296105d-56f7-4dc7-be6a-ac69ba786d50",
        "updated": "2023-07-10 13:15:00"
      },
      "url": "https://www.notion.so/Notion-4296105d56f74dc7be6aac69ba786d50",
      "public_url": "https://1874.notion.site/Notion-4296105d56f74dc7be6aac69ba786d50"
    },
    {
      "object": "page",
      "id": "335ae226-1802-4706-98b5-2a09bde056a1",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-05-31T16:23:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ¢"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2022-06-23",
        "type": "Post",
        "slug": "qzmpp5",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨Github Actionsè‡ªåŠ¨åŒ–å‘å¸ƒnpmåŒ…ï¼Œä»¥åŠå¦‚ä½•æ‰“é€ ä¸€ä¸ªåŒæ—¶å¯¼å‡ºcjså’Œesmçš„npmåŒ…ã€‚æ–‡ç« è¯¦ç»†ä»‹ç»äº†é…ç½®æ–‡ä»¶çš„ç›®å½•ç»“æ„å’Œå…³é”®å‚æ•°ï¼Œä»¥åŠè‡ªåŠ¨åŒ–å‘å¸ƒçš„å…·ä½“æ­¥éª¤ã€‚",
        "æ›´æ–°æ—¶é—´": "2023-05-31T16:23:00.000Z",
        "title": "åˆ©ç”¨github actionsè‡ªåŠ¨åŒ–å‘å¸ƒnpm",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Github Actions",
          "Node"
        ],
        "status": "Published",
        "urlname": "335ae226-1802-4706-98b5-2a09bde056a1",
        "updated": "2023-05-31 16:23:00"
      },
      "url": "https://www.notion.so/github-actions-npm-335ae2261802470698b52a09bde056a1",
      "public_url": "https://1874.notion.site/github-actions-npm-335ae2261802470698b52a09bde056a1"
    },
    {
      "object": "page",
      "id": "d7b1453e-530d-4614-8d41-c5ac6972e351",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-05-31T16:23:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ¬"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2022-07-16",
        "type": "Post",
        "slug": "ovugli",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ Github Actions æŒç»­é›†æˆ Docker æ„å»ºå¹¶éƒ¨ç½² Node é¡¹ç›®åˆ°äº‘æœåŠ¡å™¨ã€‚å…·ä½“æµç¨‹åŒ…æ‹¬æ­å»º Node æœåŠ¡ã€å¼€é€šè…¾è®¯äº‘å®¹å™¨é•œåƒæœåŠ¡ã€é…ç½® Github Actionsã€ç¼–å†™ workflows æµç¨‹ã€è¿æ¥äº‘æœåŠ¡å™¨ã€é…ç½® DockerFile ç­‰ã€‚æœ€ç»ˆå®ç°æ¨é€ä»£ç åˆ° master åˆ†æ”¯è‡ªåŠ¨éƒ¨ç½²é¡¹ç›®ã€‚",
        "æ›´æ–°æ—¶é—´": "2023-05-31T16:23:00.000Z",
        "title": "Github ActionsæŒç»­é›†æˆ Dockeræ„å»ºå¹¶éƒ¨ç½²Nodeé¡¹ç›®åˆ°äº‘æœåŠ¡å™¨",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Docker",
          "CI/CD",
          "Node",
          "Github Actions"
        ],
        "status": "Published",
        "urlname": "d7b1453e-530d-4614-8d41-c5ac6972e351",
        "updated": "2023-05-31 16:23:00"
      },
      "url": "https://www.notion.so/Github-Actions-Docker-Node-d7b1453e530d46148d41c5ac6972e351",
      "public_url": "https://1874.notion.site/Github-Actions-Docker-Node-d7b1453e530d46148d41c5ac6972e351"
    },
    {
      "object": "page",
      "id": "f674c03b-a560-4d80-984a-ede9d0ec6d9f",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-05-31T16:23:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ‡"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2022-04-28",
        "type": "Post",
        "slug": "wqx8a7",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "è¯¥æ–‡æ¡£ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨node-agile-clientä¸ºå¼€æºç¤¾åŒºåšè´¡çŒ®ï¼Œå¼€å‘AgileConfigçš„NodeJSå®¢æˆ·ç«¯ã€‚è¯¥å®¢æˆ·ç«¯åŒ…æ‹¬äº†å¼‚æ­¥è·å–agileé…ç½®ã€ä»ç¼“å­˜ä¸­è·å–agileé…ç½®ã€ä»æœåŠ¡ç«¯è·å–é…ç½®å¹¶å†™å…¥ç¼“å­˜ã€åŒæ­¥è·å–Agileé…ç½®ç­‰åŠŸèƒ½ã€‚é€šè¿‡è¯¥å®¢æˆ·ç«¯ï¼Œå¯ä»¥è½»æ¾è·å–åˆ°Agileé…ç½®ã€‚",
        "æ›´æ–°æ—¶é—´": "2023-05-31T16:23:00.000Z",
        "title": "ä¸ºå¼€æºç¤¾åŒºåšè´¡çŒ®-å¼€å‘AgileConfigçš„NodeJSå®¢æˆ·ç«¯ï¼šnode-agile-client",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "Node"
        ],
        "status": "Published",
        "urlname": "f674c03b-a560-4d80-984a-ede9d0ec6d9f",
        "updated": "2023-05-31 16:23:00"
      },
      "url": "https://www.notion.so/AgileConfig-NodeJS-node-agile-client-f674c03ba5604d80984aede9d0ec6d9f",
      "public_url": "https://1874.notion.site/AgileConfig-NodeJS-node-agile-client-f674c03ba5604d80984aede9d0ec6d9f"
    },
    {
      "object": "page",
      "id": "08ccfc16-c8cb-42a2-ad65-b37c4d49ce78",
      "created_time": "2023-04-07T19:15:00.000Z",
      "last_edited_time": "2023-04-10T05:04:00.000Z",
      "created_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "last_edited_by": {
        "object": "user",
        "id": "b82f6c4e-be35-49b9-b539-7f72b6e7e246"
      },
      "cover": null,
      "icon": {
        "type": "emoji",
        "emoji": "ğŸ“…"
      },
      "parent": {
        "type": "database_id",
        "database_id": "eefc9490-e29c-4969-a7a1-fdd99bf743e0"
      },
      "archived": false,
      "properties": {
        "password": "",
        "icon": "",
        "åˆ›å»ºæ—¶é—´": "2023-04-07T19:15:00.000Z",
        "date": "2022-04-19",
        "type": "Post",
        "slug": "rm057k",
        "é…ç½®ç±»å‹": {
          "type": "string",
          "string": "æ–‡æ¡£"
        },
        "summary": "Alfred YYDS",
        "æ›´æ–°æ—¶é—´": "2023-04-10T05:04:00.000Z",
        "title": "ç¨‹åºå‘˜å¿…å¤‡â€”â€”Macæ•ˆç‡å·¥å…·Alfred Workflowsé…ç½®",
        "category": "æŠ€æœ¯åˆ†äº«",
        "tags": [
          "æ•ˆç‡å·¥å…·"
        ],
        "status": "Published",
        "urlname": "08ccfc16-c8cb-42a2-ad65-b37c4d49ce78",
        "updated": "2023-04-10 05:04:00"
      },
      "url": "https://www.notion.so/Mac-Alfred-Workflows-08ccfc16c8cb42a2ad65b37c4d49ce78",
      "public_url": "https://1874.notion.site/Mac-Alfred-Workflows-08ccfc16c8cb42a2ad65b37c4d49ce78"
    }
  ]
}